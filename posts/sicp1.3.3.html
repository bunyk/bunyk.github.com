<!DOCTYPE html><html><head><meta name="viewport" content="width=device-width"/><meta charSet="utf-8"/><title>SICP 1.3.3 Procedures as general methods</title><meta name="next-head-count" content="3"/><link rel="preload" href="/_next/static/css/f969c0c492dd18a0081f.css" as="style"/><link rel="stylesheet" href="/_next/static/css/f969c0c492dd18a0081f.css" data-n-g=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/_next/static/chunks/polyfills-a40ef1678bae11e696dba45124eadd70.js"></script><script src="/_next/static/chunks/webpack-fb76148cfcfb42ca18eb.js" defer=""></script><script src="/_next/static/chunks/framework-2191d16384373197bc0a.js" defer=""></script><script src="/_next/static/chunks/main-89e612c37cd79392e22d.js" defer=""></script><script src="/_next/static/chunks/pages/_app-459ac92bde4bcd5c6050.js" defer=""></script><script src="/_next/static/chunks/762-0f685813c4b6ace6d024.js" defer=""></script><script src="/_next/static/chunks/pages/posts/%5Bid%5D-338567653ad135dab1d7.js" defer=""></script><script src="/_next/static/sMnLAto4YhgRliyLu0bmY/_buildManifest.js" defer=""></script><script src="/_next/static/sMnLAto4YhgRliyLu0bmY/_ssgManifest.js" defer=""></script></head><body><div id="__next"><div class="MuiContainer-root MuiContainer-maxWidthMd"><div class="MuiToolbar-root MuiToolbar-regular jss1 MuiToolbar-gutters"><h1 class="MuiTypography-root jss2 MuiTypography-h5 MuiTypography-noWrap" aligh="center">Taras Bunyk</h1></div><nav class="MuiToolbar-root MuiToolbar-dense jss3 MuiToolbar-gutters"><a href="/">Home</a><a href="http://bunyk.github.io/mandala/">Snowflake drawing</a><a href="/resume">Resume</a><a href="https://bunyk.wordpress.com/">Old blog (in Ukrainian)</a></nav><div class="MuiGrid-root MuiGrid-container MuiGrid-spacing-xs-5"><div class="MuiGrid-root MuiGrid-item MuiGrid-grid-xs-12 MuiGrid-grid-md-9"><div class="MuiPaper-root MuiCard-root MuiPaper-elevation1 MuiPaper-rounded"><div class="MuiCardHeader-root"><div class="MuiCardHeader-content"><span class="MuiTypography-root MuiCardHeader-title MuiTypography-h5 MuiTypography-displayBlock">SICP 1.3.3 Procedures as general methods</span><span class="MuiTypography-root MuiCardHeader-subheader MuiTypography-body1 MuiTypography-colorTextSecondary MuiTypography-displayBlock">Published: 2020-06-29 Tags: SICP</span></div></div><div class="MuiCardContent-root"><p>I'll attach solution from previous section to this post as it was the only exercise there.</p>
<h2>Exercise 1.34 Runtime error with types</h2>
<pre><code class="hljs language-scheme">(<span class="hljs-name"><span class="hljs-builtin-name">define</span></span> (<span class="hljs-name">f</span> g)
  (<span class="hljs-name">g</span> <span class="hljs-number">2</span>))
(<span class="hljs-name">f</span> f) -> (<span class="hljs-name">f</span> <span class="hljs-number">2</span>) -> (<span class="hljs-name">2</span> <span class="hljs-number">2</span>)</code></pre>
<p>2 is obviously not a function, so scheme gives error when you try to apply it as function.</p>
<h2>Exercise 1.35 Use fixed point procedure for finding golden ratio</h2>
<p>So, let's divide both sides of equation Φ2 = Φ + 1. We get Φ  = 1 + 1/Φ - and this is exactly the formula to find fixed point for.</p>
<pre><code class="hljs language-scheme">(<span class="hljs-name"><span class="hljs-builtin-name">define</span></span> tolerance <span class="hljs-number">0.00001</span>)
(<span class="hljs-name"><span class="hljs-builtin-name">define</span></span> (<span class="hljs-name">fixed-point</span> f first-guess)
  (<span class="hljs-name"><span class="hljs-builtin-name">define</span></span> (<span class="hljs-name">close-enough?</span> v1 v2)
    (<span class="hljs-name"><span class="hljs-builtin-name">&#x3C;</span></span> (<span class="hljs-name"><span class="hljs-builtin-name">abs</span></span> (<span class="hljs-name"><span class="hljs-builtin-name">-</span></span> v1 v2)) tolerance))
  (<span class="hljs-name"><span class="hljs-builtin-name">define</span></span> (<span class="hljs-name">try</span> guess)
    (<span class="hljs-name"><span class="hljs-builtin-name">let</span></span> ((<span class="hljs-name">next</span> (<span class="hljs-name">f</span> guess)))
      (<span class="hljs-name"><span class="hljs-builtin-name">if</span></span> (<span class="hljs-name">close-enough?</span> guess next)
          next
          (<span class="hljs-name">try</span> next))))
  (<span class="hljs-name">try</span> first-guess))
(<span class="hljs-name">fixed-point</span> (<span class="hljs-name"><span class="hljs-builtin-name">lambda</span></span> (x) (<span class="hljs-name"><span class="hljs-builtin-name">+</span></span> <span class="hljs-number">1</span> (<span class="hljs-name"><span class="hljs-builtin-name">/</span></span> <span class="hljs-number">1</span> x))) <span class="hljs-number">1.0</span>)</code></pre>
<h2>Exercise 1.36 Printing sequence of approximations</h2>
<pre><code class="hljs language-scheme">(<span class="hljs-name"><span class="hljs-builtin-name">define</span></span> tolerance <span class="hljs-number">0.00001</span>)
(<span class="hljs-name"><span class="hljs-builtin-name">define</span></span> (<span class="hljs-name">fixed-point</span> f first-guess)
  (<span class="hljs-name"><span class="hljs-builtin-name">define</span></span> (<span class="hljs-name">close-enough?</span> v1 v2)
    (<span class="hljs-name"><span class="hljs-builtin-name">&#x3C;</span></span> (<span class="hljs-name"><span class="hljs-builtin-name">abs</span></span> (<span class="hljs-name"><span class="hljs-builtin-name">-</span></span> v1 v2)) tolerance))
  (<span class="hljs-name"><span class="hljs-builtin-name">define</span></span> (<span class="hljs-name">try</span> guess)
    (<span class="hljs-name"><span class="hljs-builtin-name">let</span></span> ((<span class="hljs-name">next</span> (<span class="hljs-name">f</span> guess)))
      (<span class="hljs-name"><span class="hljs-builtin-name">display</span></span> <span class="hljs-string">"Approximation: "</span>) (<span class="hljs-name"><span class="hljs-builtin-name">display</span></span> next)(<span class="hljs-name"><span class="hljs-builtin-name">newline</span></span>)
      (<span class="hljs-name"><span class="hljs-builtin-name">if</span></span> (<span class="hljs-name">close-enough?</span> guess next)
          next
          (<span class="hljs-name">try</span> next))))
  (<span class="hljs-name">try</span> first-guess))
(<span class="hljs-name">fixed-point</span> (<span class="hljs-name"><span class="hljs-builtin-name">lambda</span></span> (x) (<span class="hljs-name"><span class="hljs-builtin-name">/</span></span> (<span class="hljs-name"><span class="hljs-builtin-name">log</span></span> <span class="hljs-number">1000</span>) (<span class="hljs-name"><span class="hljs-builtin-name">log</span></span> x))) <span class="hljs-number">2.0</span>)</code></pre>
<h2>Exercise 1.37 Golden ratio from continued fraction</h2>
<pre><code class="hljs language-scheme">(<span class="hljs-name"><span class="hljs-builtin-name">define</span></span> (<span class="hljs-name">cont-frac</span> n d k)
  (<span class="hljs-name"><span class="hljs-builtin-name">define</span></span> (<span class="hljs-name">iter</span> i) 
    (<span class="hljs-name"><span class="hljs-builtin-name">/</span></span> (<span class="hljs-name">n</span> i) (<span class="hljs-name"><span class="hljs-builtin-name">if</span></span> (<span class="hljs-name"><span class="hljs-builtin-name">=</span></span> i k)
       (<span class="hljs-name">d</span> i)
       (<span class="hljs-name"><span class="hljs-builtin-name">+</span></span> (<span class="hljs-name">d</span> i) (<span class="hljs-name">iter</span> (<span class="hljs-name"><span class="hljs-builtin-name">+</span></span> i <span class="hljs-number">1</span>)))
    ))
  )
  (<span class="hljs-name">iter</span> <span class="hljs-number">1</span>)
)

(<span class="hljs-name"><span class="hljs-builtin-name">define</span></span> (<span class="hljs-name">golden</span> k)
    (<span class="hljs-name"><span class="hljs-builtin-name">/</span></span> <span class="hljs-number">1</span> (<span class="hljs-name">cont-frac</span> (<span class="hljs-name"><span class="hljs-builtin-name">lambda</span></span> (i) <span class="hljs-number">1.0</span>)
           (<span class="hljs-name"><span class="hljs-builtin-name">lambda</span></span> (i) <span class="hljs-number">1.0</span>)
           k))
)

(<span class="hljs-name">golden</span> <span class="hljs-number">12</span>)
<span class="hljs-comment">;Value: 1.6180555555555558</span>
</code></pre>
<p>Iterative continuous fraction:</p>
<pre><code class="hljs language-scheme">(<span class="hljs-name"><span class="hljs-builtin-name">define</span></span> (<span class="hljs-name">cont-frac</span> n d k)
  (<span class="hljs-name"><span class="hljs-builtin-name">define</span></span> (<span class="hljs-name">iter</span> i result) 
    (<span class="hljs-name"><span class="hljs-builtin-name">if</span></span> (<span class="hljs-name"><span class="hljs-builtin-name">=</span></span> i <span class="hljs-number">0</span>)
      result
      (<span class="hljs-name">iter</span>
        (<span class="hljs-name"><span class="hljs-builtin-name">-</span></span> i <span class="hljs-number">1</span>)
        (<span class="hljs-name"><span class="hljs-builtin-name">/</span></span> (<span class="hljs-name">n</span> i) (<span class="hljs-name"><span class="hljs-builtin-name">+</span></span> (<span class="hljs-name">d</span> i) result))
      )
    )
  )
  (<span class="hljs-name">iter</span> k <span class="hljs-number">0</span>)
)</code></pre>
<h2>Exercise 1.38 Euler number</h2>
<pre><code class="hljs language-scheme">(<span class="hljs-name"><span class="hljs-builtin-name">define</span></span> (<span class="hljs-name">e</span> k)
  (<span class="hljs-name"><span class="hljs-builtin-name">+</span></span> <span class="hljs-number">2</span> (<span class="hljs-name">cont-frac</span>
         (<span class="hljs-name"><span class="hljs-builtin-name">lambda</span></span> (i) <span class="hljs-number">1.0</span>)
         (<span class="hljs-name"><span class="hljs-builtin-name">lambda</span></span> (i)
           (<span class="hljs-name"><span class="hljs-builtin-name">if</span></span> (<span class="hljs-name"><span class="hljs-builtin-name">=</span></span> (<span class="hljs-name"><span class="hljs-builtin-name">remainder</span></span> i <span class="hljs-number">3</span>) <span class="hljs-number">2</span>)
             (<span class="hljs-name"><span class="hljs-builtin-name">*</span></span> (<span class="hljs-name"><span class="hljs-builtin-name">+</span></span> <span class="hljs-number">1</span> (<span class="hljs-name"><span class="hljs-builtin-name">floor</span></span> (<span class="hljs-name"><span class="hljs-builtin-name">/</span></span> i <span class="hljs-number">3</span>))) <span class="hljs-number">2</span>)
             <span class="hljs-number">1.0</span>
            )
         )
         k
  ))
)

(<span class="hljs-name">e</span> <span class="hljs-number">15</span>)
<span class="hljs-comment">;Value: 2.718281828470584</span></code></pre>
<h2>Exercise 1.39 Continued fraction tangent</h2>
<pre><code class="hljs language-scheme">(<span class="hljs-name"><span class="hljs-builtin-name">define</span></span> (<span class="hljs-name"><span class="hljs-builtin-name">tan</span></span> x k)
  (<span class="hljs-name"><span class="hljs-builtin-name">let</span></span> ((<span class="hljs-name">n_sqr</span> (<span class="hljs-name"><span class="hljs-builtin-name">-</span></span> <span class="hljs-number">0</span> (<span class="hljs-name"><span class="hljs-builtin-name">*</span></span> x x))))
      (<span class="hljs-name"><span class="hljs-builtin-name">/</span></span> x (<span class="hljs-name"><span class="hljs-builtin-name">+</span></span> <span class="hljs-number">1</span> (<span class="hljs-name">cont-frac</span>
        (<span class="hljs-name"><span class="hljs-builtin-name">lambda</span></span> (i) n_sqr)
        (<span class="hljs-name"><span class="hljs-builtin-name">lambda</span></span> (i) (<span class="hljs-name"><span class="hljs-builtin-name">+</span></span> <span class="hljs-number">1</span> (<span class="hljs-name"><span class="hljs-builtin-name">*</span></span> i <span class="hljs-number">2</span>)))
        k
      )))
  )
)

(<span class="hljs-name"><span class="hljs-builtin-name">tan</span></span> (<span class="hljs-name"><span class="hljs-builtin-name">/</span></span> pi <span class="hljs-number">4</span>) <span class="hljs-number">100</span>)
<span class="hljs-comment">;Value: .9999999732051038</span>

(<span class="hljs-name"><span class="hljs-builtin-name">tan</span></span> (<span class="hljs-name"><span class="hljs-builtin-name">/</span></span> pi <span class="hljs-number">2</span>) <span class="hljs-number">1000</span>)
<span class="hljs-comment">;Value: 37320539.58514773</span>

(<span class="hljs-name"><span class="hljs-builtin-name">tan</span></span> <span class="hljs-number">0</span> <span class="hljs-number">100</span>)
<span class="hljs-comment">;Value: 0</span></code></pre>
<p>Approximately so.</p></div></div></div><div class="MuiGrid-root MuiGrid-item MuiGrid-grid-xs-12 MuiGrid-grid-md-3"><h6 class="MuiTypography-root jss5 MuiTypography-h6 MuiTypography-gutterBottom">Archives</h6><ul><li><a href="/month/2021-01/page/1">2021-01</a> <span title="posts count">(<!-- -->4<!-- -->)</span></li><li><a href="/month/2020-12/page/1">2020-12</a> <span title="posts count">(<!-- -->1<!-- -->)</span></li><li><a href="/month/2020-09/page/1">2020-09</a> <span title="posts count">(<!-- -->2<!-- -->)</span></li><li><a href="/month/2020-08/page/1">2020-08</a> <span title="posts count">(<!-- -->2<!-- -->)</span></li><li><a href="/month/2020-07/page/1">2020-07</a> <span title="posts count">(<!-- -->10<!-- -->)</span></li><li><a href="/month/2020-06/page/1">2020-06</a> <span title="posts count">(<!-- -->7<!-- -->)</span></li><li><a href="/month/2018-12/page/1">2018-12</a> <span title="posts count">(<!-- -->1<!-- -->)</span></li></ul><h6 class="MuiTypography-root jss5 MuiTypography-h6 MuiTypography-gutterBottom">Topics</h6><ul><li><a href="/tag/MOOC/page/1">MOOC</a> <span title="posts count">(<!-- -->2<!-- -->)</span></li><li><a href="/tag/SICP/page/1">SICP</a> <span title="posts count">(<!-- -->20<!-- -->)</span></li><li><a href="/tag/ideas/page/1">ideas</a> <span title="posts count">(<!-- -->1<!-- -->)</span></li><li><a href="/tag/notes/page/1">notes</a> <span title="posts count">(<!-- -->5<!-- -->)</span></li><li><a href="/tag/on%20writing/page/1">on writing</a> <span title="posts count">(<!-- -->3<!-- -->)</span></li></ul></div><p class="MuiTypography-root MuiTypography-body2 MuiTypography-colorTextSecondary MuiTypography-alignCenter">© <!-- -->2021<!-- --> Bunyk Taras. Built with Material UI &amp; Next.js</p></div></div></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"post":{"id":"sicp1.3.3","title":"SICP 1.3.3 Procedures as general methods","date":"2020-06-29","tags":["SICP"],"excerpt":"\u003cp\u003eI'll attach solution from previous section to this post as it was the only exercise there.\u003c/p\u003e","content":"\u003cp\u003eI'll attach solution from previous section to this post as it was the only exercise there.\u003c/p\u003e\n\u003ch2\u003eExercise 1.34 Runtime error with types\u003c/h2\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-scheme\"\u003e(\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003edefine\u003c/span\u003e\u003c/span\u003e (\u003cspan class=\"hljs-name\"\u003ef\u003c/span\u003e g)\n  (\u003cspan class=\"hljs-name\"\u003eg\u003c/span\u003e \u003cspan class=\"hljs-number\"\u003e2\u003c/span\u003e))\n(\u003cspan class=\"hljs-name\"\u003ef\u003c/span\u003e f) -\u003e (\u003cspan class=\"hljs-name\"\u003ef\u003c/span\u003e \u003cspan class=\"hljs-number\"\u003e2\u003c/span\u003e) -\u003e (\u003cspan class=\"hljs-name\"\u003e2\u003c/span\u003e \u003cspan class=\"hljs-number\"\u003e2\u003c/span\u003e)\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e2 is obviously not a function, so scheme gives error when you try to apply it as function.\u003c/p\u003e\n\u003ch2\u003eExercise 1.35 Use fixed point procedure for finding golden ratio\u003c/h2\u003e\n\u003cp\u003eSo, let's divide both sides of equation Φ2 = Φ + 1. We get Φ  = 1 + 1/Φ - and this is exactly the formula to find fixed point for.\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-scheme\"\u003e(\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003edefine\u003c/span\u003e\u003c/span\u003e tolerance \u003cspan class=\"hljs-number\"\u003e0.00001\u003c/span\u003e)\n(\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003edefine\u003c/span\u003e\u003c/span\u003e (\u003cspan class=\"hljs-name\"\u003efixed-point\u003c/span\u003e f first-guess)\n  (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003edefine\u003c/span\u003e\u003c/span\u003e (\u003cspan class=\"hljs-name\"\u003eclose-enough?\u003c/span\u003e v1 v2)\n    (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003e\u0026#x3C;\u003c/span\u003e\u003c/span\u003e (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003eabs\u003c/span\u003e\u003c/span\u003e (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003e-\u003c/span\u003e\u003c/span\u003e v1 v2)) tolerance))\n  (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003edefine\u003c/span\u003e\u003c/span\u003e (\u003cspan class=\"hljs-name\"\u003etry\u003c/span\u003e guess)\n    (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003elet\u003c/span\u003e\u003c/span\u003e ((\u003cspan class=\"hljs-name\"\u003enext\u003c/span\u003e (\u003cspan class=\"hljs-name\"\u003ef\u003c/span\u003e guess)))\n      (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003eif\u003c/span\u003e\u003c/span\u003e (\u003cspan class=\"hljs-name\"\u003eclose-enough?\u003c/span\u003e guess next)\n          next\n          (\u003cspan class=\"hljs-name\"\u003etry\u003c/span\u003e next))))\n  (\u003cspan class=\"hljs-name\"\u003etry\u003c/span\u003e first-guess))\n(\u003cspan class=\"hljs-name\"\u003efixed-point\u003c/span\u003e (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003elambda\u003c/span\u003e\u003c/span\u003e (x) (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003e+\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"hljs-number\"\u003e1\u003c/span\u003e (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003e/\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"hljs-number\"\u003e1\u003c/span\u003e x))) \u003cspan class=\"hljs-number\"\u003e1.0\u003c/span\u003e)\u003c/code\u003e\u003c/pre\u003e\n\u003ch2\u003eExercise 1.36 Printing sequence of approximations\u003c/h2\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-scheme\"\u003e(\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003edefine\u003c/span\u003e\u003c/span\u003e tolerance \u003cspan class=\"hljs-number\"\u003e0.00001\u003c/span\u003e)\n(\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003edefine\u003c/span\u003e\u003c/span\u003e (\u003cspan class=\"hljs-name\"\u003efixed-point\u003c/span\u003e f first-guess)\n  (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003edefine\u003c/span\u003e\u003c/span\u003e (\u003cspan class=\"hljs-name\"\u003eclose-enough?\u003c/span\u003e v1 v2)\n    (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003e\u0026#x3C;\u003c/span\u003e\u003c/span\u003e (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003eabs\u003c/span\u003e\u003c/span\u003e (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003e-\u003c/span\u003e\u003c/span\u003e v1 v2)) tolerance))\n  (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003edefine\u003c/span\u003e\u003c/span\u003e (\u003cspan class=\"hljs-name\"\u003etry\u003c/span\u003e guess)\n    (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003elet\u003c/span\u003e\u003c/span\u003e ((\u003cspan class=\"hljs-name\"\u003enext\u003c/span\u003e (\u003cspan class=\"hljs-name\"\u003ef\u003c/span\u003e guess)))\n      (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003edisplay\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e\"Approximation: \"\u003c/span\u003e) (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003edisplay\u003c/span\u003e\u003c/span\u003e next)(\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003enewline\u003c/span\u003e\u003c/span\u003e)\n      (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003eif\u003c/span\u003e\u003c/span\u003e (\u003cspan class=\"hljs-name\"\u003eclose-enough?\u003c/span\u003e guess next)\n          next\n          (\u003cspan class=\"hljs-name\"\u003etry\u003c/span\u003e next))))\n  (\u003cspan class=\"hljs-name\"\u003etry\u003c/span\u003e first-guess))\n(\u003cspan class=\"hljs-name\"\u003efixed-point\u003c/span\u003e (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003elambda\u003c/span\u003e\u003c/span\u003e (x) (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003e/\u003c/span\u003e\u003c/span\u003e (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003elog\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"hljs-number\"\u003e1000\u003c/span\u003e) (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003elog\u003c/span\u003e\u003c/span\u003e x))) \u003cspan class=\"hljs-number\"\u003e2.0\u003c/span\u003e)\u003c/code\u003e\u003c/pre\u003e\n\u003ch2\u003eExercise 1.37 Golden ratio from continued fraction\u003c/h2\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-scheme\"\u003e(\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003edefine\u003c/span\u003e\u003c/span\u003e (\u003cspan class=\"hljs-name\"\u003econt-frac\u003c/span\u003e n d k)\n  (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003edefine\u003c/span\u003e\u003c/span\u003e (\u003cspan class=\"hljs-name\"\u003eiter\u003c/span\u003e i) \n    (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003e/\u003c/span\u003e\u003c/span\u003e (\u003cspan class=\"hljs-name\"\u003en\u003c/span\u003e i) (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003eif\u003c/span\u003e\u003c/span\u003e (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003e=\u003c/span\u003e\u003c/span\u003e i k)\n       (\u003cspan class=\"hljs-name\"\u003ed\u003c/span\u003e i)\n       (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003e+\u003c/span\u003e\u003c/span\u003e (\u003cspan class=\"hljs-name\"\u003ed\u003c/span\u003e i) (\u003cspan class=\"hljs-name\"\u003eiter\u003c/span\u003e (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003e+\u003c/span\u003e\u003c/span\u003e i \u003cspan class=\"hljs-number\"\u003e1\u003c/span\u003e)))\n    ))\n  )\n  (\u003cspan class=\"hljs-name\"\u003eiter\u003c/span\u003e \u003cspan class=\"hljs-number\"\u003e1\u003c/span\u003e)\n)\n\n(\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003edefine\u003c/span\u003e\u003c/span\u003e (\u003cspan class=\"hljs-name\"\u003egolden\u003c/span\u003e k)\n    (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003e/\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"hljs-number\"\u003e1\u003c/span\u003e (\u003cspan class=\"hljs-name\"\u003econt-frac\u003c/span\u003e (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003elambda\u003c/span\u003e\u003c/span\u003e (i) \u003cspan class=\"hljs-number\"\u003e1.0\u003c/span\u003e)\n           (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003elambda\u003c/span\u003e\u003c/span\u003e (i) \u003cspan class=\"hljs-number\"\u003e1.0\u003c/span\u003e)\n           k))\n)\n\n(\u003cspan class=\"hljs-name\"\u003egolden\u003c/span\u003e \u003cspan class=\"hljs-number\"\u003e12\u003c/span\u003e)\n\u003cspan class=\"hljs-comment\"\u003e;Value: 1.6180555555555558\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eIterative continuous fraction:\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-scheme\"\u003e(\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003edefine\u003c/span\u003e\u003c/span\u003e (\u003cspan class=\"hljs-name\"\u003econt-frac\u003c/span\u003e n d k)\n  (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003edefine\u003c/span\u003e\u003c/span\u003e (\u003cspan class=\"hljs-name\"\u003eiter\u003c/span\u003e i result) \n    (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003eif\u003c/span\u003e\u003c/span\u003e (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003e=\u003c/span\u003e\u003c/span\u003e i \u003cspan class=\"hljs-number\"\u003e0\u003c/span\u003e)\n      result\n      (\u003cspan class=\"hljs-name\"\u003eiter\u003c/span\u003e\n        (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003e-\u003c/span\u003e\u003c/span\u003e i \u003cspan class=\"hljs-number\"\u003e1\u003c/span\u003e)\n        (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003e/\u003c/span\u003e\u003c/span\u003e (\u003cspan class=\"hljs-name\"\u003en\u003c/span\u003e i) (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003e+\u003c/span\u003e\u003c/span\u003e (\u003cspan class=\"hljs-name\"\u003ed\u003c/span\u003e i) result))\n      )\n    )\n  )\n  (\u003cspan class=\"hljs-name\"\u003eiter\u003c/span\u003e k \u003cspan class=\"hljs-number\"\u003e0\u003c/span\u003e)\n)\u003c/code\u003e\u003c/pre\u003e\n\u003ch2\u003eExercise 1.38 Euler number\u003c/h2\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-scheme\"\u003e(\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003edefine\u003c/span\u003e\u003c/span\u003e (\u003cspan class=\"hljs-name\"\u003ee\u003c/span\u003e k)\n  (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003e+\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"hljs-number\"\u003e2\u003c/span\u003e (\u003cspan class=\"hljs-name\"\u003econt-frac\u003c/span\u003e\n         (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003elambda\u003c/span\u003e\u003c/span\u003e (i) \u003cspan class=\"hljs-number\"\u003e1.0\u003c/span\u003e)\n         (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003elambda\u003c/span\u003e\u003c/span\u003e (i)\n           (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003eif\u003c/span\u003e\u003c/span\u003e (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003e=\u003c/span\u003e\u003c/span\u003e (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003eremainder\u003c/span\u003e\u003c/span\u003e i \u003cspan class=\"hljs-number\"\u003e3\u003c/span\u003e) \u003cspan class=\"hljs-number\"\u003e2\u003c/span\u003e)\n             (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003e*\u003c/span\u003e\u003c/span\u003e (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003e+\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"hljs-number\"\u003e1\u003c/span\u003e (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003efloor\u003c/span\u003e\u003c/span\u003e (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003e/\u003c/span\u003e\u003c/span\u003e i \u003cspan class=\"hljs-number\"\u003e3\u003c/span\u003e))) \u003cspan class=\"hljs-number\"\u003e2\u003c/span\u003e)\n             \u003cspan class=\"hljs-number\"\u003e1.0\u003c/span\u003e\n            )\n         )\n         k\n  ))\n)\n\n(\u003cspan class=\"hljs-name\"\u003ee\u003c/span\u003e \u003cspan class=\"hljs-number\"\u003e15\u003c/span\u003e)\n\u003cspan class=\"hljs-comment\"\u003e;Value: 2.718281828470584\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\n\u003ch2\u003eExercise 1.39 Continued fraction tangent\u003c/h2\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-scheme\"\u003e(\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003edefine\u003c/span\u003e\u003c/span\u003e (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003etan\u003c/span\u003e\u003c/span\u003e x k)\n  (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003elet\u003c/span\u003e\u003c/span\u003e ((\u003cspan class=\"hljs-name\"\u003en_sqr\u003c/span\u003e (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003e-\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"hljs-number\"\u003e0\u003c/span\u003e (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003e*\u003c/span\u003e\u003c/span\u003e x x))))\n      (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003e/\u003c/span\u003e\u003c/span\u003e x (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003e+\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"hljs-number\"\u003e1\u003c/span\u003e (\u003cspan class=\"hljs-name\"\u003econt-frac\u003c/span\u003e\n        (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003elambda\u003c/span\u003e\u003c/span\u003e (i) n_sqr)\n        (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003elambda\u003c/span\u003e\u003c/span\u003e (i) (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003e+\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"hljs-number\"\u003e1\u003c/span\u003e (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003e*\u003c/span\u003e\u003c/span\u003e i \u003cspan class=\"hljs-number\"\u003e2\u003c/span\u003e)))\n        k\n      )))\n  )\n)\n\n(\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003etan\u003c/span\u003e\u003c/span\u003e (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003e/\u003c/span\u003e\u003c/span\u003e pi \u003cspan class=\"hljs-number\"\u003e4\u003c/span\u003e) \u003cspan class=\"hljs-number\"\u003e100\u003c/span\u003e)\n\u003cspan class=\"hljs-comment\"\u003e;Value: .9999999732051038\u003c/span\u003e\n\n(\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003etan\u003c/span\u003e\u003c/span\u003e (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003e/\u003c/span\u003e\u003c/span\u003e pi \u003cspan class=\"hljs-number\"\u003e2\u003c/span\u003e) \u003cspan class=\"hljs-number\"\u003e1000\u003c/span\u003e)\n\u003cspan class=\"hljs-comment\"\u003e;Value: 37320539.58514773\u003c/span\u003e\n\n(\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003etan\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"hljs-number\"\u003e0\u003c/span\u003e \u003cspan class=\"hljs-number\"\u003e100\u003c/span\u003e)\n\u003cspan class=\"hljs-comment\"\u003e;Value: 0\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eApproximately so.\u003c/p\u003e"},"archives":[{"url":"/month/2021-01/page/1","id":"2021-01","count":4,"title":"2021-01"},{"url":"/month/2020-12/page/1","id":"2020-12","count":1,"title":"2020-12"},{"url":"/month/2020-09/page/1","id":"2020-09","count":2,"title":"2020-09"},{"url":"/month/2020-08/page/1","id":"2020-08","count":2,"title":"2020-08"},{"url":"/month/2020-07/page/1","id":"2020-07","count":10,"title":"2020-07"},{"url":"/month/2020-06/page/1","id":"2020-06","count":7,"title":"2020-06"},{"url":"/month/2018-12/page/1","id":"2018-12","count":1,"title":"2018-12"}],"topics":[{"url":"/tag/MOOC/page/1","id":"MOOC","title":"MOOC","count":2},{"url":"/tag/SICP/page/1","id":"SICP","title":"SICP","count":20},{"url":"/tag/ideas/page/1","id":"ideas","title":"ideas","count":1},{"url":"/tag/notes/page/1","id":"notes","title":"notes","count":5},{"url":"/tag/on writing/page/1","id":"on writing","title":"on writing","count":3}]},"__N_SSG":true},"page":"/posts/[id]","query":{"id":"sicp1.3.3"},"buildId":"sMnLAto4YhgRliyLu0bmY","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>