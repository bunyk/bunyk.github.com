<!DOCTYPE html>
<html lang="en-us">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<title>SICP 2.2.1 Sequences</title>
	<meta name="description" content="">
	<meta name="generator" content="Hugo 0.48-DEV" />
	
	
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">
	<link rel="stylesheet" href="/css/style.css">
	<link rel="stylesheet" href="/style.css">
	<script type="text/javascript" src="/js/scripts.js"></script>
	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container">
		<div class="logo" role="banner">
			<a class="logo__link" href="/" title="Bunyk Taras" rel="home">
				<div class="logo__title">Bunyk Taras</div>
				
			</a>
		</div>
	</div>
	
<nav class="menu">
	<ul class="menu__list">
		<li class="menu__item"><a class="menu__link" href="/">HOME</a></li>
		<li class="menu__item"><a class="menu__link" href="/resume/">RESUME</a></li>
		<li class="menu__item"><a class="menu__link" href="https://bunyk.wordpress.com/">OLD BLOG</a></li>
	</ul>
</nav>

</header>
		<div class="wrapper flex">
			<section class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">SICP 2.2.1 Sequences</h1><div class="post__meta meta">
<svg class="icon icon-time" width="16" height="14" viewBox="0 0 16 16"><path d="m8-.0000003c-4.4 0-8 3.6-8 8 0 4.4000003 3.6 8.0000003 8 8.0000003 4.4 0 8-3.6 8-8.0000003 0-4.4-3.6-8-8-8zm0 14.4000003c-3.52 0-6.4-2.88-6.4-6.4000003 0-3.52 2.88-6.4 6.4-6.4 3.52 0 6.4 2.88 6.4 6.4 0 3.5200003-2.88 6.4000003-6.4 6.4000003zm.4-10.4000003h-1.2v4.8l4.16 2.5600003.64-1.04-3.6-2.1600003z"/></svg>
<time class="post__meta-date meta-date" datetime="2020-07-16T23:39:38">July 16, 2020</time></div>
		</header><div class="content post__content clearfix">
			<p>Finally, the thing Lisp was named after.</p>

<p>Fix MIT Scheme to be like SICP scheme using this:</p>

<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-scheme" data-lang="scheme">(<span style="color:#66d9ef">define </span>nil <span style="color:#f92672">&#39;</span>())</code></pre></div>

<p></p>

<h2 id="exercise-2-17">Exercise 2.17</h2>

<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-scheme" data-lang="scheme">(<span style="color:#66d9ef">define </span>(last-pair l)
  (<span style="color:#66d9ef">if </span>(null? (cdr l))
    l
    (last-pair (cdr l))
  )
)
(last-pair (list <span style="color:#ae81ff">23</span> <span style="color:#ae81ff">72</span> <span style="color:#ae81ff">149</span> <span style="color:#ae81ff">34</span>))</code></pre></div>

<h2 id="exercise-2-18">Exercise 2.18</h2>

<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-scheme" data-lang="scheme">(<span style="color:#66d9ef">define </span>(reverse l)
  (<span style="color:#66d9ef">define </span>(iter src dst)
    (<span style="color:#66d9ef">if </span>(null? src)
      dst
      (iter (cdr src) (cons (car src) dst))
    )
  )
  (iter l nil)
)
(reverse (list <span style="color:#ae81ff">1</span> <span style="color:#ae81ff">2</span> <span style="color:#ae81ff">3</span> <span style="color:#ae81ff">4</span>))</code></pre></div>

<h2 id="exercise-2-19">Exercise 2.19</h2>

<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-scheme" data-lang="scheme">(<span style="color:#66d9ef">define </span>us-coins (list <span style="color:#ae81ff">50</span> <span style="color:#ae81ff">25</span> <span style="color:#ae81ff">10</span> <span style="color:#ae81ff">5</span> <span style="color:#ae81ff">1</span>))
(<span style="color:#66d9ef">define </span>uk-coins (list <span style="color:#ae81ff">100</span> <span style="color:#ae81ff">50</span> <span style="color:#ae81ff">20</span> <span style="color:#ae81ff">10</span> <span style="color:#ae81ff">5</span> <span style="color:#ae81ff">2</span> <span style="color:#ae81ff">1</span> <span style="color:#ae81ff">0.5</span>))

(<span style="color:#66d9ef">define </span>(cc amount coin-values)
  (<span style="color:#66d9ef">cond </span>((= amount <span style="color:#ae81ff">0</span>) <span style="color:#ae81ff">1</span>)
        ((<span style="color:#66d9ef">or </span>(&lt; amount <span style="color:#ae81ff">0</span>) (no-more? coin-values)) <span style="color:#ae81ff">0</span>)
        (else
         (+ (cc amount
                (except-first-denomination coin-values))
            (cc (- amount
                   (first-denomination coin-values))
                coin-values)))))</code></pre></div>

<p>Answer:</p>

<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-scheme" data-lang="scheme">  (<span style="color:#66d9ef">define </span>no-more? null?)
  (<span style="color:#66d9ef">define </span>except-first-denomination cdr)
  (<span style="color:#66d9ef">define </span>first-denomination car)</code></pre></div>

<p>Order does not matter, because we just sum amount without each element, and with.</p>

<h2 id="exercise-2-20">Exercise 2.20</h2>

<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-scheme" data-lang="scheme">(<span style="color:#66d9ef">define </span>(same-parity n <span style="color:#f92672">.</span> l)
  (<span style="color:#66d9ef">define </span>(matches x) 
    (= (remainder n <span style="color:#ae81ff">2</span>) (remainder x <span style="color:#ae81ff">2</span>))
  )
  (<span style="color:#66d9ef">define </span>(iter l) 
    (<span style="color:#66d9ef">if </span>(null? l)
      nil
      (<span style="color:#66d9ef">if </span>(matches (car l))
        (cons (car l) (iter (cdr l)))
        (iter (cdr l))
      )
    )
  )
  (cons n (iter l))
)</code></pre></div>

<h2 id="exercise-2-21">Exercise 2.21</h2>

<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-scheme" data-lang="scheme">(<span style="color:#66d9ef">define </span>(sqr x) (* x x))
(<span style="color:#66d9ef">define </span>(square-list items)
  (<span style="color:#66d9ef">if </span>(null? items)
      nil
      (cons (sqr (car items)) (square-list (cdr items)))))

(<span style="color:#66d9ef">define </span>(square-list items)
  (map sqr items))</code></pre></div>

<h2 id="exercise-2-22">Exercise 2.22</h2>

<p>What is <code>cons</code>-ed into list first will be at the end of list.</p>

<p>If we swap arguments to cons, then we will have the same hierarchy (what was consed first is at deepest pair), just link to the next pair is first element of pair, and value is second. To work with such structure properly, we will have to swap  car and cdr.</p>

<h2 id="exercise-2-23">Exercise 2.23</h2>

<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-scheme" data-lang="scheme">(<span style="color:#66d9ef">define </span>(for-each f items)
  (<span style="color:#66d9ef">if </span>(null? items)
    <span style="color:#ae81ff">0</span>
    ((<span style="color:#66d9ef">lambda </span>() <span style="color:#75715e">; Need some proper way to write blocks of code in if</span>
      (f (car items))
      (for-each f (cdr items))
    ))
  )
)

(for-each (<span style="color:#66d9ef">lambda </span>(x) (newline) (display x))
          (list <span style="color:#ae81ff">57</span> <span style="color:#ae81ff">321</span> <span style="color:#ae81ff">88</span>))</code></pre></div>
		</div>
		
<div class="post__tags tags clearfix">
	<svg class="icon icon-tag" width="16" height="16" viewBox="0 0 16 16"><path d="M16 9.5c0 .373-.24.74-.5 1l-5 5c-.275.26-.634.5-1 .5-.373 0-.74-.24-1-.5L1 8a2.853 2.853 0 0 1-.7-1C.113 6.55 0 5.973 0 5.6V1.4C0 1.034.134.669.401.401.67.134 1.034 0 1.4 0h4.2c.373 0 .95.113 1.4.3.45.187.732.432 1 .7l7.5 7.502c.26.274.5.632.5.998zM3.5 5a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3z"/></svg>
	<ul class="tags__list">
		<li class="tags__item"><a class="tags__link btn" href="/tags/sicp/" rel="tag">SICP</a></li>
	</ul>
</div>
	</article>
</main>



<section class="comments">
	<div id="disqus_thread"></div>
<script type="application/javascript">
    var disqus_config = function () {
    
    
    
    };
    (function() {
        if (["localhost", "127.0.0.1"].indexOf(window.location.hostname) != -1) {
            document.getElementById('disqus_thread').innerHTML = 'Disqus comments not available by default when the website is previewed locally.';
            return;
        }
        var d = document, s = d.createElement('script'); s.async = true;
        s.src = '//' + "bunykshumblehomepage" + '.disqus.com/embed.js';
        s.setAttribute('data-timestamp', +new Date());
        (d.head || d.body).appendChild(s);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="https://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
</section>


			</section>
			
		</div>
		<footer class="footer">
	<div class="container">
		<div class="footer__copyright">&copy; 2021 Bunyk Taras. <span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span></div>
	</div>
</footer>
	</div>
<script>
	var navigation = responsiveNav(".menu", {
		navClass: "menu--collapse",
		label: "Menu",
	});
</script></body>
</html>
