<!DOCTYPE html><html><head><meta name="viewport" content="width=device-width"/><meta charSet="utf-8"/><title>SICP 2.2.1 Sequences</title><meta name="next-head-count" content="3"/><link rel="preload" href="/_next/static/css/b53cc6ef9e9e352d.css" as="style"/><link rel="stylesheet" href="/_next/static/css/b53cc6ef9e9e352d.css" data-n-g=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/_next/static/chunks/polyfills-5cd94c89d3acac5f.js"></script><script src="/_next/static/chunks/webpack-514908bffb652963.js" defer=""></script><script src="/_next/static/chunks/framework-91d7f78b5b4003c8.js" defer=""></script><script src="/_next/static/chunks/main-6099a486a931d74e.js" defer=""></script><script src="/_next/static/chunks/pages/_app-9ca9bb1f507791d0.js" defer=""></script><script src="/_next/static/chunks/619-c0371b8e9caf1c9c.js" defer=""></script><script src="/_next/static/chunks/pages/posts/%5Bid%5D-4db4240577d24d91.js" defer=""></script><script src="/_next/static/5w1ZnTTJHYIN3dOLYBM3S/_buildManifest.js" defer=""></script><script src="/_next/static/5w1ZnTTJHYIN3dOLYBM3S/_ssgManifest.js" defer=""></script><script src="/_next/static/5w1ZnTTJHYIN3dOLYBM3S/_middlewareManifest.js" defer=""></script></head><body><div id="__next"><h1 id="top">Taras Bunyk</h1><nav><a href="/">Home</a><a href="http://bunyk.github.io/mandala/">Snowflake drawing</a><a href="/resume">Resume</a><a href="https://bunyk.wordpress.com/">Old blog (in Ukrainian)</a></nav><article><h1>SICP 2.2.1 Sequences</h1><div><em>Published: 2020-07-16T21:39:38.000Z</em></div><div><p>Finally, the thing Lisp was named after.</p>
<p>Fix MIT Scheme to be like SICP scheme using this:</p>
<pre><code class="hljs language-scheme">(<span class="hljs-name"><span class="hljs-built_in">define</span></span> nil '())</code></pre>
<h2>Exercise 2.17</h2>
<pre><code class="hljs language-scheme">(<span class="hljs-name"><span class="hljs-built_in">define</span></span> (<span class="hljs-name">last-pair</span> l)
  (<span class="hljs-name"><span class="hljs-built_in">if</span></span> (<span class="hljs-name"><span class="hljs-built_in">null?</span></span> (<span class="hljs-name"><span class="hljs-built_in">cdr</span></span> l))
    l
    (<span class="hljs-name">last-pair</span> (<span class="hljs-name"><span class="hljs-built_in">cdr</span></span> l))
  )
)
(<span class="hljs-name">last-pair</span> (<span class="hljs-name"><span class="hljs-built_in">list</span></span> <span class="hljs-number">23</span> <span class="hljs-number">72</span> <span class="hljs-number">149</span> <span class="hljs-number">34</span>))</code></pre>
<h2>Exercise 2.18</h2>
<pre><code class="hljs language-scheme">(<span class="hljs-name"><span class="hljs-built_in">define</span></span> (<span class="hljs-name"><span class="hljs-built_in">reverse</span></span> l)
  (<span class="hljs-name"><span class="hljs-built_in">define</span></span> (<span class="hljs-name">iter</span> src dst)
    (<span class="hljs-name"><span class="hljs-built_in">if</span></span> (<span class="hljs-name"><span class="hljs-built_in">null?</span></span> src)
      dst
      (<span class="hljs-name">iter</span> (<span class="hljs-name"><span class="hljs-built_in">cdr</span></span> src) (<span class="hljs-name"><span class="hljs-built_in">cons</span></span> (<span class="hljs-name"><span class="hljs-built_in">car</span></span> src) dst))
    )
  )
  (<span class="hljs-name">iter</span> l nil)
)
(<span class="hljs-name"><span class="hljs-built_in">reverse</span></span> (<span class="hljs-name"><span class="hljs-built_in">list</span></span> <span class="hljs-number">1</span> <span class="hljs-number">2</span> <span class="hljs-number">3</span> <span class="hljs-number">4</span>))</code></pre>
<h2>Exercise 2.19</h2>
<pre><code class="hljs language-scheme">(<span class="hljs-name"><span class="hljs-built_in">define</span></span> us-coins (<span class="hljs-name"><span class="hljs-built_in">list</span></span> <span class="hljs-number">50</span> <span class="hljs-number">25</span> <span class="hljs-number">10</span> <span class="hljs-number">5</span> <span class="hljs-number">1</span>))
(<span class="hljs-name"><span class="hljs-built_in">define</span></span> uk-coins (<span class="hljs-name"><span class="hljs-built_in">list</span></span> <span class="hljs-number">100</span> <span class="hljs-number">50</span> <span class="hljs-number">20</span> <span class="hljs-number">10</span> <span class="hljs-number">5</span> <span class="hljs-number">2</span> <span class="hljs-number">1</span> <span class="hljs-number">0.5</span>))

(<span class="hljs-name"><span class="hljs-built_in">define</span></span> (<span class="hljs-name">cc</span> amount coin-values)
  (<span class="hljs-name"><span class="hljs-built_in">cond</span></span> ((<span class="hljs-name"><span class="hljs-built_in">=</span></span> amount <span class="hljs-number">0</span>) <span class="hljs-number">1</span>)
        ((<span class="hljs-name"><span class="hljs-built_in">or</span></span> (<span class="hljs-name"><span class="hljs-built_in">&#x3C;</span></span> amount <span class="hljs-number">0</span>) (<span class="hljs-name">no-more?</span> coin-values)) <span class="hljs-number">0</span>)
        (<span class="hljs-name"><span class="hljs-built_in">else</span></span>
         (<span class="hljs-name"><span class="hljs-built_in">+</span></span> (<span class="hljs-name">cc</span> amount
                (<span class="hljs-name">except-first-denomination</span> coin-values))
            (<span class="hljs-name">cc</span> (<span class="hljs-name"><span class="hljs-built_in">-</span></span> amount
                   (<span class="hljs-name">first-denomination</span> coin-values))
                coin-values)))))</code></pre>
<p>Answer:</p>
<pre><code class="hljs language-scheme">  (<span class="hljs-name"><span class="hljs-built_in">define</span></span> no-more? null?)
  (<span class="hljs-name"><span class="hljs-built_in">define</span></span> except-first-denomination cdr)
  (<span class="hljs-name"><span class="hljs-built_in">define</span></span> first-denomination car)</code></pre>
<p>Order does not matter, because we just sum amount without each element, and with.</p>
<h2>Exercise 2.20</h2>
<pre><code class="hljs language-scheme">(<span class="hljs-name"><span class="hljs-built_in">define</span></span> (<span class="hljs-name">same-parity</span> n . l)
  (<span class="hljs-name"><span class="hljs-built_in">define</span></span> (<span class="hljs-name">matches</span> x) 
    (<span class="hljs-name"><span class="hljs-built_in">=</span></span> (<span class="hljs-name"><span class="hljs-built_in">remainder</span></span> n <span class="hljs-number">2</span>) (<span class="hljs-name"><span class="hljs-built_in">remainder</span></span> x <span class="hljs-number">2</span>))
  )
  (<span class="hljs-name"><span class="hljs-built_in">define</span></span> (<span class="hljs-name">iter</span> l) 
    (<span class="hljs-name"><span class="hljs-built_in">if</span></span> (<span class="hljs-name"><span class="hljs-built_in">null?</span></span> l)
      nil
      (<span class="hljs-name"><span class="hljs-built_in">if</span></span> (<span class="hljs-name">matches</span> (<span class="hljs-name"><span class="hljs-built_in">car</span></span> l))
        (<span class="hljs-name"><span class="hljs-built_in">cons</span></span> (<span class="hljs-name"><span class="hljs-built_in">car</span></span> l) (<span class="hljs-name">iter</span> (<span class="hljs-name"><span class="hljs-built_in">cdr</span></span> l)))
        (<span class="hljs-name">iter</span> (<span class="hljs-name"><span class="hljs-built_in">cdr</span></span> l))
      )
    )
  )
  (<span class="hljs-name"><span class="hljs-built_in">cons</span></span> n (<span class="hljs-name">iter</span> l))
)</code></pre>
<h2>Exercise 2.21</h2>
<pre><code class="hljs language-scheme">(<span class="hljs-name"><span class="hljs-built_in">define</span></span> (<span class="hljs-name">sqr</span> x) (<span class="hljs-name"><span class="hljs-built_in">*</span></span> x x))
(<span class="hljs-name"><span class="hljs-built_in">define</span></span> (<span class="hljs-name">square-list</span> items)
  (<span class="hljs-name"><span class="hljs-built_in">if</span></span> (<span class="hljs-name"><span class="hljs-built_in">null?</span></span> items)
      nil
      (<span class="hljs-name"><span class="hljs-built_in">cons</span></span> (<span class="hljs-name">sqr</span> (<span class="hljs-name"><span class="hljs-built_in">car</span></span> items)) (<span class="hljs-name">square-list</span> (<span class="hljs-name"><span class="hljs-built_in">cdr</span></span> items)))))

(<span class="hljs-name"><span class="hljs-built_in">define</span></span> (<span class="hljs-name">square-list</span> items)
  (<span class="hljs-name"><span class="hljs-built_in">map</span></span> sqr items))</code></pre>
<h2>Exercise 2.22</h2>
<p>What is <code>cons</code>-ed into list first will be at the end of list.</p>
<p>If we swap arguments to cons, then we will have the same hierarchy (what was consed first is at deepest pair), just link to the next pair is first element of pair, and value is second. To work with such structure properly, we will have to swap  car and cdr.</p>
<h2>Exercise 2.23</h2>
<pre><code class="hljs language-scheme">(<span class="hljs-name"><span class="hljs-built_in">define</span></span> (<span class="hljs-name"><span class="hljs-built_in">for-each</span></span> f items)
  (<span class="hljs-name"><span class="hljs-built_in">if</span></span> (<span class="hljs-name"><span class="hljs-built_in">null?</span></span> items)
    <span class="hljs-number">0</span>
    ((<span class="hljs-name"><span class="hljs-built_in">lambda</span></span> () <span class="hljs-comment">; Need some proper way to write blocks of code in if</span>
      (<span class="hljs-name">f</span> (<span class="hljs-name"><span class="hljs-built_in">car</span></span> items))
      (<span class="hljs-name"><span class="hljs-built_in">for-each</span></span> f (<span class="hljs-name"><span class="hljs-built_in">cdr</span></span> items))
    ))
  )
)

(<span class="hljs-name"><span class="hljs-built_in">for-each</span></span> (<span class="hljs-name"><span class="hljs-built_in">lambda</span></span> (x) (<span class="hljs-name"><span class="hljs-built_in">newline</span></span>) (<span class="hljs-name"><span class="hljs-built_in">display</span></span> x))
          (<span class="hljs-name"><span class="hljs-built_in">list</span></span> <span class="hljs-number">57</span> <span class="hljs-number">321</span> <span class="hljs-number">88</span>))</code></pre></div></article><div><div id="disqus_thread"></div></div><nav><a href="/">Home</a><a href="#top">Back to top</a></nav><footer>© <!-- -->2021<!-- --> Bunyk Taras. Built with Next.js</footer></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"id":"sicp2.2.1","title":"SICP 2.2.1 Sequences","date":"2020-07-16T21:39:38.000Z","tags":["SICP"],"updated_at":"2021-04-20T00:38:16+02:00","content":"\u003cp\u003eFinally, the thing Lisp was named after.\u003c/p\u003e\n\u003cp\u003eFix MIT Scheme to be like SICP scheme using this:\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-scheme\"\u003e(\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-built_in\"\u003edefine\u003c/span\u003e\u003c/span\u003e nil '())\u003c/code\u003e\u003c/pre\u003e\n\u003ch2\u003eExercise 2.17\u003c/h2\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-scheme\"\u003e(\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-built_in\"\u003edefine\u003c/span\u003e\u003c/span\u003e (\u003cspan class=\"hljs-name\"\u003elast-pair\u003c/span\u003e l)\n  (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-built_in\"\u003eif\u003c/span\u003e\u003c/span\u003e (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-built_in\"\u003enull?\u003c/span\u003e\u003c/span\u003e (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-built_in\"\u003ecdr\u003c/span\u003e\u003c/span\u003e l))\n    l\n    (\u003cspan class=\"hljs-name\"\u003elast-pair\u003c/span\u003e (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-built_in\"\u003ecdr\u003c/span\u003e\u003c/span\u003e l))\n  )\n)\n(\u003cspan class=\"hljs-name\"\u003elast-pair\u003c/span\u003e (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-built_in\"\u003elist\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"hljs-number\"\u003e23\u003c/span\u003e \u003cspan class=\"hljs-number\"\u003e72\u003c/span\u003e \u003cspan class=\"hljs-number\"\u003e149\u003c/span\u003e \u003cspan class=\"hljs-number\"\u003e34\u003c/span\u003e))\u003c/code\u003e\u003c/pre\u003e\n\u003ch2\u003eExercise 2.18\u003c/h2\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-scheme\"\u003e(\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-built_in\"\u003edefine\u003c/span\u003e\u003c/span\u003e (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-built_in\"\u003ereverse\u003c/span\u003e\u003c/span\u003e l)\n  (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-built_in\"\u003edefine\u003c/span\u003e\u003c/span\u003e (\u003cspan class=\"hljs-name\"\u003eiter\u003c/span\u003e src dst)\n    (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-built_in\"\u003eif\u003c/span\u003e\u003c/span\u003e (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-built_in\"\u003enull?\u003c/span\u003e\u003c/span\u003e src)\n      dst\n      (\u003cspan class=\"hljs-name\"\u003eiter\u003c/span\u003e (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-built_in\"\u003ecdr\u003c/span\u003e\u003c/span\u003e src) (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-built_in\"\u003econs\u003c/span\u003e\u003c/span\u003e (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-built_in\"\u003ecar\u003c/span\u003e\u003c/span\u003e src) dst))\n    )\n  )\n  (\u003cspan class=\"hljs-name\"\u003eiter\u003c/span\u003e l nil)\n)\n(\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-built_in\"\u003ereverse\u003c/span\u003e\u003c/span\u003e (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-built_in\"\u003elist\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"hljs-number\"\u003e1\u003c/span\u003e \u003cspan class=\"hljs-number\"\u003e2\u003c/span\u003e \u003cspan class=\"hljs-number\"\u003e3\u003c/span\u003e \u003cspan class=\"hljs-number\"\u003e4\u003c/span\u003e))\u003c/code\u003e\u003c/pre\u003e\n\u003ch2\u003eExercise 2.19\u003c/h2\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-scheme\"\u003e(\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-built_in\"\u003edefine\u003c/span\u003e\u003c/span\u003e us-coins (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-built_in\"\u003elist\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"hljs-number\"\u003e50\u003c/span\u003e \u003cspan class=\"hljs-number\"\u003e25\u003c/span\u003e \u003cspan class=\"hljs-number\"\u003e10\u003c/span\u003e \u003cspan class=\"hljs-number\"\u003e5\u003c/span\u003e \u003cspan class=\"hljs-number\"\u003e1\u003c/span\u003e))\n(\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-built_in\"\u003edefine\u003c/span\u003e\u003c/span\u003e uk-coins (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-built_in\"\u003elist\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"hljs-number\"\u003e100\u003c/span\u003e \u003cspan class=\"hljs-number\"\u003e50\u003c/span\u003e \u003cspan class=\"hljs-number\"\u003e20\u003c/span\u003e \u003cspan class=\"hljs-number\"\u003e10\u003c/span\u003e \u003cspan class=\"hljs-number\"\u003e5\u003c/span\u003e \u003cspan class=\"hljs-number\"\u003e2\u003c/span\u003e \u003cspan class=\"hljs-number\"\u003e1\u003c/span\u003e \u003cspan class=\"hljs-number\"\u003e0.5\u003c/span\u003e))\n\n(\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-built_in\"\u003edefine\u003c/span\u003e\u003c/span\u003e (\u003cspan class=\"hljs-name\"\u003ecc\u003c/span\u003e amount coin-values)\n  (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-built_in\"\u003econd\u003c/span\u003e\u003c/span\u003e ((\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-built_in\"\u003e=\u003c/span\u003e\u003c/span\u003e amount \u003cspan class=\"hljs-number\"\u003e0\u003c/span\u003e) \u003cspan class=\"hljs-number\"\u003e1\u003c/span\u003e)\n        ((\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-built_in\"\u003eor\u003c/span\u003e\u003c/span\u003e (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-built_in\"\u003e\u0026#x3C;\u003c/span\u003e\u003c/span\u003e amount \u003cspan class=\"hljs-number\"\u003e0\u003c/span\u003e) (\u003cspan class=\"hljs-name\"\u003eno-more?\u003c/span\u003e coin-values)) \u003cspan class=\"hljs-number\"\u003e0\u003c/span\u003e)\n        (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-built_in\"\u003eelse\u003c/span\u003e\u003c/span\u003e\n         (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-built_in\"\u003e+\u003c/span\u003e\u003c/span\u003e (\u003cspan class=\"hljs-name\"\u003ecc\u003c/span\u003e amount\n                (\u003cspan class=\"hljs-name\"\u003eexcept-first-denomination\u003c/span\u003e coin-values))\n            (\u003cspan class=\"hljs-name\"\u003ecc\u003c/span\u003e (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-built_in\"\u003e-\u003c/span\u003e\u003c/span\u003e amount\n                   (\u003cspan class=\"hljs-name\"\u003efirst-denomination\u003c/span\u003e coin-values))\n                coin-values)))))\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eAnswer:\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-scheme\"\u003e  (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-built_in\"\u003edefine\u003c/span\u003e\u003c/span\u003e no-more? null?)\n  (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-built_in\"\u003edefine\u003c/span\u003e\u003c/span\u003e except-first-denomination cdr)\n  (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-built_in\"\u003edefine\u003c/span\u003e\u003c/span\u003e first-denomination car)\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eOrder does not matter, because we just sum amount without each element, and with.\u003c/p\u003e\n\u003ch2\u003eExercise 2.20\u003c/h2\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-scheme\"\u003e(\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-built_in\"\u003edefine\u003c/span\u003e\u003c/span\u003e (\u003cspan class=\"hljs-name\"\u003esame-parity\u003c/span\u003e n . l)\n  (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-built_in\"\u003edefine\u003c/span\u003e\u003c/span\u003e (\u003cspan class=\"hljs-name\"\u003ematches\u003c/span\u003e x) \n    (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-built_in\"\u003e=\u003c/span\u003e\u003c/span\u003e (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-built_in\"\u003eremainder\u003c/span\u003e\u003c/span\u003e n \u003cspan class=\"hljs-number\"\u003e2\u003c/span\u003e) (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-built_in\"\u003eremainder\u003c/span\u003e\u003c/span\u003e x \u003cspan class=\"hljs-number\"\u003e2\u003c/span\u003e))\n  )\n  (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-built_in\"\u003edefine\u003c/span\u003e\u003c/span\u003e (\u003cspan class=\"hljs-name\"\u003eiter\u003c/span\u003e l) \n    (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-built_in\"\u003eif\u003c/span\u003e\u003c/span\u003e (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-built_in\"\u003enull?\u003c/span\u003e\u003c/span\u003e l)\n      nil\n      (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-built_in\"\u003eif\u003c/span\u003e\u003c/span\u003e (\u003cspan class=\"hljs-name\"\u003ematches\u003c/span\u003e (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-built_in\"\u003ecar\u003c/span\u003e\u003c/span\u003e l))\n        (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-built_in\"\u003econs\u003c/span\u003e\u003c/span\u003e (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-built_in\"\u003ecar\u003c/span\u003e\u003c/span\u003e l) (\u003cspan class=\"hljs-name\"\u003eiter\u003c/span\u003e (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-built_in\"\u003ecdr\u003c/span\u003e\u003c/span\u003e l)))\n        (\u003cspan class=\"hljs-name\"\u003eiter\u003c/span\u003e (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-built_in\"\u003ecdr\u003c/span\u003e\u003c/span\u003e l))\n      )\n    )\n  )\n  (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-built_in\"\u003econs\u003c/span\u003e\u003c/span\u003e n (\u003cspan class=\"hljs-name\"\u003eiter\u003c/span\u003e l))\n)\u003c/code\u003e\u003c/pre\u003e\n\u003ch2\u003eExercise 2.21\u003c/h2\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-scheme\"\u003e(\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-built_in\"\u003edefine\u003c/span\u003e\u003c/span\u003e (\u003cspan class=\"hljs-name\"\u003esqr\u003c/span\u003e x) (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-built_in\"\u003e*\u003c/span\u003e\u003c/span\u003e x x))\n(\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-built_in\"\u003edefine\u003c/span\u003e\u003c/span\u003e (\u003cspan class=\"hljs-name\"\u003esquare-list\u003c/span\u003e items)\n  (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-built_in\"\u003eif\u003c/span\u003e\u003c/span\u003e (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-built_in\"\u003enull?\u003c/span\u003e\u003c/span\u003e items)\n      nil\n      (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-built_in\"\u003econs\u003c/span\u003e\u003c/span\u003e (\u003cspan class=\"hljs-name\"\u003esqr\u003c/span\u003e (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-built_in\"\u003ecar\u003c/span\u003e\u003c/span\u003e items)) (\u003cspan class=\"hljs-name\"\u003esquare-list\u003c/span\u003e (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-built_in\"\u003ecdr\u003c/span\u003e\u003c/span\u003e items)))))\n\n(\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-built_in\"\u003edefine\u003c/span\u003e\u003c/span\u003e (\u003cspan class=\"hljs-name\"\u003esquare-list\u003c/span\u003e items)\n  (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-built_in\"\u003emap\u003c/span\u003e\u003c/span\u003e sqr items))\u003c/code\u003e\u003c/pre\u003e\n\u003ch2\u003eExercise 2.22\u003c/h2\u003e\n\u003cp\u003eWhat is \u003ccode\u003econs\u003c/code\u003e-ed into list first will be at the end of list.\u003c/p\u003e\n\u003cp\u003eIf we swap arguments to cons, then we will have the same hierarchy (what was consed first is at deepest pair), just link to the next pair is first element of pair, and value is second. To work with such structure properly, we will have to swap  car and cdr.\u003c/p\u003e\n\u003ch2\u003eExercise 2.23\u003c/h2\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-scheme\"\u003e(\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-built_in\"\u003edefine\u003c/span\u003e\u003c/span\u003e (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-built_in\"\u003efor-each\u003c/span\u003e\u003c/span\u003e f items)\n  (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-built_in\"\u003eif\u003c/span\u003e\u003c/span\u003e (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-built_in\"\u003enull?\u003c/span\u003e\u003c/span\u003e items)\n    \u003cspan class=\"hljs-number\"\u003e0\u003c/span\u003e\n    ((\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-built_in\"\u003elambda\u003c/span\u003e\u003c/span\u003e () \u003cspan class=\"hljs-comment\"\u003e; Need some proper way to write blocks of code in if\u003c/span\u003e\n      (\u003cspan class=\"hljs-name\"\u003ef\u003c/span\u003e (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-built_in\"\u003ecar\u003c/span\u003e\u003c/span\u003e items))\n      (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-built_in\"\u003efor-each\u003c/span\u003e\u003c/span\u003e f (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-built_in\"\u003ecdr\u003c/span\u003e\u003c/span\u003e items))\n    ))\n  )\n)\n\n(\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-built_in\"\u003efor-each\u003c/span\u003e\u003c/span\u003e (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-built_in\"\u003elambda\u003c/span\u003e\u003c/span\u003e (x) (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-built_in\"\u003enewline\u003c/span\u003e\u003c/span\u003e) (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-built_in\"\u003edisplay\u003c/span\u003e\u003c/span\u003e x))\n          (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-built_in\"\u003elist\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"hljs-number\"\u003e57\u003c/span\u003e \u003cspan class=\"hljs-number\"\u003e321\u003c/span\u003e \u003cspan class=\"hljs-number\"\u003e88\u003c/span\u003e))\u003c/code\u003e\u003c/pre\u003e"},"__N_SSG":true},"page":"/posts/[id]","query":{"id":"sicp2.2.1"},"buildId":"5w1ZnTTJHYIN3dOLYBM3S","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>