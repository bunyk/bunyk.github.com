<!DOCTYPE html><html><head><meta name="viewport" content="width=device-width"/><meta charSet="utf-8"/><title>SICP 2.5.1 Generic arithmetic operations</title><meta name="next-head-count" content="3"/><link rel="preload" href="/_next/static/css/f969c0c492dd18a0081f.css" as="style"/><link rel="stylesheet" href="/_next/static/css/f969c0c492dd18a0081f.css" data-n-g=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/_next/static/chunks/polyfills-a40ef1678bae11e696dba45124eadd70.js"></script><script src="/_next/static/chunks/webpack-fb76148cfcfb42ca18eb.js" defer=""></script><script src="/_next/static/chunks/framework-2191d16384373197bc0a.js" defer=""></script><script src="/_next/static/chunks/main-89e612c37cd79392e22d.js" defer=""></script><script src="/_next/static/chunks/pages/_app-459ac92bde4bcd5c6050.js" defer=""></script><script src="/_next/static/chunks/762-0f685813c4b6ace6d024.js" defer=""></script><script src="/_next/static/chunks/pages/posts/%5Bid%5D-338567653ad135dab1d7.js" defer=""></script><script src="/_next/static/PuN8e6MJK2ig126r3UM9V/_buildManifest.js" defer=""></script><script src="/_next/static/PuN8e6MJK2ig126r3UM9V/_ssgManifest.js" defer=""></script></head><body><div id="__next"><div class="MuiContainer-root MuiContainer-maxWidthMd"><div class="MuiToolbar-root MuiToolbar-regular jss1 MuiToolbar-gutters"><h1 class="MuiTypography-root jss2 MuiTypography-h5 MuiTypography-noWrap" aligh="center">Taras Bunyk</h1></div><nav class="MuiToolbar-root MuiToolbar-dense jss3 MuiToolbar-gutters"><a href="/">Home</a><a href="http://bunyk.github.io/mandala/">Snowflake drawing</a><a href="/resume">Resume</a><a href="https://bunyk.wordpress.com/">Old blog (in Ukrainian)</a></nav><div class="MuiGrid-root MuiGrid-container MuiGrid-spacing-xs-5"><div class="MuiGrid-root MuiGrid-item MuiGrid-grid-xs-12 MuiGrid-grid-md-9"><div class="MuiPaper-root MuiCard-root MuiPaper-elevation1 MuiPaper-rounded"><div class="MuiCardHeader-root"><div class="MuiCardHeader-content"><span class="MuiTypography-root MuiCardHeader-title MuiTypography-h5 MuiTypography-displayBlock">SICP 2.5.1 Generic arithmetic operations</span><span class="MuiTypography-root MuiCardHeader-subheader MuiTypography-body1 MuiTypography-colorTextSecondary MuiTypography-displayBlock">Published: 2020-09-02 Tags: SICP</span></div></div><div class="MuiCardContent-root"><p>In <a href="/posts/sicp2.4/">previous post</a> I have used wrong StackOverflow answer. :) Or, to be more precise, right answer for that section, but useless here, as we want to store in table functions for multiple arguments.</p>
<p><a href="https://stackoverflow.com/a/19114031/816449">Correct answer</a> that supports lists looks like this:</p>
<pre><code class="hljs language-scheme">(<span class="hljs-name"><span class="hljs-builtin-name">define</span></span> *op-table* (<span class="hljs-name">make-hash-table</span>))

(<span class="hljs-name"><span class="hljs-builtin-name">define</span></span> (<span class="hljs-name">put</span> op type proc)
  (<span class="hljs-name">hash-table/put!</span> *op-table* (<span class="hljs-name"><span class="hljs-builtin-name">list</span></span> op type) proc))

(<span class="hljs-name"><span class="hljs-builtin-name">define</span></span> (<span class="hljs-name">get</span> op type)
  (<span class="hljs-name">hash-table/get</span> *op-table* (<span class="hljs-name"><span class="hljs-builtin-name">list</span></span> op type) <span class="hljs-literal">#f</span>))</code></pre>
<p>Also I needed to copypaste a lot of code to be able to start working on <a href="#exercise-2-77">first exercise</a>:</p>
<pre><code class="hljs language-scheme">(<span class="hljs-name"><span class="hljs-builtin-name">define</span></span> (<span class="hljs-name">attach-tag</span> type-tag contents)
  (<span class="hljs-name"><span class="hljs-builtin-name">cons</span></span> type-tag contents))
(<span class="hljs-name"><span class="hljs-builtin-name">define</span></span> (<span class="hljs-name">type-tag</span> datum)
  (<span class="hljs-name"><span class="hljs-builtin-name">if</span></span> (<span class="hljs-name"><span class="hljs-builtin-name">pair?</span></span> datum)
      (<span class="hljs-name"><span class="hljs-builtin-name">car</span></span> datum)
      (<span class="hljs-name">error</span> <span class="hljs-string">"Bad tagged datum -- TYPE-TAG"</span> datum)))
(<span class="hljs-name"><span class="hljs-builtin-name">define</span></span> (<span class="hljs-name">contents</span> datum)
  (<span class="hljs-name"><span class="hljs-builtin-name">if</span></span> (<span class="hljs-name"><span class="hljs-builtin-name">pair?</span></span> datum)
      (<span class="hljs-name"><span class="hljs-builtin-name">cdr</span></span> datum)
      (<span class="hljs-name">error</span> <span class="hljs-string">"Bad tagged datum -- CONTENTS"</span> datum)))

(<span class="hljs-name"><span class="hljs-builtin-name">define</span></span> (<span class="hljs-name">apply-generic</span> op . args)
  (<span class="hljs-name"><span class="hljs-builtin-name">let</span></span> ((<span class="hljs-name">type-tags</span> (<span class="hljs-name"><span class="hljs-builtin-name">map</span></span> type-tag args)))
    (<span class="hljs-name"><span class="hljs-builtin-name">let</span></span> ((<span class="hljs-name">proc</span> (<span class="hljs-name">get</span> op type-tags)))
      (<span class="hljs-name"><span class="hljs-builtin-name">if</span></span> proc
          (<span class="hljs-name"><span class="hljs-builtin-name">apply</span></span> proc (<span class="hljs-name"><span class="hljs-builtin-name">map</span></span> contents args))
          (<span class="hljs-name">error</span>
            <span class="hljs-string">"No method for these types -- APPLY-GENERIC"</span>
            (<span class="hljs-name"><span class="hljs-builtin-name">list</span></span> op type-tags))))))

(<span class="hljs-name"><span class="hljs-builtin-name">define</span></span> (<span class="hljs-name"><span class="hljs-builtin-name">real-part</span></span> z) (<span class="hljs-name">apply-generic</span> <span class="hljs-symbol">'real-part</span> z))
(<span class="hljs-name"><span class="hljs-builtin-name">define</span></span> (<span class="hljs-name"><span class="hljs-builtin-name">imag-part</span></span> z) (<span class="hljs-name">apply-generic</span> <span class="hljs-symbol">'imag-part</span> z))
(<span class="hljs-name"><span class="hljs-builtin-name">define</span></span> (<span class="hljs-name"><span class="hljs-builtin-name">magnitude</span></span> z) (<span class="hljs-name">apply-generic</span> <span class="hljs-symbol">'magnitude</span> z))
(<span class="hljs-name"><span class="hljs-builtin-name">define</span></span> (<span class="hljs-name"><span class="hljs-builtin-name">angle</span></span> z) (<span class="hljs-name">apply-generic</span> <span class="hljs-symbol">'angle</span> z))



(<span class="hljs-name"><span class="hljs-builtin-name">define</span></span> (<span class="hljs-name">install-rectangular-package</span>)
  <span class="hljs-comment">;; internal procedures</span>
  (<span class="hljs-name"><span class="hljs-builtin-name">define</span></span> (<span class="hljs-name"><span class="hljs-builtin-name">real-part</span></span> z) (<span class="hljs-name"><span class="hljs-builtin-name">car</span></span> z))
  (<span class="hljs-name"><span class="hljs-builtin-name">define</span></span> (<span class="hljs-name"><span class="hljs-builtin-name">imag-part</span></span> z) (<span class="hljs-name"><span class="hljs-builtin-name">cdr</span></span> z))
  (<span class="hljs-name"><span class="hljs-builtin-name">define</span></span> (<span class="hljs-name">make-from-real-imag</span> x y) (<span class="hljs-name"><span class="hljs-builtin-name">cons</span></span> x y))
  (<span class="hljs-name"><span class="hljs-builtin-name">define</span></span> (<span class="hljs-name"><span class="hljs-builtin-name">magnitude</span></span> z)
    (<span class="hljs-name"><span class="hljs-builtin-name">sqrt</span></span> (<span class="hljs-name"><span class="hljs-builtin-name">+</span></span> (<span class="hljs-name">square</span> (<span class="hljs-name"><span class="hljs-builtin-name">real-part</span></span> z))
             (<span class="hljs-name">square</span> (<span class="hljs-name"><span class="hljs-builtin-name">imag-part</span></span> z)))))
  (<span class="hljs-name"><span class="hljs-builtin-name">define</span></span> (<span class="hljs-name"><span class="hljs-builtin-name">angle</span></span> z)
    (<span class="hljs-name"><span class="hljs-builtin-name">atan</span></span> (<span class="hljs-name"><span class="hljs-builtin-name">imag-part</span></span> z) (<span class="hljs-name"><span class="hljs-builtin-name">real-part</span></span> z)))
  (<span class="hljs-name"><span class="hljs-builtin-name">define</span></span> (<span class="hljs-name">make-from-mag-ang</span> r a) 
    (<span class="hljs-name"><span class="hljs-builtin-name">cons</span></span> (<span class="hljs-name"><span class="hljs-builtin-name">*</span></span> r (<span class="hljs-name"><span class="hljs-builtin-name">cos</span></span> a)) (<span class="hljs-name"><span class="hljs-builtin-name">*</span></span> r (<span class="hljs-name"><span class="hljs-builtin-name">sin</span></span> a))))
  <span class="hljs-comment">;; interface to the rest of the system</span>
  (<span class="hljs-name"><span class="hljs-builtin-name">define</span></span> (<span class="hljs-name">tag</span> x) (<span class="hljs-name">attach-tag</span> <span class="hljs-symbol">'rectangular</span> x))
  (<span class="hljs-name">put</span> <span class="hljs-symbol">'real-part</span> '(rectangular) real-part)
  (<span class="hljs-name">put</span> <span class="hljs-symbol">'imag-part</span> '(rectangular) imag-part)
  (<span class="hljs-name">put</span> <span class="hljs-symbol">'magnitude</span> '(rectangular) magnitude)
  (<span class="hljs-name">put</span> <span class="hljs-symbol">'angle</span> '(rectangular) angle)
  (<span class="hljs-name">put</span> <span class="hljs-symbol">'make-from-real-imag</span> <span class="hljs-symbol">'rectangular</span> 
       (<span class="hljs-name"><span class="hljs-builtin-name">lambda</span></span> (x y) (<span class="hljs-name">tag</span> (<span class="hljs-name">make-from-real-imag</span> x y))))
  (<span class="hljs-name">put</span> <span class="hljs-symbol">'make-from-mag-ang</span> <span class="hljs-symbol">'rectangular</span> 
       (<span class="hljs-name"><span class="hljs-builtin-name">lambda</span></span> (r a) (<span class="hljs-name">tag</span> (<span class="hljs-name">make-from-mag-ang</span> r a))))
  <span class="hljs-symbol">'done</span>)
(<span class="hljs-name">install-rectangular-package</span>)

(<span class="hljs-name"><span class="hljs-builtin-name">define</span></span> (<span class="hljs-name">install-polar-package</span>)
  <span class="hljs-comment">;; internal procedures</span>
  (<span class="hljs-name"><span class="hljs-builtin-name">define</span></span> (<span class="hljs-name"><span class="hljs-builtin-name">magnitude</span></span> z) (<span class="hljs-name"><span class="hljs-builtin-name">car</span></span> z))
  (<span class="hljs-name"><span class="hljs-builtin-name">define</span></span> (<span class="hljs-name"><span class="hljs-builtin-name">angle</span></span> z) (<span class="hljs-name"><span class="hljs-builtin-name">cdr</span></span> z))
  (<span class="hljs-name"><span class="hljs-builtin-name">define</span></span> (<span class="hljs-name">make-from-mag-ang</span> r a) (<span class="hljs-name"><span class="hljs-builtin-name">cons</span></span> r a))
  (<span class="hljs-name"><span class="hljs-builtin-name">define</span></span> (<span class="hljs-name"><span class="hljs-builtin-name">real-part</span></span> z)
    (<span class="hljs-name"><span class="hljs-builtin-name">*</span></span> (<span class="hljs-name"><span class="hljs-builtin-name">magnitude</span></span> z) (<span class="hljs-name"><span class="hljs-builtin-name">cos</span></span> (<span class="hljs-name"><span class="hljs-builtin-name">angle</span></span> z))))
  (<span class="hljs-name"><span class="hljs-builtin-name">define</span></span> (<span class="hljs-name"><span class="hljs-builtin-name">imag-part</span></span> z)
    (<span class="hljs-name"><span class="hljs-builtin-name">*</span></span> (<span class="hljs-name"><span class="hljs-builtin-name">magnitude</span></span> z) (<span class="hljs-name"><span class="hljs-builtin-name">sin</span></span> (<span class="hljs-name"><span class="hljs-builtin-name">angle</span></span> z))))
  (<span class="hljs-name"><span class="hljs-builtin-name">define</span></span> (<span class="hljs-name">make-from-real-imag</span> x y) 
    (<span class="hljs-name"><span class="hljs-builtin-name">cons</span></span> (<span class="hljs-name"><span class="hljs-builtin-name">sqrt</span></span> (<span class="hljs-name"><span class="hljs-builtin-name">+</span></span> (<span class="hljs-name">square</span> x) (<span class="hljs-name">square</span> y)))
          (<span class="hljs-name"><span class="hljs-builtin-name">atan</span></span> y x)))
  <span class="hljs-comment">;; interface to the rest of the system</span>
  (<span class="hljs-name"><span class="hljs-builtin-name">define</span></span> (<span class="hljs-name">tag</span> x) (<span class="hljs-name">attach-tag</span> <span class="hljs-symbol">'polar</span> x))
  (<span class="hljs-name">put</span> <span class="hljs-symbol">'real-part</span> '(polar) real-part)
  (<span class="hljs-name">put</span> <span class="hljs-symbol">'imag-part</span> '(polar) imag-part)
  (<span class="hljs-name">put</span> <span class="hljs-symbol">'magnitude</span> '(polar) magnitude)
  (<span class="hljs-name">put</span> <span class="hljs-symbol">'angle</span> '(polar) angle)
  (<span class="hljs-name">put</span> <span class="hljs-symbol">'make-from-real-imag</span> <span class="hljs-symbol">'polar</span>
       (<span class="hljs-name"><span class="hljs-builtin-name">lambda</span></span> (x y) (<span class="hljs-name">tag</span> (<span class="hljs-name">make-from-real-imag</span> x y))))
  (<span class="hljs-name">put</span> <span class="hljs-symbol">'make-from-mag-ang</span> <span class="hljs-symbol">'polar</span> 
       (<span class="hljs-name"><span class="hljs-builtin-name">lambda</span></span> (r a) (<span class="hljs-name">tag</span> (<span class="hljs-name">make-from-mag-ang</span> r a))))
  <span class="hljs-symbol">'done</span>)
(<span class="hljs-name">install-rectangular-package</span>)

(<span class="hljs-name"><span class="hljs-builtin-name">define</span></span> (<span class="hljs-name">install-complex-package</span>)
  <span class="hljs-comment">;; imported procedures from rectangular and polar packages</span>
  (<span class="hljs-name"><span class="hljs-builtin-name">define</span></span> (<span class="hljs-name">make-from-real-imag</span> x y)
    ((<span class="hljs-name">get</span> <span class="hljs-symbol">'make-from-real-imag</span> <span class="hljs-symbol">'rectangular</span>) x y))
  (<span class="hljs-name"><span class="hljs-builtin-name">define</span></span> (<span class="hljs-name">make-from-mag-ang</span> r a)
    ((<span class="hljs-name">get</span> <span class="hljs-symbol">'make-from-mag-ang</span> <span class="hljs-symbol">'polar</span>) r a))
  <span class="hljs-comment">;; internal procedures</span>
  (<span class="hljs-name"><span class="hljs-builtin-name">define</span></span> (<span class="hljs-name">add-complex</span> z1 z2)
    (<span class="hljs-name">make-from-real-imag</span> (<span class="hljs-name"><span class="hljs-builtin-name">+</span></span> (<span class="hljs-name"><span class="hljs-builtin-name">real-part</span></span> z1) (<span class="hljs-name"><span class="hljs-builtin-name">real-part</span></span> z2))
                         (<span class="hljs-name"><span class="hljs-builtin-name">+</span></span> (<span class="hljs-name"><span class="hljs-builtin-name">imag-part</span></span> z1) (<span class="hljs-name"><span class="hljs-builtin-name">imag-part</span></span> z2))))
  (<span class="hljs-name"><span class="hljs-builtin-name">define</span></span> (<span class="hljs-name">sub-complex</span> z1 z2)
    (<span class="hljs-name">make-from-real-imag</span> (<span class="hljs-name"><span class="hljs-builtin-name">-</span></span> (<span class="hljs-name"><span class="hljs-builtin-name">real-part</span></span> z1) (<span class="hljs-name"><span class="hljs-builtin-name">real-part</span></span> z2))
                         (<span class="hljs-name"><span class="hljs-builtin-name">-</span></span> (<span class="hljs-name"><span class="hljs-builtin-name">imag-part</span></span> z1) (<span class="hljs-name"><span class="hljs-builtin-name">imag-part</span></span> z2))))
  (<span class="hljs-name"><span class="hljs-builtin-name">define</span></span> (<span class="hljs-name">mul-complex</span> z1 z2)
    (<span class="hljs-name">make-from-mag-ang</span> (<span class="hljs-name"><span class="hljs-builtin-name">*</span></span> (<span class="hljs-name"><span class="hljs-builtin-name">magnitude</span></span> z1) (<span class="hljs-name"><span class="hljs-builtin-name">magnitude</span></span> z2))
                       (<span class="hljs-name"><span class="hljs-builtin-name">+</span></span> (<span class="hljs-name"><span class="hljs-builtin-name">angle</span></span> z1) (<span class="hljs-name"><span class="hljs-builtin-name">angle</span></span> z2))))
  (<span class="hljs-name"><span class="hljs-builtin-name">define</span></span> (<span class="hljs-name">div-complex</span> z1 z2)
    (<span class="hljs-name">make-from-mag-ang</span> (<span class="hljs-name"><span class="hljs-builtin-name">/</span></span> (<span class="hljs-name"><span class="hljs-builtin-name">magnitude</span></span> z1) (<span class="hljs-name"><span class="hljs-builtin-name">magnitude</span></span> z2))
                       (<span class="hljs-name"><span class="hljs-builtin-name">-</span></span> (<span class="hljs-name"><span class="hljs-builtin-name">angle</span></span> z1) (<span class="hljs-name"><span class="hljs-builtin-name">angle</span></span> z2))))
  <span class="hljs-comment">;; interface to rest of the system</span>
  (<span class="hljs-name"><span class="hljs-builtin-name">define</span></span> (<span class="hljs-name">tag</span> z) (<span class="hljs-name">attach-tag</span> <span class="hljs-symbol">'complex</span> z))
  (<span class="hljs-name">put</span> <span class="hljs-symbol">'add</span> '(complex complex)
       (<span class="hljs-name"><span class="hljs-builtin-name">lambda</span></span> (z1 z2) (<span class="hljs-name">tag</span> (<span class="hljs-name">add-complex</span> z1 z2))))
  (<span class="hljs-name">put</span> <span class="hljs-symbol">'sub</span> '(complex complex)
       (<span class="hljs-name"><span class="hljs-builtin-name">lambda</span></span> (z1 z2) (<span class="hljs-name">tag</span> (<span class="hljs-name">sub-complex</span> z1 z2))))
  (<span class="hljs-name">put</span> <span class="hljs-symbol">'mul</span> '(complex complex)
       (<span class="hljs-name"><span class="hljs-builtin-name">lambda</span></span> (z1 z2) (<span class="hljs-name">tag</span> (<span class="hljs-name">mul-complex</span> z1 z2))))
  (<span class="hljs-name">put</span> <span class="hljs-symbol">'div</span> '(complex complex)
       (<span class="hljs-name"><span class="hljs-builtin-name">lambda</span></span> (z1 z2) (<span class="hljs-name">tag</span> (<span class="hljs-name">div-complex</span> z1 z2))))
  (<span class="hljs-name">put</span> <span class="hljs-symbol">'make-from-real-imag</span> <span class="hljs-symbol">'complex</span>
       (<span class="hljs-name"><span class="hljs-builtin-name">lambda</span></span> (x y) (<span class="hljs-name">tag</span> (<span class="hljs-name">make-from-real-imag</span> x y))))
  (<span class="hljs-name">put</span> <span class="hljs-symbol">'make-from-mag-ang</span> <span class="hljs-symbol">'complex</span>
       (<span class="hljs-name"><span class="hljs-builtin-name">lambda</span></span> (r a) (<span class="hljs-name">tag</span> (<span class="hljs-name">make-from-mag-ang</span> r a))))
  (<span class="hljs-name">put</span> <span class="hljs-symbol">'real-part</span> '(complex) real-part)
  (<span class="hljs-name">put</span> <span class="hljs-symbol">'imag-part</span> '(complex) imag-part)
  (<span class="hljs-name">put</span> <span class="hljs-symbol">'magnitude</span> '(complex) magnitude)
  (<span class="hljs-name">put</span> <span class="hljs-symbol">'angle</span> '(complex) angle)
  <span class="hljs-symbol">'done</span>)
(<span class="hljs-name">install-complex-package</span>)</code></pre>
<h2>Exercise 2.77</h2>
<pre><code class="hljs language-scheme">(<span class="hljs-name"><span class="hljs-builtin-name">define</span></span> z (<span class="hljs-name"><span class="hljs-builtin-name">cons</span></span> <span class="hljs-symbol">'complex</span> (<span class="hljs-name"><span class="hljs-builtin-name">cons</span></span> <span class="hljs-symbol">'rectangular</span> (<span class="hljs-name"><span class="hljs-builtin-name">cons</span></span> <span class="hljs-number">3</span> <span class="hljs-number">4</span>))))

(<span class="hljs-name"><span class="hljs-builtin-name">magnitude</span></span> z)</code></pre>
<p>It calls <code>apply-generic</code> to do operation <code>'magnitude</code> with z</p>
<pre><code class="hljs language-scheme">(<span class="hljs-name">apply-generic</span> <span class="hljs-symbol">'magnitude</span> (<span class="hljs-name"><span class="hljs-builtin-name">cons</span></span> <span class="hljs-symbol">'complex</span> (<span class="hljs-name"><span class="hljs-builtin-name">cons</span></span> <span class="hljs-symbol">'rectangular</span> (<span class="hljs-name"><span class="hljs-builtin-name">cons</span></span> <span class="hljs-number">3</span> <span class="hljs-number">4</span>))))</code></pre>
<p><code>apply-generic</code> looks for operation <code>'magnitude</code> for <code>'complex</code> numbers, and applies it to value inside</p>
<pre><code class="hljs language-scheme">(<span class="hljs-name"><span class="hljs-builtin-name">apply</span></span> (<span class="hljs-name">get</span> <span class="hljs-symbol">'magnitude</span> <span class="hljs-symbol">'complex</span>) (<span class="hljs-name"><span class="hljs-builtin-name">cons</span></span> <span class="hljs-symbol">'rectangular</span> (<span class="hljs-name"><span class="hljs-builtin-name">cons</span></span> <span class="hljs-number">3</span> <span class="hljs-number">4</span>)))</code></pre>
<p>That operation, thanks to Alyssa P. Hacker, is just application of same <code>magnitude</code> function, but this time for <code>'rectangular</code> object</p>
<pre><code class="hljs language-scheme">(<span class="hljs-name"><span class="hljs-builtin-name">magnitude</span></span> (<span class="hljs-name"><span class="hljs-builtin-name">cons</span></span> <span class="hljs-symbol">'rectangular</span> (<span class="hljs-name"><span class="hljs-builtin-name">cons</span></span> <span class="hljs-number">3</span> <span class="hljs-number">4</span>)))</code></pre>
<p>apply-generic applies operation 'magnitude for 'rectangular type to content of rectangular "package":</p>
<pre><code class="hljs language-scheme">(<span class="hljs-name"><span class="hljs-builtin-name">apply</span></span> (<span class="hljs-name">get</span> <span class="hljs-symbol">'magnitude</span> <span class="hljs-symbol">'rectangular</span>) (<span class="hljs-name"><span class="hljs-builtin-name">cons</span></span> <span class="hljs-number">3</span> <span class="hljs-number">4</span>))</code></pre>
<p>which is <code>magnitude</code> function from inside rectangular package</p>
<pre><code class="hljs language-scheme">(<span class="hljs-name"><span class="hljs-builtin-name">magnitude</span></span> (<span class="hljs-name"><span class="hljs-builtin-name">cons</span></span> <span class="hljs-number">3</span> <span class="hljs-number">4</span>))
(<span class="hljs-name"><span class="hljs-builtin-name">sqrt</span></span> (<span class="hljs-name"><span class="hljs-builtin-name">+</span></span> (<span class="hljs-name">square</span> <span class="hljs-number">3</span>)
         (<span class="hljs-name">square</span> <span class="hljs-number">4</span>)))
<span class="hljs-number">5</span></code></pre>
<h2>Exercise 2.78</h2>
<pre><code class="hljs language-scheme">(<span class="hljs-name"><span class="hljs-builtin-name">define</span></span> (<span class="hljs-name">attach-tag</span> type-tag contents)
  (<span class="hljs-name"><span class="hljs-builtin-name">if</span></span> (<span class="hljs-name"><span class="hljs-builtin-name">eq?</span></span> type-tag <span class="hljs-symbol">'scheme-number</span>)
    contents
    (<span class="hljs-name"><span class="hljs-builtin-name">cons</span></span> type-tag contents)
  )
)
(<span class="hljs-name"><span class="hljs-builtin-name">define</span></span> (<span class="hljs-name">type-tag</span> datum)
  (<span class="hljs-name"><span class="hljs-builtin-name">cond</span></span>
    ((<span class="hljs-name"><span class="hljs-builtin-name">number?</span></span> datum) <span class="hljs-symbol">'scheme-number</span>)
    ((<span class="hljs-name"><span class="hljs-builtin-name">pair?</span></span> datum) (<span class="hljs-name"><span class="hljs-builtin-name">car</span></span> datum))
    (<span class="hljs-name"><span class="hljs-builtin-name">else</span></span> (<span class="hljs-name">error</span> <span class="hljs-string">"Bad tagged datum -- TYPE-TAG"</span> datum))
  )
)
(<span class="hljs-name"><span class="hljs-builtin-name">define</span></span> (<span class="hljs-name">contents</span> datum)
  (<span class="hljs-name"><span class="hljs-builtin-name">cond</span></span>
    ((<span class="hljs-name"><span class="hljs-builtin-name">number?</span></span> datum) datum)
    ((<span class="hljs-name"><span class="hljs-builtin-name">pair?</span></span> datum) (<span class="hljs-name"><span class="hljs-builtin-name">cdr</span></span> datum))
    (<span class="hljs-name"><span class="hljs-builtin-name">else</span></span> (<span class="hljs-name">error</span> <span class="hljs-string">"Bad tagged datum -- CONTENTS"</span> datum))
  )
)</code></pre>
<p>To test:</p>
<pre><code class="hljs language-scheme">(<span class="hljs-name"><span class="hljs-builtin-name">define</span></span> (<span class="hljs-name">add</span> x y) (<span class="hljs-name">apply-generic</span> <span class="hljs-symbol">'add</span> x y))
(<span class="hljs-name"><span class="hljs-builtin-name">define</span></span> (<span class="hljs-name">sub</span> x y) (<span class="hljs-name">apply-generic</span> <span class="hljs-symbol">'sub</span> x y))
(<span class="hljs-name"><span class="hljs-builtin-name">define</span></span> (<span class="hljs-name">mul</span> x y) (<span class="hljs-name">apply-generic</span> <span class="hljs-symbol">'mul</span> x y))
(<span class="hljs-name"><span class="hljs-builtin-name">define</span></span> (<span class="hljs-name">div</span> x y) (<span class="hljs-name">apply-generic</span> <span class="hljs-symbol">'div</span> x y))

(<span class="hljs-name"><span class="hljs-builtin-name">define</span></span> (<span class="hljs-name">install-scheme-number-package</span>)
  (<span class="hljs-name"><span class="hljs-builtin-name">define</span></span> (<span class="hljs-name">tag</span> x)
    (<span class="hljs-name">attach-tag</span> <span class="hljs-symbol">'scheme-number</span> x))    
  (<span class="hljs-name">put</span> <span class="hljs-symbol">'add</span> '(scheme-number scheme-number)
       (<span class="hljs-name"><span class="hljs-builtin-name">lambda</span></span> (x y) (<span class="hljs-name">tag</span> (<span class="hljs-name"><span class="hljs-builtin-name">+</span></span> x y))))
  (<span class="hljs-name">put</span> <span class="hljs-symbol">'sub</span> '(scheme-number scheme-number)
       (<span class="hljs-name"><span class="hljs-builtin-name">lambda</span></span> (x y) (<span class="hljs-name">tag</span> (<span class="hljs-name"><span class="hljs-builtin-name">-</span></span> x y))))
  (<span class="hljs-name">put</span> <span class="hljs-symbol">'mul</span> '(scheme-number scheme-number)
       (<span class="hljs-name"><span class="hljs-builtin-name">lambda</span></span> (x y) (<span class="hljs-name">tag</span> (<span class="hljs-name"><span class="hljs-builtin-name">*</span></span> x y))))
  (<span class="hljs-name">put</span> <span class="hljs-symbol">'div</span> '(scheme-number scheme-number)
       (<span class="hljs-name"><span class="hljs-builtin-name">lambda</span></span> (x y) (<span class="hljs-name">tag</span> (<span class="hljs-name"><span class="hljs-builtin-name">/</span></span> x y))))
  (<span class="hljs-name">put</span> <span class="hljs-symbol">'make</span> <span class="hljs-symbol">'scheme-number</span>
       (<span class="hljs-name"><span class="hljs-builtin-name">lambda</span></span> (x) (<span class="hljs-name">tag</span> x)))
  <span class="hljs-symbol">'done</span>)
(<span class="hljs-name">install-scheme-number-package</span>)</code></pre>
<h2>Exercise 2.79</h2>
<pre><code class="hljs language-scheme">(<span class="hljs-name">put</span> <span class="hljs-symbol">'equ?</span> '(scheme-number scheme-number) =)

(<span class="hljs-name">put</span> <span class="hljs-symbol">'equ?</span> '(complex complex)
     (<span class="hljs-name"><span class="hljs-builtin-name">lambda</span></span> (x y) (<span class="hljs-name"><span class="hljs-builtin-name">and</span></span>
        (<span class="hljs-name"><span class="hljs-builtin-name">=</span></span> (<span class="hljs-name"><span class="hljs-builtin-name">real-part</span></span> x) (<span class="hljs-name"><span class="hljs-builtin-name">real-part</span></span> y))
        (<span class="hljs-name"><span class="hljs-builtin-name">=</span></span> (<span class="hljs-name"><span class="hljs-builtin-name">imag-part</span></span> x) (<span class="hljs-name"><span class="hljs-builtin-name">imag-part</span></span> y))
    ))
)
(<span class="hljs-name"><span class="hljs-builtin-name">define</span></span> (<span class="hljs-name">equ?</span> x y) (<span class="hljs-name">apply-generic</span> <span class="hljs-symbol">'equ?</span> x y))</code></pre>
<h2>Exercise 2.80</h2>
<pre><code class="hljs language-scheme">(<span class="hljs-name">put</span> <span class="hljs-symbol">'zero?</span> '(scheme-number)
     (<span class="hljs-name"><span class="hljs-builtin-name">lambda</span></span> (x) (<span class="hljs-name"><span class="hljs-builtin-name">=</span></span> x <span class="hljs-number">0</span>))
)
(<span class="hljs-name">put</span> <span class="hljs-symbol">'zero?</span> '(complex)
     (<span class="hljs-name"><span class="hljs-builtin-name">lambda</span></span> (x) (<span class="hljs-name"><span class="hljs-builtin-name">=</span></span> (<span class="hljs-name"><span class="hljs-builtin-name">magnitude</span></span> x) <span class="hljs-number">0</span>))
)
(<span class="hljs-name"><span class="hljs-builtin-name">define</span></span> (<span class="hljs-name"><span class="hljs-builtin-name">zero?</span></span> x) (<span class="hljs-name">apply-generic</span> <span class="hljs-symbol">'zero?</span> x))</code></pre></div></div></div><div class="MuiGrid-root MuiGrid-item MuiGrid-grid-xs-12 MuiGrid-grid-md-3"><h6 class="MuiTypography-root jss5 MuiTypography-h6 MuiTypography-gutterBottom">Archives</h6><ul><li><a href="/month/2021-10/page/1">2021-10</a> <span title="posts count">(<!-- -->2<!-- -->)</span></li><li><a href="/month/2021-01/page/1">2021-01</a> <span title="posts count">(<!-- -->4<!-- -->)</span></li><li><a href="/month/2020-12/page/1">2020-12</a> <span title="posts count">(<!-- -->1<!-- -->)</span></li><li><a href="/month/2020-09/page/1">2020-09</a> <span title="posts count">(<!-- -->2<!-- -->)</span></li><li><a href="/month/2020-08/page/1">2020-08</a> <span title="posts count">(<!-- -->2<!-- -->)</span></li><li><a href="/month/2020-07/page/1">2020-07</a> <span title="posts count">(<!-- -->10<!-- -->)</span></li><li><a href="/month/2020-06/page/1">2020-06</a> <span title="posts count">(<!-- -->7<!-- -->)</span></li><li><a href="/month/2018-12/page/1">2018-12</a> <span title="posts count">(<!-- -->1<!-- -->)</span></li></ul><h6 class="MuiTypography-root jss5 MuiTypography-h6 MuiTypography-gutterBottom">Topics</h6><ul><li><a href="/tag/MOOC/page/1">MOOC</a> <span title="posts count">(<!-- -->2<!-- -->)</span></li><li><a href="/tag/SICP/page/1">SICP</a> <span title="posts count">(<!-- -->20<!-- -->)</span></li><li><a href="/tag/asm/page/1">asm</a> <span title="posts count">(<!-- -->2<!-- -->)</span></li><li><a href="/tag/ideas/page/1">ideas</a> <span title="posts count">(<!-- -->1<!-- -->)</span></li><li><a href="/tag/notes/page/1">notes</a> <span title="posts count">(<!-- -->7<!-- -->)</span></li><li><a href="/tag/on%20writing/page/1">on writing</a> <span title="posts count">(<!-- -->3<!-- -->)</span></li></ul></div><p class="MuiTypography-root MuiTypography-body2 MuiTypography-colorTextSecondary MuiTypography-alignCenter">© <!-- -->2021<!-- --> Bunyk Taras. Built with Material UI &amp; Next.js</p></div></div></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"post":{"id":"sicp2.5.1","title":"SICP 2.5.1 Generic arithmetic operations","date":"2020-09-02","tags":["SICP"],"excerpt":"\u003cp\u003eIn \u003ca href=\"/posts/sicp2.4/\"\u003eprevious post\u003c/a\u003e I have used wrong StackOverflow answer. :) Or, to be more precise, right answer for that section, but useless here, as we want to store in table functions for multiple arguments.\u003c/p\u003e\n\u003cp\u003e\u003ca href=\"https://stackoverflow.com/a/19114031/816449\"\u003eCorrect answer\u003c/a\u003e that supports lists looks like this:\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-scheme\"\u003e(\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003edefine\u003c/span\u003e\u003c/span\u003e *op-table* (\u003cspan class=\"hljs-name\"\u003emake-hash-table\u003c/span\u003e))\n\n(\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003edefine\u003c/span\u003e\u003c/span\u003e (\u003cspan class=\"hljs-name\"\u003eput\u003c/span\u003e op type proc)\n  (\u003cspan class=\"hljs-name\"\u003ehash-table/put!\u003c/span\u003e *op-table* (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003elist\u003c/span\u003e\u003c/span\u003e op type) proc))\n\n(\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003edefine\u003c/span\u003e\u003c/span\u003e (\u003cspan class=\"hljs-name\"\u003eget\u003c/span\u003e op type)\n  (\u003cspan class=\"hljs-name\"\u003ehash-table/get\u003c/span\u003e *op-table* (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003elist\u003c/span\u003e\u003c/span\u003e op type) \u003cspan class=\"hljs-literal\"\u003e#f\u003c/span\u003e))\u003c/code\u003e\u003c/pre\u003e","content":"\u003cp\u003eIn \u003ca href=\"/posts/sicp2.4/\"\u003eprevious post\u003c/a\u003e I have used wrong StackOverflow answer. :) Or, to be more precise, right answer for that section, but useless here, as we want to store in table functions for multiple arguments.\u003c/p\u003e\n\u003cp\u003e\u003ca href=\"https://stackoverflow.com/a/19114031/816449\"\u003eCorrect answer\u003c/a\u003e that supports lists looks like this:\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-scheme\"\u003e(\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003edefine\u003c/span\u003e\u003c/span\u003e *op-table* (\u003cspan class=\"hljs-name\"\u003emake-hash-table\u003c/span\u003e))\n\n(\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003edefine\u003c/span\u003e\u003c/span\u003e (\u003cspan class=\"hljs-name\"\u003eput\u003c/span\u003e op type proc)\n  (\u003cspan class=\"hljs-name\"\u003ehash-table/put!\u003c/span\u003e *op-table* (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003elist\u003c/span\u003e\u003c/span\u003e op type) proc))\n\n(\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003edefine\u003c/span\u003e\u003c/span\u003e (\u003cspan class=\"hljs-name\"\u003eget\u003c/span\u003e op type)\n  (\u003cspan class=\"hljs-name\"\u003ehash-table/get\u003c/span\u003e *op-table* (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003elist\u003c/span\u003e\u003c/span\u003e op type) \u003cspan class=\"hljs-literal\"\u003e#f\u003c/span\u003e))\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eAlso I needed to copypaste a lot of code to be able to start working on \u003ca href=\"#exercise-2-77\"\u003efirst exercise\u003c/a\u003e:\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-scheme\"\u003e(\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003edefine\u003c/span\u003e\u003c/span\u003e (\u003cspan class=\"hljs-name\"\u003eattach-tag\u003c/span\u003e type-tag contents)\n  (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003econs\u003c/span\u003e\u003c/span\u003e type-tag contents))\n(\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003edefine\u003c/span\u003e\u003c/span\u003e (\u003cspan class=\"hljs-name\"\u003etype-tag\u003c/span\u003e datum)\n  (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003eif\u003c/span\u003e\u003c/span\u003e (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003epair?\u003c/span\u003e\u003c/span\u003e datum)\n      (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003ecar\u003c/span\u003e\u003c/span\u003e datum)\n      (\u003cspan class=\"hljs-name\"\u003eerror\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e\"Bad tagged datum -- TYPE-TAG\"\u003c/span\u003e datum)))\n(\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003edefine\u003c/span\u003e\u003c/span\u003e (\u003cspan class=\"hljs-name\"\u003econtents\u003c/span\u003e datum)\n  (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003eif\u003c/span\u003e\u003c/span\u003e (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003epair?\u003c/span\u003e\u003c/span\u003e datum)\n      (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003ecdr\u003c/span\u003e\u003c/span\u003e datum)\n      (\u003cspan class=\"hljs-name\"\u003eerror\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e\"Bad tagged datum -- CONTENTS\"\u003c/span\u003e datum)))\n\n(\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003edefine\u003c/span\u003e\u003c/span\u003e (\u003cspan class=\"hljs-name\"\u003eapply-generic\u003c/span\u003e op . args)\n  (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003elet\u003c/span\u003e\u003c/span\u003e ((\u003cspan class=\"hljs-name\"\u003etype-tags\u003c/span\u003e (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003emap\u003c/span\u003e\u003c/span\u003e type-tag args)))\n    (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003elet\u003c/span\u003e\u003c/span\u003e ((\u003cspan class=\"hljs-name\"\u003eproc\u003c/span\u003e (\u003cspan class=\"hljs-name\"\u003eget\u003c/span\u003e op type-tags)))\n      (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003eif\u003c/span\u003e\u003c/span\u003e proc\n          (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003eapply\u003c/span\u003e\u003c/span\u003e proc (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003emap\u003c/span\u003e\u003c/span\u003e contents args))\n          (\u003cspan class=\"hljs-name\"\u003eerror\u003c/span\u003e\n            \u003cspan class=\"hljs-string\"\u003e\"No method for these types -- APPLY-GENERIC\"\u003c/span\u003e\n            (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003elist\u003c/span\u003e\u003c/span\u003e op type-tags))))))\n\n(\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003edefine\u003c/span\u003e\u003c/span\u003e (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003ereal-part\u003c/span\u003e\u003c/span\u003e z) (\u003cspan class=\"hljs-name\"\u003eapply-generic\u003c/span\u003e \u003cspan class=\"hljs-symbol\"\u003e'real-part\u003c/span\u003e z))\n(\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003edefine\u003c/span\u003e\u003c/span\u003e (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003eimag-part\u003c/span\u003e\u003c/span\u003e z) (\u003cspan class=\"hljs-name\"\u003eapply-generic\u003c/span\u003e \u003cspan class=\"hljs-symbol\"\u003e'imag-part\u003c/span\u003e z))\n(\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003edefine\u003c/span\u003e\u003c/span\u003e (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003emagnitude\u003c/span\u003e\u003c/span\u003e z) (\u003cspan class=\"hljs-name\"\u003eapply-generic\u003c/span\u003e \u003cspan class=\"hljs-symbol\"\u003e'magnitude\u003c/span\u003e z))\n(\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003edefine\u003c/span\u003e\u003c/span\u003e (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003eangle\u003c/span\u003e\u003c/span\u003e z) (\u003cspan class=\"hljs-name\"\u003eapply-generic\u003c/span\u003e \u003cspan class=\"hljs-symbol\"\u003e'angle\u003c/span\u003e z))\n\n\n\n(\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003edefine\u003c/span\u003e\u003c/span\u003e (\u003cspan class=\"hljs-name\"\u003einstall-rectangular-package\u003c/span\u003e)\n  \u003cspan class=\"hljs-comment\"\u003e;; internal procedures\u003c/span\u003e\n  (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003edefine\u003c/span\u003e\u003c/span\u003e (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003ereal-part\u003c/span\u003e\u003c/span\u003e z) (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003ecar\u003c/span\u003e\u003c/span\u003e z))\n  (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003edefine\u003c/span\u003e\u003c/span\u003e (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003eimag-part\u003c/span\u003e\u003c/span\u003e z) (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003ecdr\u003c/span\u003e\u003c/span\u003e z))\n  (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003edefine\u003c/span\u003e\u003c/span\u003e (\u003cspan class=\"hljs-name\"\u003emake-from-real-imag\u003c/span\u003e x y) (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003econs\u003c/span\u003e\u003c/span\u003e x y))\n  (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003edefine\u003c/span\u003e\u003c/span\u003e (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003emagnitude\u003c/span\u003e\u003c/span\u003e z)\n    (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003esqrt\u003c/span\u003e\u003c/span\u003e (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003e+\u003c/span\u003e\u003c/span\u003e (\u003cspan class=\"hljs-name\"\u003esquare\u003c/span\u003e (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003ereal-part\u003c/span\u003e\u003c/span\u003e z))\n             (\u003cspan class=\"hljs-name\"\u003esquare\u003c/span\u003e (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003eimag-part\u003c/span\u003e\u003c/span\u003e z)))))\n  (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003edefine\u003c/span\u003e\u003c/span\u003e (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003eangle\u003c/span\u003e\u003c/span\u003e z)\n    (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003eatan\u003c/span\u003e\u003c/span\u003e (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003eimag-part\u003c/span\u003e\u003c/span\u003e z) (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003ereal-part\u003c/span\u003e\u003c/span\u003e z)))\n  (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003edefine\u003c/span\u003e\u003c/span\u003e (\u003cspan class=\"hljs-name\"\u003emake-from-mag-ang\u003c/span\u003e r a) \n    (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003econs\u003c/span\u003e\u003c/span\u003e (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003e*\u003c/span\u003e\u003c/span\u003e r (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003ecos\u003c/span\u003e\u003c/span\u003e a)) (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003e*\u003c/span\u003e\u003c/span\u003e r (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003esin\u003c/span\u003e\u003c/span\u003e a))))\n  \u003cspan class=\"hljs-comment\"\u003e;; interface to the rest of the system\u003c/span\u003e\n  (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003edefine\u003c/span\u003e\u003c/span\u003e (\u003cspan class=\"hljs-name\"\u003etag\u003c/span\u003e x) (\u003cspan class=\"hljs-name\"\u003eattach-tag\u003c/span\u003e \u003cspan class=\"hljs-symbol\"\u003e'rectangular\u003c/span\u003e x))\n  (\u003cspan class=\"hljs-name\"\u003eput\u003c/span\u003e \u003cspan class=\"hljs-symbol\"\u003e'real-part\u003c/span\u003e '(rectangular) real-part)\n  (\u003cspan class=\"hljs-name\"\u003eput\u003c/span\u003e \u003cspan class=\"hljs-symbol\"\u003e'imag-part\u003c/span\u003e '(rectangular) imag-part)\n  (\u003cspan class=\"hljs-name\"\u003eput\u003c/span\u003e \u003cspan class=\"hljs-symbol\"\u003e'magnitude\u003c/span\u003e '(rectangular) magnitude)\n  (\u003cspan class=\"hljs-name\"\u003eput\u003c/span\u003e \u003cspan class=\"hljs-symbol\"\u003e'angle\u003c/span\u003e '(rectangular) angle)\n  (\u003cspan class=\"hljs-name\"\u003eput\u003c/span\u003e \u003cspan class=\"hljs-symbol\"\u003e'make-from-real-imag\u003c/span\u003e \u003cspan class=\"hljs-symbol\"\u003e'rectangular\u003c/span\u003e \n       (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003elambda\u003c/span\u003e\u003c/span\u003e (x y) (\u003cspan class=\"hljs-name\"\u003etag\u003c/span\u003e (\u003cspan class=\"hljs-name\"\u003emake-from-real-imag\u003c/span\u003e x y))))\n  (\u003cspan class=\"hljs-name\"\u003eput\u003c/span\u003e \u003cspan class=\"hljs-symbol\"\u003e'make-from-mag-ang\u003c/span\u003e \u003cspan class=\"hljs-symbol\"\u003e'rectangular\u003c/span\u003e \n       (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003elambda\u003c/span\u003e\u003c/span\u003e (r a) (\u003cspan class=\"hljs-name\"\u003etag\u003c/span\u003e (\u003cspan class=\"hljs-name\"\u003emake-from-mag-ang\u003c/span\u003e r a))))\n  \u003cspan class=\"hljs-symbol\"\u003e'done\u003c/span\u003e)\n(\u003cspan class=\"hljs-name\"\u003einstall-rectangular-package\u003c/span\u003e)\n\n(\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003edefine\u003c/span\u003e\u003c/span\u003e (\u003cspan class=\"hljs-name\"\u003einstall-polar-package\u003c/span\u003e)\n  \u003cspan class=\"hljs-comment\"\u003e;; internal procedures\u003c/span\u003e\n  (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003edefine\u003c/span\u003e\u003c/span\u003e (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003emagnitude\u003c/span\u003e\u003c/span\u003e z) (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003ecar\u003c/span\u003e\u003c/span\u003e z))\n  (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003edefine\u003c/span\u003e\u003c/span\u003e (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003eangle\u003c/span\u003e\u003c/span\u003e z) (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003ecdr\u003c/span\u003e\u003c/span\u003e z))\n  (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003edefine\u003c/span\u003e\u003c/span\u003e (\u003cspan class=\"hljs-name\"\u003emake-from-mag-ang\u003c/span\u003e r a) (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003econs\u003c/span\u003e\u003c/span\u003e r a))\n  (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003edefine\u003c/span\u003e\u003c/span\u003e (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003ereal-part\u003c/span\u003e\u003c/span\u003e z)\n    (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003e*\u003c/span\u003e\u003c/span\u003e (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003emagnitude\u003c/span\u003e\u003c/span\u003e z) (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003ecos\u003c/span\u003e\u003c/span\u003e (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003eangle\u003c/span\u003e\u003c/span\u003e z))))\n  (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003edefine\u003c/span\u003e\u003c/span\u003e (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003eimag-part\u003c/span\u003e\u003c/span\u003e z)\n    (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003e*\u003c/span\u003e\u003c/span\u003e (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003emagnitude\u003c/span\u003e\u003c/span\u003e z) (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003esin\u003c/span\u003e\u003c/span\u003e (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003eangle\u003c/span\u003e\u003c/span\u003e z))))\n  (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003edefine\u003c/span\u003e\u003c/span\u003e (\u003cspan class=\"hljs-name\"\u003emake-from-real-imag\u003c/span\u003e x y) \n    (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003econs\u003c/span\u003e\u003c/span\u003e (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003esqrt\u003c/span\u003e\u003c/span\u003e (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003e+\u003c/span\u003e\u003c/span\u003e (\u003cspan class=\"hljs-name\"\u003esquare\u003c/span\u003e x) (\u003cspan class=\"hljs-name\"\u003esquare\u003c/span\u003e y)))\n          (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003eatan\u003c/span\u003e\u003c/span\u003e y x)))\n  \u003cspan class=\"hljs-comment\"\u003e;; interface to the rest of the system\u003c/span\u003e\n  (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003edefine\u003c/span\u003e\u003c/span\u003e (\u003cspan class=\"hljs-name\"\u003etag\u003c/span\u003e x) (\u003cspan class=\"hljs-name\"\u003eattach-tag\u003c/span\u003e \u003cspan class=\"hljs-symbol\"\u003e'polar\u003c/span\u003e x))\n  (\u003cspan class=\"hljs-name\"\u003eput\u003c/span\u003e \u003cspan class=\"hljs-symbol\"\u003e'real-part\u003c/span\u003e '(polar) real-part)\n  (\u003cspan class=\"hljs-name\"\u003eput\u003c/span\u003e \u003cspan class=\"hljs-symbol\"\u003e'imag-part\u003c/span\u003e '(polar) imag-part)\n  (\u003cspan class=\"hljs-name\"\u003eput\u003c/span\u003e \u003cspan class=\"hljs-symbol\"\u003e'magnitude\u003c/span\u003e '(polar) magnitude)\n  (\u003cspan class=\"hljs-name\"\u003eput\u003c/span\u003e \u003cspan class=\"hljs-symbol\"\u003e'angle\u003c/span\u003e '(polar) angle)\n  (\u003cspan class=\"hljs-name\"\u003eput\u003c/span\u003e \u003cspan class=\"hljs-symbol\"\u003e'make-from-real-imag\u003c/span\u003e \u003cspan class=\"hljs-symbol\"\u003e'polar\u003c/span\u003e\n       (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003elambda\u003c/span\u003e\u003c/span\u003e (x y) (\u003cspan class=\"hljs-name\"\u003etag\u003c/span\u003e (\u003cspan class=\"hljs-name\"\u003emake-from-real-imag\u003c/span\u003e x y))))\n  (\u003cspan class=\"hljs-name\"\u003eput\u003c/span\u003e \u003cspan class=\"hljs-symbol\"\u003e'make-from-mag-ang\u003c/span\u003e \u003cspan class=\"hljs-symbol\"\u003e'polar\u003c/span\u003e \n       (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003elambda\u003c/span\u003e\u003c/span\u003e (r a) (\u003cspan class=\"hljs-name\"\u003etag\u003c/span\u003e (\u003cspan class=\"hljs-name\"\u003emake-from-mag-ang\u003c/span\u003e r a))))\n  \u003cspan class=\"hljs-symbol\"\u003e'done\u003c/span\u003e)\n(\u003cspan class=\"hljs-name\"\u003einstall-rectangular-package\u003c/span\u003e)\n\n(\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003edefine\u003c/span\u003e\u003c/span\u003e (\u003cspan class=\"hljs-name\"\u003einstall-complex-package\u003c/span\u003e)\n  \u003cspan class=\"hljs-comment\"\u003e;; imported procedures from rectangular and polar packages\u003c/span\u003e\n  (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003edefine\u003c/span\u003e\u003c/span\u003e (\u003cspan class=\"hljs-name\"\u003emake-from-real-imag\u003c/span\u003e x y)\n    ((\u003cspan class=\"hljs-name\"\u003eget\u003c/span\u003e \u003cspan class=\"hljs-symbol\"\u003e'make-from-real-imag\u003c/span\u003e \u003cspan class=\"hljs-symbol\"\u003e'rectangular\u003c/span\u003e) x y))\n  (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003edefine\u003c/span\u003e\u003c/span\u003e (\u003cspan class=\"hljs-name\"\u003emake-from-mag-ang\u003c/span\u003e r a)\n    ((\u003cspan class=\"hljs-name\"\u003eget\u003c/span\u003e \u003cspan class=\"hljs-symbol\"\u003e'make-from-mag-ang\u003c/span\u003e \u003cspan class=\"hljs-symbol\"\u003e'polar\u003c/span\u003e) r a))\n  \u003cspan class=\"hljs-comment\"\u003e;; internal procedures\u003c/span\u003e\n  (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003edefine\u003c/span\u003e\u003c/span\u003e (\u003cspan class=\"hljs-name\"\u003eadd-complex\u003c/span\u003e z1 z2)\n    (\u003cspan class=\"hljs-name\"\u003emake-from-real-imag\u003c/span\u003e (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003e+\u003c/span\u003e\u003c/span\u003e (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003ereal-part\u003c/span\u003e\u003c/span\u003e z1) (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003ereal-part\u003c/span\u003e\u003c/span\u003e z2))\n                         (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003e+\u003c/span\u003e\u003c/span\u003e (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003eimag-part\u003c/span\u003e\u003c/span\u003e z1) (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003eimag-part\u003c/span\u003e\u003c/span\u003e z2))))\n  (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003edefine\u003c/span\u003e\u003c/span\u003e (\u003cspan class=\"hljs-name\"\u003esub-complex\u003c/span\u003e z1 z2)\n    (\u003cspan class=\"hljs-name\"\u003emake-from-real-imag\u003c/span\u003e (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003e-\u003c/span\u003e\u003c/span\u003e (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003ereal-part\u003c/span\u003e\u003c/span\u003e z1) (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003ereal-part\u003c/span\u003e\u003c/span\u003e z2))\n                         (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003e-\u003c/span\u003e\u003c/span\u003e (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003eimag-part\u003c/span\u003e\u003c/span\u003e z1) (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003eimag-part\u003c/span\u003e\u003c/span\u003e z2))))\n  (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003edefine\u003c/span\u003e\u003c/span\u003e (\u003cspan class=\"hljs-name\"\u003emul-complex\u003c/span\u003e z1 z2)\n    (\u003cspan class=\"hljs-name\"\u003emake-from-mag-ang\u003c/span\u003e (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003e*\u003c/span\u003e\u003c/span\u003e (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003emagnitude\u003c/span\u003e\u003c/span\u003e z1) (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003emagnitude\u003c/span\u003e\u003c/span\u003e z2))\n                       (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003e+\u003c/span\u003e\u003c/span\u003e (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003eangle\u003c/span\u003e\u003c/span\u003e z1) (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003eangle\u003c/span\u003e\u003c/span\u003e z2))))\n  (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003edefine\u003c/span\u003e\u003c/span\u003e (\u003cspan class=\"hljs-name\"\u003ediv-complex\u003c/span\u003e z1 z2)\n    (\u003cspan class=\"hljs-name\"\u003emake-from-mag-ang\u003c/span\u003e (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003e/\u003c/span\u003e\u003c/span\u003e (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003emagnitude\u003c/span\u003e\u003c/span\u003e z1) (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003emagnitude\u003c/span\u003e\u003c/span\u003e z2))\n                       (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003e-\u003c/span\u003e\u003c/span\u003e (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003eangle\u003c/span\u003e\u003c/span\u003e z1) (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003eangle\u003c/span\u003e\u003c/span\u003e z2))))\n  \u003cspan class=\"hljs-comment\"\u003e;; interface to rest of the system\u003c/span\u003e\n  (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003edefine\u003c/span\u003e\u003c/span\u003e (\u003cspan class=\"hljs-name\"\u003etag\u003c/span\u003e z) (\u003cspan class=\"hljs-name\"\u003eattach-tag\u003c/span\u003e \u003cspan class=\"hljs-symbol\"\u003e'complex\u003c/span\u003e z))\n  (\u003cspan class=\"hljs-name\"\u003eput\u003c/span\u003e \u003cspan class=\"hljs-symbol\"\u003e'add\u003c/span\u003e '(complex complex)\n       (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003elambda\u003c/span\u003e\u003c/span\u003e (z1 z2) (\u003cspan class=\"hljs-name\"\u003etag\u003c/span\u003e (\u003cspan class=\"hljs-name\"\u003eadd-complex\u003c/span\u003e z1 z2))))\n  (\u003cspan class=\"hljs-name\"\u003eput\u003c/span\u003e \u003cspan class=\"hljs-symbol\"\u003e'sub\u003c/span\u003e '(complex complex)\n       (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003elambda\u003c/span\u003e\u003c/span\u003e (z1 z2) (\u003cspan class=\"hljs-name\"\u003etag\u003c/span\u003e (\u003cspan class=\"hljs-name\"\u003esub-complex\u003c/span\u003e z1 z2))))\n  (\u003cspan class=\"hljs-name\"\u003eput\u003c/span\u003e \u003cspan class=\"hljs-symbol\"\u003e'mul\u003c/span\u003e '(complex complex)\n       (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003elambda\u003c/span\u003e\u003c/span\u003e (z1 z2) (\u003cspan class=\"hljs-name\"\u003etag\u003c/span\u003e (\u003cspan class=\"hljs-name\"\u003emul-complex\u003c/span\u003e z1 z2))))\n  (\u003cspan class=\"hljs-name\"\u003eput\u003c/span\u003e \u003cspan class=\"hljs-symbol\"\u003e'div\u003c/span\u003e '(complex complex)\n       (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003elambda\u003c/span\u003e\u003c/span\u003e (z1 z2) (\u003cspan class=\"hljs-name\"\u003etag\u003c/span\u003e (\u003cspan class=\"hljs-name\"\u003ediv-complex\u003c/span\u003e z1 z2))))\n  (\u003cspan class=\"hljs-name\"\u003eput\u003c/span\u003e \u003cspan class=\"hljs-symbol\"\u003e'make-from-real-imag\u003c/span\u003e \u003cspan class=\"hljs-symbol\"\u003e'complex\u003c/span\u003e\n       (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003elambda\u003c/span\u003e\u003c/span\u003e (x y) (\u003cspan class=\"hljs-name\"\u003etag\u003c/span\u003e (\u003cspan class=\"hljs-name\"\u003emake-from-real-imag\u003c/span\u003e x y))))\n  (\u003cspan class=\"hljs-name\"\u003eput\u003c/span\u003e \u003cspan class=\"hljs-symbol\"\u003e'make-from-mag-ang\u003c/span\u003e \u003cspan class=\"hljs-symbol\"\u003e'complex\u003c/span\u003e\n       (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003elambda\u003c/span\u003e\u003c/span\u003e (r a) (\u003cspan class=\"hljs-name\"\u003etag\u003c/span\u003e (\u003cspan class=\"hljs-name\"\u003emake-from-mag-ang\u003c/span\u003e r a))))\n  (\u003cspan class=\"hljs-name\"\u003eput\u003c/span\u003e \u003cspan class=\"hljs-symbol\"\u003e'real-part\u003c/span\u003e '(complex) real-part)\n  (\u003cspan class=\"hljs-name\"\u003eput\u003c/span\u003e \u003cspan class=\"hljs-symbol\"\u003e'imag-part\u003c/span\u003e '(complex) imag-part)\n  (\u003cspan class=\"hljs-name\"\u003eput\u003c/span\u003e \u003cspan class=\"hljs-symbol\"\u003e'magnitude\u003c/span\u003e '(complex) magnitude)\n  (\u003cspan class=\"hljs-name\"\u003eput\u003c/span\u003e \u003cspan class=\"hljs-symbol\"\u003e'angle\u003c/span\u003e '(complex) angle)\n  \u003cspan class=\"hljs-symbol\"\u003e'done\u003c/span\u003e)\n(\u003cspan class=\"hljs-name\"\u003einstall-complex-package\u003c/span\u003e)\u003c/code\u003e\u003c/pre\u003e\n\u003ch2\u003eExercise 2.77\u003c/h2\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-scheme\"\u003e(\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003edefine\u003c/span\u003e\u003c/span\u003e z (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003econs\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"hljs-symbol\"\u003e'complex\u003c/span\u003e (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003econs\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"hljs-symbol\"\u003e'rectangular\u003c/span\u003e (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003econs\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"hljs-number\"\u003e3\u003c/span\u003e \u003cspan class=\"hljs-number\"\u003e4\u003c/span\u003e))))\n\n(\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003emagnitude\u003c/span\u003e\u003c/span\u003e z)\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eIt calls \u003ccode\u003eapply-generic\u003c/code\u003e to do operation \u003ccode\u003e'magnitude\u003c/code\u003e with z\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-scheme\"\u003e(\u003cspan class=\"hljs-name\"\u003eapply-generic\u003c/span\u003e \u003cspan class=\"hljs-symbol\"\u003e'magnitude\u003c/span\u003e (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003econs\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"hljs-symbol\"\u003e'complex\u003c/span\u003e (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003econs\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"hljs-symbol\"\u003e'rectangular\u003c/span\u003e (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003econs\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"hljs-number\"\u003e3\u003c/span\u003e \u003cspan class=\"hljs-number\"\u003e4\u003c/span\u003e))))\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e\u003ccode\u003eapply-generic\u003c/code\u003e looks for operation \u003ccode\u003e'magnitude\u003c/code\u003e for \u003ccode\u003e'complex\u003c/code\u003e numbers, and applies it to value inside\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-scheme\"\u003e(\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003eapply\u003c/span\u003e\u003c/span\u003e (\u003cspan class=\"hljs-name\"\u003eget\u003c/span\u003e \u003cspan class=\"hljs-symbol\"\u003e'magnitude\u003c/span\u003e \u003cspan class=\"hljs-symbol\"\u003e'complex\u003c/span\u003e) (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003econs\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"hljs-symbol\"\u003e'rectangular\u003c/span\u003e (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003econs\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"hljs-number\"\u003e3\u003c/span\u003e \u003cspan class=\"hljs-number\"\u003e4\u003c/span\u003e)))\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eThat operation, thanks to Alyssa P. Hacker, is just application of same \u003ccode\u003emagnitude\u003c/code\u003e function, but this time for \u003ccode\u003e'rectangular\u003c/code\u003e object\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-scheme\"\u003e(\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003emagnitude\u003c/span\u003e\u003c/span\u003e (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003econs\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"hljs-symbol\"\u003e'rectangular\u003c/span\u003e (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003econs\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"hljs-number\"\u003e3\u003c/span\u003e \u003cspan class=\"hljs-number\"\u003e4\u003c/span\u003e)))\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eapply-generic applies operation 'magnitude for 'rectangular type to content of rectangular \"package\":\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-scheme\"\u003e(\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003eapply\u003c/span\u003e\u003c/span\u003e (\u003cspan class=\"hljs-name\"\u003eget\u003c/span\u003e \u003cspan class=\"hljs-symbol\"\u003e'magnitude\u003c/span\u003e \u003cspan class=\"hljs-symbol\"\u003e'rectangular\u003c/span\u003e) (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003econs\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"hljs-number\"\u003e3\u003c/span\u003e \u003cspan class=\"hljs-number\"\u003e4\u003c/span\u003e))\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003ewhich is \u003ccode\u003emagnitude\u003c/code\u003e function from inside rectangular package\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-scheme\"\u003e(\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003emagnitude\u003c/span\u003e\u003c/span\u003e (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003econs\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"hljs-number\"\u003e3\u003c/span\u003e \u003cspan class=\"hljs-number\"\u003e4\u003c/span\u003e))\n(\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003esqrt\u003c/span\u003e\u003c/span\u003e (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003e+\u003c/span\u003e\u003c/span\u003e (\u003cspan class=\"hljs-name\"\u003esquare\u003c/span\u003e \u003cspan class=\"hljs-number\"\u003e3\u003c/span\u003e)\n         (\u003cspan class=\"hljs-name\"\u003esquare\u003c/span\u003e \u003cspan class=\"hljs-number\"\u003e4\u003c/span\u003e)))\n\u003cspan class=\"hljs-number\"\u003e5\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\n\u003ch2\u003eExercise 2.78\u003c/h2\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-scheme\"\u003e(\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003edefine\u003c/span\u003e\u003c/span\u003e (\u003cspan class=\"hljs-name\"\u003eattach-tag\u003c/span\u003e type-tag contents)\n  (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003eif\u003c/span\u003e\u003c/span\u003e (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003eeq?\u003c/span\u003e\u003c/span\u003e type-tag \u003cspan class=\"hljs-symbol\"\u003e'scheme-number\u003c/span\u003e)\n    contents\n    (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003econs\u003c/span\u003e\u003c/span\u003e type-tag contents)\n  )\n)\n(\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003edefine\u003c/span\u003e\u003c/span\u003e (\u003cspan class=\"hljs-name\"\u003etype-tag\u003c/span\u003e datum)\n  (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003econd\u003c/span\u003e\u003c/span\u003e\n    ((\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003enumber?\u003c/span\u003e\u003c/span\u003e datum) \u003cspan class=\"hljs-symbol\"\u003e'scheme-number\u003c/span\u003e)\n    ((\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003epair?\u003c/span\u003e\u003c/span\u003e datum) (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003ecar\u003c/span\u003e\u003c/span\u003e datum))\n    (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003eelse\u003c/span\u003e\u003c/span\u003e (\u003cspan class=\"hljs-name\"\u003eerror\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e\"Bad tagged datum -- TYPE-TAG\"\u003c/span\u003e datum))\n  )\n)\n(\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003edefine\u003c/span\u003e\u003c/span\u003e (\u003cspan class=\"hljs-name\"\u003econtents\u003c/span\u003e datum)\n  (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003econd\u003c/span\u003e\u003c/span\u003e\n    ((\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003enumber?\u003c/span\u003e\u003c/span\u003e datum) datum)\n    ((\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003epair?\u003c/span\u003e\u003c/span\u003e datum) (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003ecdr\u003c/span\u003e\u003c/span\u003e datum))\n    (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003eelse\u003c/span\u003e\u003c/span\u003e (\u003cspan class=\"hljs-name\"\u003eerror\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e\"Bad tagged datum -- CONTENTS\"\u003c/span\u003e datum))\n  )\n)\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eTo test:\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-scheme\"\u003e(\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003edefine\u003c/span\u003e\u003c/span\u003e (\u003cspan class=\"hljs-name\"\u003eadd\u003c/span\u003e x y) (\u003cspan class=\"hljs-name\"\u003eapply-generic\u003c/span\u003e \u003cspan class=\"hljs-symbol\"\u003e'add\u003c/span\u003e x y))\n(\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003edefine\u003c/span\u003e\u003c/span\u003e (\u003cspan class=\"hljs-name\"\u003esub\u003c/span\u003e x y) (\u003cspan class=\"hljs-name\"\u003eapply-generic\u003c/span\u003e \u003cspan class=\"hljs-symbol\"\u003e'sub\u003c/span\u003e x y))\n(\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003edefine\u003c/span\u003e\u003c/span\u003e (\u003cspan class=\"hljs-name\"\u003emul\u003c/span\u003e x y) (\u003cspan class=\"hljs-name\"\u003eapply-generic\u003c/span\u003e \u003cspan class=\"hljs-symbol\"\u003e'mul\u003c/span\u003e x y))\n(\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003edefine\u003c/span\u003e\u003c/span\u003e (\u003cspan class=\"hljs-name\"\u003ediv\u003c/span\u003e x y) (\u003cspan class=\"hljs-name\"\u003eapply-generic\u003c/span\u003e \u003cspan class=\"hljs-symbol\"\u003e'div\u003c/span\u003e x y))\n\n(\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003edefine\u003c/span\u003e\u003c/span\u003e (\u003cspan class=\"hljs-name\"\u003einstall-scheme-number-package\u003c/span\u003e)\n  (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003edefine\u003c/span\u003e\u003c/span\u003e (\u003cspan class=\"hljs-name\"\u003etag\u003c/span\u003e x)\n    (\u003cspan class=\"hljs-name\"\u003eattach-tag\u003c/span\u003e \u003cspan class=\"hljs-symbol\"\u003e'scheme-number\u003c/span\u003e x))    \n  (\u003cspan class=\"hljs-name\"\u003eput\u003c/span\u003e \u003cspan class=\"hljs-symbol\"\u003e'add\u003c/span\u003e '(scheme-number scheme-number)\n       (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003elambda\u003c/span\u003e\u003c/span\u003e (x y) (\u003cspan class=\"hljs-name\"\u003etag\u003c/span\u003e (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003e+\u003c/span\u003e\u003c/span\u003e x y))))\n  (\u003cspan class=\"hljs-name\"\u003eput\u003c/span\u003e \u003cspan class=\"hljs-symbol\"\u003e'sub\u003c/span\u003e '(scheme-number scheme-number)\n       (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003elambda\u003c/span\u003e\u003c/span\u003e (x y) (\u003cspan class=\"hljs-name\"\u003etag\u003c/span\u003e (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003e-\u003c/span\u003e\u003c/span\u003e x y))))\n  (\u003cspan class=\"hljs-name\"\u003eput\u003c/span\u003e \u003cspan class=\"hljs-symbol\"\u003e'mul\u003c/span\u003e '(scheme-number scheme-number)\n       (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003elambda\u003c/span\u003e\u003c/span\u003e (x y) (\u003cspan class=\"hljs-name\"\u003etag\u003c/span\u003e (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003e*\u003c/span\u003e\u003c/span\u003e x y))))\n  (\u003cspan class=\"hljs-name\"\u003eput\u003c/span\u003e \u003cspan class=\"hljs-symbol\"\u003e'div\u003c/span\u003e '(scheme-number scheme-number)\n       (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003elambda\u003c/span\u003e\u003c/span\u003e (x y) (\u003cspan class=\"hljs-name\"\u003etag\u003c/span\u003e (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003e/\u003c/span\u003e\u003c/span\u003e x y))))\n  (\u003cspan class=\"hljs-name\"\u003eput\u003c/span\u003e \u003cspan class=\"hljs-symbol\"\u003e'make\u003c/span\u003e \u003cspan class=\"hljs-symbol\"\u003e'scheme-number\u003c/span\u003e\n       (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003elambda\u003c/span\u003e\u003c/span\u003e (x) (\u003cspan class=\"hljs-name\"\u003etag\u003c/span\u003e x)))\n  \u003cspan class=\"hljs-symbol\"\u003e'done\u003c/span\u003e)\n(\u003cspan class=\"hljs-name\"\u003einstall-scheme-number-package\u003c/span\u003e)\u003c/code\u003e\u003c/pre\u003e\n\u003ch2\u003eExercise 2.79\u003c/h2\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-scheme\"\u003e(\u003cspan class=\"hljs-name\"\u003eput\u003c/span\u003e \u003cspan class=\"hljs-symbol\"\u003e'equ?\u003c/span\u003e '(scheme-number scheme-number) =)\n\n(\u003cspan class=\"hljs-name\"\u003eput\u003c/span\u003e \u003cspan class=\"hljs-symbol\"\u003e'equ?\u003c/span\u003e '(complex complex)\n     (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003elambda\u003c/span\u003e\u003c/span\u003e (x y) (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003eand\u003c/span\u003e\u003c/span\u003e\n        (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003e=\u003c/span\u003e\u003c/span\u003e (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003ereal-part\u003c/span\u003e\u003c/span\u003e x) (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003ereal-part\u003c/span\u003e\u003c/span\u003e y))\n        (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003e=\u003c/span\u003e\u003c/span\u003e (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003eimag-part\u003c/span\u003e\u003c/span\u003e x) (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003eimag-part\u003c/span\u003e\u003c/span\u003e y))\n    ))\n)\n(\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003edefine\u003c/span\u003e\u003c/span\u003e (\u003cspan class=\"hljs-name\"\u003eequ?\u003c/span\u003e x y) (\u003cspan class=\"hljs-name\"\u003eapply-generic\u003c/span\u003e \u003cspan class=\"hljs-symbol\"\u003e'equ?\u003c/span\u003e x y))\u003c/code\u003e\u003c/pre\u003e\n\u003ch2\u003eExercise 2.80\u003c/h2\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-scheme\"\u003e(\u003cspan class=\"hljs-name\"\u003eput\u003c/span\u003e \u003cspan class=\"hljs-symbol\"\u003e'zero?\u003c/span\u003e '(scheme-number)\n     (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003elambda\u003c/span\u003e\u003c/span\u003e (x) (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003e=\u003c/span\u003e\u003c/span\u003e x \u003cspan class=\"hljs-number\"\u003e0\u003c/span\u003e))\n)\n(\u003cspan class=\"hljs-name\"\u003eput\u003c/span\u003e \u003cspan class=\"hljs-symbol\"\u003e'zero?\u003c/span\u003e '(complex)\n     (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003elambda\u003c/span\u003e\u003c/span\u003e (x) (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003e=\u003c/span\u003e\u003c/span\u003e (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003emagnitude\u003c/span\u003e\u003c/span\u003e x) \u003cspan class=\"hljs-number\"\u003e0\u003c/span\u003e))\n)\n(\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003edefine\u003c/span\u003e\u003c/span\u003e (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003ezero?\u003c/span\u003e\u003c/span\u003e x) (\u003cspan class=\"hljs-name\"\u003eapply-generic\u003c/span\u003e \u003cspan class=\"hljs-symbol\"\u003e'zero?\u003c/span\u003e x))\u003c/code\u003e\u003c/pre\u003e"},"archives":[{"url":"/month/2021-10/page/1","id":"2021-10","count":2,"title":"2021-10"},{"url":"/month/2021-01/page/1","id":"2021-01","count":4,"title":"2021-01"},{"url":"/month/2020-12/page/1","id":"2020-12","count":1,"title":"2020-12"},{"url":"/month/2020-09/page/1","id":"2020-09","count":2,"title":"2020-09"},{"url":"/month/2020-08/page/1","id":"2020-08","count":2,"title":"2020-08"},{"url":"/month/2020-07/page/1","id":"2020-07","count":10,"title":"2020-07"},{"url":"/month/2020-06/page/1","id":"2020-06","count":7,"title":"2020-06"},{"url":"/month/2018-12/page/1","id":"2018-12","count":1,"title":"2018-12"}],"topics":[{"url":"/tag/MOOC/page/1","id":"MOOC","title":"MOOC","count":2},{"url":"/tag/SICP/page/1","id":"SICP","title":"SICP","count":20},{"url":"/tag/asm/page/1","id":"asm","title":"asm","count":2},{"url":"/tag/ideas/page/1","id":"ideas","title":"ideas","count":1},{"url":"/tag/notes/page/1","id":"notes","title":"notes","count":7},{"url":"/tag/on writing/page/1","id":"on writing","title":"on writing","count":3}]},"__N_SSG":true},"page":"/posts/[id]","query":{"id":"sicp2.5.1"},"buildId":"PuN8e6MJK2ig126r3UM9V","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>