<!DOCTYPE html><html><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width"/><title>SICP 2.1.4: Interval arithmetic</title><meta name="next-head-count" content="3"/><link rel="preload" href="/_next/static/css/b53cc6ef9e9e352d.css" as="style"/><link rel="stylesheet" href="/_next/static/css/b53cc6ef9e9e352d.css" data-n-g=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/_next/static/chunks/polyfills-0d1b80a048d4787e.js"></script><script src="/_next/static/chunks/webpack-9b312e20a4e32339.js" defer=""></script><script src="/_next/static/chunks/framework-5f4595e5518b5600.js" defer=""></script><script src="/_next/static/chunks/main-959cc2ac3c742fb4.js" defer=""></script><script src="/_next/static/chunks/pages/_app-ec0fdebf93e8fc69.js" defer=""></script><script src="/_next/static/chunks/996-372da0b0d3708a80.js" defer=""></script><script src="/_next/static/chunks/pages/posts/%5Bid%5D-959ba1136e063a38.js" defer=""></script><script src="/_next/static/TDDC0DQHizajIn48LSnYs/_buildManifest.js" defer=""></script><script src="/_next/static/TDDC0DQHizajIn48LSnYs/_ssgManifest.js" defer=""></script></head><body><div id="__next" data-reactroot=""><h1 id="top">Taras Bunyk</h1><nav><a href="/">Home</a><a href="http://bunyk.github.io/mandala/">Snowflake drawing</a><a href="/resume">Resume</a><a href="https://bunyk.wordpress.com/">Old blog (in Ukrainian)</a></nav><article><h1>SICP 2.1.4: Interval arithmetic</h1><div><em>Published: 2020-07-15T18:36:52.000Z</em></div><div><p>Less mind-blowing ideas, more practice.</p>
<pre><code class="hljs language-scheme">(<span class="hljs-name"><span class="hljs-built_in">define</span></span> (<span class="hljs-name">add-interval</span> x y)
  (<span class="hljs-name">make-interval</span> (<span class="hljs-name"><span class="hljs-built_in">+</span></span> (<span class="hljs-name">lower-bound</span> x) (<span class="hljs-name">lower-bound</span> y))
                 (<span class="hljs-name"><span class="hljs-built_in">+</span></span> (<span class="hljs-name">upper-bound</span> x) (<span class="hljs-name">upper-bound</span> y))))

(<span class="hljs-name"><span class="hljs-built_in">define</span></span> (<span class="hljs-name">mul-interval</span> x y)
  (<span class="hljs-name"><span class="hljs-built_in">let</span></span> ((<span class="hljs-name">p1</span> (<span class="hljs-name"><span class="hljs-built_in">*</span></span> (<span class="hljs-name">lower-bound</span> x) (<span class="hljs-name">lower-bound</span> y)))
        (<span class="hljs-name">p2</span> (<span class="hljs-name"><span class="hljs-built_in">*</span></span> (<span class="hljs-name">lower-bound</span> x) (<span class="hljs-name">upper-bound</span> y)))
        (<span class="hljs-name">p3</span> (<span class="hljs-name"><span class="hljs-built_in">*</span></span> (<span class="hljs-name">upper-bound</span> x) (<span class="hljs-name">lower-bound</span> y)))
        (<span class="hljs-name">p4</span> (<span class="hljs-name"><span class="hljs-built_in">*</span></span> (<span class="hljs-name">upper-bound</span> x) (<span class="hljs-name">upper-bound</span> y))))
    (<span class="hljs-name">make-interval</span> (<span class="hljs-name"><span class="hljs-built_in">min</span></span> p1 p2 p3 p4)
                   (<span class="hljs-name"><span class="hljs-built_in">max</span></span> p1 p2 p3 p4))))

(<span class="hljs-name"><span class="hljs-built_in">define</span></span> (<span class="hljs-name">div-interval</span> x y)
  (<span class="hljs-name">mul-interval</span> x 
                (<span class="hljs-name">make-interval</span> (<span class="hljs-name"><span class="hljs-built_in">/</span></span> <span class="hljs-number">1.0</span> (<span class="hljs-name">upper-bound</span> y))
                               (<span class="hljs-name"><span class="hljs-built_in">/</span></span> <span class="hljs-number">1.0</span> (<span class="hljs-name">lower-bound</span> y)))))</code></pre>
<h2 id="exercise-27">Exercise 2.7</h2>
<pre><code class="hljs language-scheme">(<span class="hljs-name"><span class="hljs-built_in">define</span></span> (<span class="hljs-name">make-interval</span> a b) (<span class="hljs-name"><span class="hljs-built_in">cons</span></span> a b))

(<span class="hljs-name"><span class="hljs-built_in">define</span></span> (<span class="hljs-name">lower-bound</span> i)
  (<span class="hljs-name"><span class="hljs-built_in">min</span></span> (<span class="hljs-name"><span class="hljs-built_in">car</span></span> i) (<span class="hljs-name"><span class="hljs-built_in">cdr</span></span> i)))

(<span class="hljs-name"><span class="hljs-built_in">define</span></span> (<span class="hljs-name">upper-bound</span> i)
  (<span class="hljs-name"><span class="hljs-built_in">max</span></span> (<span class="hljs-name"><span class="hljs-built_in">car</span></span> i) (<span class="hljs-name"><span class="hljs-built_in">cdr</span></span> i)))</code></pre>
<h2 id="exercise-28">Exercise 2.8</h2>
<pre><code class="hljs language-scheme">(<span class="hljs-name"><span class="hljs-built_in">define</span></span> (<span class="hljs-name">sub-interval</span> x y)
  (<span class="hljs-name">make-interval</span> 
    (<span class="hljs-name"><span class="hljs-built_in">-</span></span> (<span class="hljs-name">lower-bound</span> x) (<span class="hljs-name">upper-bound</span> y))
    (<span class="hljs-name"><span class="hljs-built_in">-</span></span> (<span class="hljs-name">upper-bound</span> x) (<span class="hljs-name">lower-bound</span> y))))</code></pre>
<h2 id="exercise-29">Exercise 2.9</h2>
<p>Let's have interval (a1,b1) of width w1 = b1 - a1. And similar interval (a2,b2) of width w2 = b2 - a2.</p>
<p>(a1,b1) + (a2,b2) = (a1 + a2, b1+b2)
width of this interval is (b1+b2) - (a1+a2) = (b1 - a1) + (b2-a2) = w1+w2</p>
<p>(a1,b1) - (a2,b2) = (a1 - b2, b1-a2)</p>
<p>width of this interval is (b1-a2) - (a1-b2) = b1 - a2 - a1 + b2 = (b1 - a1) + (b2-a2) = w1+w2</p>
<p>Multiplication counterexample:</p>
<p>Let's multiply two intervals of width 1:
(1,2) * (1,2) = (1, 3)
Gives interval of width 3.</p>
<p>Let's multiply another two intervals of width 1:
(1,2) * (2,3) = (2, 6)</p>
<p>Gives interval of width 6. Width of multiplication could not be just function of width of arguments, because it's gives different results for the same inputs. It must be function of something else.</p>
<h2 id="exercise-210">Exercise 2.10</h2>
<pre><code class="hljs language-scheme">(<span class="hljs-name"><span class="hljs-built_in">define</span></span> (<span class="hljs-name">spans-zero</span> i)
  (<span class="hljs-name"><span class="hljs-built_in">and</span></span> (<span class="hljs-name"><span class="hljs-built_in">&#x3C;=</span></span> (<span class="hljs-name">lower-bound</span> i) <span class="hljs-number">0</span>) (<span class="hljs-name"><span class="hljs-built_in">>=</span></span> (<span class="hljs-name">upper-bound</span> i) <span class="hljs-number">0</span>))
)

(<span class="hljs-name"><span class="hljs-built_in">define</span></span> (<span class="hljs-name">div-interval</span> x y)
  (<span class="hljs-name"><span class="hljs-built_in">if</span></span> (<span class="hljs-name">spans-zero</span> y)
    (<span class="hljs-name">error</span> <span class="hljs-string">"Could not divide by interval that spans zero"</span>)
    (<span class="hljs-name">mul-interval</span> x 
                (<span class="hljs-name">make-interval</span> (<span class="hljs-name"><span class="hljs-built_in">/</span></span> <span class="hljs-number">1.0</span> (<span class="hljs-name">upper-bound</span> y))
                               (<span class="hljs-name"><span class="hljs-built_in">/</span></span> <span class="hljs-number">1.0</span> (<span class="hljs-name">lower-bound</span> y))))
  )
)</code></pre>
<h2 id="exercise-211">Exercise 2.11</h2>
<pre><code class="hljs language-scheme">(<span class="hljs-name"><span class="hljs-built_in">define</span></span> (<span class="hljs-name">random-interval</span>) 
  (<span class="hljs-name">make-interval</span> (<span class="hljs-name"><span class="hljs-built_in">-</span></span> (<span class="hljs-name">random</span> <span class="hljs-number">11</span>) <span class="hljs-number">5</span>) (<span class="hljs-name"><span class="hljs-built_in">-</span></span> (<span class="hljs-name">random</span> <span class="hljs-number">11</span>) <span class="hljs-number">5</span>))
)
(<span class="hljs-name"><span class="hljs-built_in">define</span></span> (<span class="hljs-name">eq-interval</span> a b)
  (<span class="hljs-name"><span class="hljs-built_in">and</span></span>
    (<span class="hljs-name"><span class="hljs-built_in">=</span></span> (<span class="hljs-name">lower-bound</span> a) (<span class="hljs-name">lower-bound</span> b))
    (<span class="hljs-name"><span class="hljs-built_in">=</span></span> (<span class="hljs-name">upper-bound</span> a) (<span class="hljs-name">upper-bound</span> b))
  )
)


(<span class="hljs-name"><span class="hljs-built_in">define</span></span> (<span class="hljs-name">test-mul-interval</span>) 
  (<span class="hljs-name"><span class="hljs-built_in">define</span></span> (<span class="hljs-name">bad-pair</span> i1 i2) 
    (<span class="hljs-name"><span class="hljs-built_in">display</span></span> <span class="hljs-string">"Mul-iterval result differs for "</span>)
    (<span class="hljs-name"><span class="hljs-built_in">display</span></span> i1)
    (<span class="hljs-name"><span class="hljs-built_in">display</span></span> i2)
    <span class="hljs-literal">#f</span>
  )
  (<span class="hljs-name"><span class="hljs-built_in">define</span></span> (<span class="hljs-name">try</span> n)
    (<span class="hljs-name"><span class="hljs-built_in">if</span></span> (<span class="hljs-name"><span class="hljs-built_in">=</span></span> n <span class="hljs-number">0</span>) <span class="hljs-literal">#t</span>
      (<span class="hljs-name"><span class="hljs-built_in">let</span></span> (
            (<span class="hljs-name">i1</span> (<span class="hljs-name">random-interval</span>))
            (<span class="hljs-name">i2</span> (<span class="hljs-name">random-interval</span>))
        )
        (<span class="hljs-name"><span class="hljs-built_in">if</span></span> (<span class="hljs-name">eq-interval</span> (<span class="hljs-name">mul-interval2</span> i1 i2) (<span class="hljs-name">mul-interval</span> i1 i2))
          (<span class="hljs-name">try</span> (<span class="hljs-name"><span class="hljs-built_in">-</span></span> n <span class="hljs-number">1</span>)) 
          (<span class="hljs-name">bad-pair</span> i1 i2)
        )
      )
    )
  )
  (<span class="hljs-name">try</span> <span class="hljs-number">100</span>)
)

(<span class="hljs-name"><span class="hljs-built_in">define</span></span> (<span class="hljs-name">mul-interval2</span> x y)
  (<span class="hljs-name"><span class="hljs-built_in">let</span></span> (
    (<span class="hljs-name">lx</span> (<span class="hljs-name">lower-bound</span> x))
    (<span class="hljs-name">ux</span> (<span class="hljs-name">upper-bound</span> x))
    (<span class="hljs-name">ly</span> (<span class="hljs-name">lower-bound</span> y))
    (<span class="hljs-name">uy</span> (<span class="hljs-name">upper-bound</span> y))
  )

  (<span class="hljs-name"><span class="hljs-built_in">cond</span></span> 
    ((<span class="hljs-name"><span class="hljs-built_in">and</span></span> (<span class="hljs-name"><span class="hljs-built_in">&#x3C;</span></span> ux <span class="hljs-number">0</span>) (<span class="hljs-name"><span class="hljs-built_in">&#x3C;</span></span> uy <span class="hljs-number">0</span>))
     (<span class="hljs-name">make-interval</span> (<span class="hljs-name"><span class="hljs-built_in">*</span></span> ux uy) (<span class="hljs-name"><span class="hljs-built_in">*</span></span> lx ly)))

    ((<span class="hljs-name"><span class="hljs-built_in">and</span></span> (<span class="hljs-name">spans-zero</span> x) (<span class="hljs-name"><span class="hljs-built_in">&#x3C;</span></span> uy <span class="hljs-number">0</span>))
     (<span class="hljs-name">make-interval</span> (<span class="hljs-name"><span class="hljs-built_in">*</span></span> ux ly) (<span class="hljs-name"><span class="hljs-built_in">*</span></span> lx ly)))

    ((<span class="hljs-name"><span class="hljs-built_in">and</span></span> (<span class="hljs-name"><span class="hljs-built_in">></span></span> lx <span class="hljs-number">0</span>) (<span class="hljs-name"><span class="hljs-built_in">&#x3C;</span></span> uy <span class="hljs-number">0</span>))
     (<span class="hljs-name">make-interval</span> (<span class="hljs-name"><span class="hljs-built_in">*</span></span> ux ly) (<span class="hljs-name"><span class="hljs-built_in">*</span></span> lx uy)))

    ((<span class="hljs-name"><span class="hljs-built_in">and</span></span> (<span class="hljs-name"><span class="hljs-built_in">&#x3C;</span></span> ux <span class="hljs-number">0</span>) (<span class="hljs-name">spans-zero</span> y))
     (<span class="hljs-name">make-interval</span> (<span class="hljs-name"><span class="hljs-built_in">*</span></span> lx uy) (<span class="hljs-name"><span class="hljs-built_in">*</span></span> lx ly)))

    ((<span class="hljs-name"><span class="hljs-built_in">and</span></span> (<span class="hljs-name">spans-zero</span> x) (<span class="hljs-name">spans-zero</span> y))
     (<span class="hljs-name">make-interval</span> (<span class="hljs-name"><span class="hljs-built_in">min</span></span> (<span class="hljs-name"><span class="hljs-built_in">*</span></span> ux ly) (<span class="hljs-name"><span class="hljs-built_in">*</span></span> lx uy)) (<span class="hljs-name"><span class="hljs-built_in">max</span></span> (<span class="hljs-name"><span class="hljs-built_in">*</span></span> lx ly) (<span class="hljs-name"><span class="hljs-built_in">*</span></span> ux uy))))

    ((<span class="hljs-name"><span class="hljs-built_in">and</span></span> (<span class="hljs-name"><span class="hljs-built_in">></span></span> lx <span class="hljs-number">0</span>) (<span class="hljs-name">spans-zero</span> y))
     (<span class="hljs-name">make-interval</span> (<span class="hljs-name"><span class="hljs-built_in">*</span></span> ux ly) (<span class="hljs-name"><span class="hljs-built_in">*</span></span> ux uy)))

    ((<span class="hljs-name"><span class="hljs-built_in">and</span></span> (<span class="hljs-name"><span class="hljs-built_in">&#x3C;</span></span> ux <span class="hljs-number">0</span>) (<span class="hljs-name"><span class="hljs-built_in">></span></span> ly <span class="hljs-number">0</span>))
     (<span class="hljs-name">make-interval</span> (<span class="hljs-name"><span class="hljs-built_in">*</span></span> lx uy) (<span class="hljs-name"><span class="hljs-built_in">*</span></span> ux ly)))

    ((<span class="hljs-name"><span class="hljs-built_in">and</span></span> (<span class="hljs-name">spans-zero</span> x) (<span class="hljs-name"><span class="hljs-built_in">></span></span> ly <span class="hljs-number">0</span>))
     (<span class="hljs-name">make-interval</span> (<span class="hljs-name"><span class="hljs-built_in">*</span></span> lx uy) (<span class="hljs-name"><span class="hljs-built_in">*</span></span> ux uy)))

    ((<span class="hljs-name"><span class="hljs-built_in">and</span></span> (<span class="hljs-name"><span class="hljs-built_in">></span></span> lx <span class="hljs-number">0</span>) (<span class="hljs-name"><span class="hljs-built_in">></span></span> ly <span class="hljs-number">0</span>))
     (<span class="hljs-name">make-interval</span> (<span class="hljs-name"><span class="hljs-built_in">*</span></span> lx ly) (<span class="hljs-name"><span class="hljs-built_in">*</span></span> ux uy)))

    (<span class="hljs-name"><span class="hljs-built_in">else</span></span> (<span class="hljs-name">error</span> <span class="hljs-string">"impossible case"</span>))
  ))
)</code></pre>
<p>Wow this took a lot of effort. Good that they teached to use let, without it secod version of mul-interval would be huge.</p>
<p>And this required lots of attention, but somehow my code passed the test from the first try.</p>
<h2 id="exercise-212">Exercise 2.12</h2>
<pre><code class="hljs language-scheme">(<span class="hljs-name"><span class="hljs-built_in">define</span></span> (<span class="hljs-name">make-center-width</span> c w)
  (<span class="hljs-name">make-interval</span> (<span class="hljs-name"><span class="hljs-built_in">-</span></span> c w) (<span class="hljs-name"><span class="hljs-built_in">+</span></span> c w)))
(<span class="hljs-name"><span class="hljs-built_in">define</span></span> (<span class="hljs-name">center</span> i)
  (<span class="hljs-name"><span class="hljs-built_in">/</span></span> (<span class="hljs-name"><span class="hljs-built_in">+</span></span> (<span class="hljs-name">lower-bound</span> i) (<span class="hljs-name">upper-bound</span> i)) <span class="hljs-number">2</span>))
(<span class="hljs-name"><span class="hljs-built_in">define</span></span> (<span class="hljs-name">width</span> i)
  (<span class="hljs-name"><span class="hljs-built_in">/</span></span> (<span class="hljs-name"><span class="hljs-built_in">-</span></span> (<span class="hljs-name">upper-bound</span> i) (<span class="hljs-name">lower-bound</span> i)) <span class="hljs-number">2</span>))

(<span class="hljs-name"><span class="hljs-built_in">define</span></span> (<span class="hljs-name">make-center-percent</span> c p)
  (<span class="hljs-name"><span class="hljs-built_in">let</span></span> ((<span class="hljs-name">w</span> (<span class="hljs-name"><span class="hljs-built_in">*</span></span> p <span class="hljs-number">0.01</span> (<span class="hljs-name"><span class="hljs-built_in">abs</span></span> c))))
  (<span class="hljs-name">make-interval</span> (<span class="hljs-name"><span class="hljs-built_in">-</span></span> c w) (<span class="hljs-name"><span class="hljs-built_in">+</span></span> c w))))

(<span class="hljs-name"><span class="hljs-built_in">define</span></span> (<span class="hljs-name">percent</span> i)
  (<span class="hljs-name"><span class="hljs-built_in">*</span></span> <span class="hljs-number">100</span> (<span class="hljs-name"><span class="hljs-built_in">/</span></span> (<span class="hljs-name">width</span> i) (<span class="hljs-name">center</span> i)))
)</code></pre>
<h2 id="exercise-213">Exercise 2.13</h2>
<p>It's approximately addition.</p>
<h2 id="exercise-214">Exercise 2.14</h2>
<pre><code class="hljs language-scheme">(<span class="hljs-name"><span class="hljs-built_in">define</span></span> (<span class="hljs-name">par1</span> r1 r2)
  (<span class="hljs-name">div-interval</span> (<span class="hljs-name">mul-interval</span> r1 r2)
                (<span class="hljs-name">add-interval</span> r1 r2)))
(<span class="hljs-name"><span class="hljs-built_in">define</span></span> (<span class="hljs-name">par2</span> r1 r2)
  (<span class="hljs-name"><span class="hljs-built_in">let</span></span> ((<span class="hljs-name">one</span> (<span class="hljs-name">make-interval</span> <span class="hljs-number">1</span> <span class="hljs-number">1</span>))) 
    (<span class="hljs-name">div-interval</span> one
                  (<span class="hljs-name">add-interval</span> (<span class="hljs-name">div-interval</span> one r1)
                                (<span class="hljs-name">div-interval</span> one r2)))))

(<span class="hljs-name"><span class="hljs-built_in">define</span></span> a (<span class="hljs-name">make-center-percent</span> <span class="hljs-number">100</span> <span class="hljs-number">1</span>))
(<span class="hljs-name"><span class="hljs-built_in">define</span></span> b (<span class="hljs-name">make-center-percent</span> <span class="hljs-number">200</span> <span class="hljs-number">1</span>))


(<span class="hljs-name">center</span> (<span class="hljs-name">par1</span> a b))
(<span class="hljs-name">center</span> (<span class="hljs-name">par2</span> a b))

(<span class="hljs-name">percent</span> (<span class="hljs-name">par1</span> a b))
(<span class="hljs-name">percent</span> (<span class="hljs-name">par2</span> a b))</code></pre>
<h2 id="exercise-215">Exercise 2.15</h2>
<p>Every operation on intervals with non zero width increases width of result.</p>
<p>In par1 program does 3 operations in which both intervals have non zero widht, and par2 program does only addition, all the rest are operations with interval of zero widht.</p>
<h2 id="exercise-216">Exercise 2.16</h2>
<p>No I can not, because as they said, this problem is very difficult. I imagine it will require simplification of expression to some base form, before computing it.</p></div></article><div><div id="disqus_thread"></div></div><nav><a href="/">Home</a><a href="#top">Back to top</a></nav><footer>Â© <!-- -->2022<!-- --> Bunyk Taras. Built with Next.js</footer></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"id":"sicp2.1.4","title":"SICP 2.1.4: Interval arithmetic","date":"2020-07-15T18:36:52.000Z","tags":["SICP"],"updated_at":"2021-04-20T00:38:16+02:00","content":"\u003cp\u003eLess mind-blowing ideas, more practice.\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-scheme\"\u003e(\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-built_in\"\u003edefine\u003c/span\u003e\u003c/span\u003e (\u003cspan class=\"hljs-name\"\u003eadd-interval\u003c/span\u003e x y)\n  (\u003cspan class=\"hljs-name\"\u003emake-interval\u003c/span\u003e (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-built_in\"\u003e+\u003c/span\u003e\u003c/span\u003e (\u003cspan class=\"hljs-name\"\u003elower-bound\u003c/span\u003e x) (\u003cspan class=\"hljs-name\"\u003elower-bound\u003c/span\u003e y))\n                 (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-built_in\"\u003e+\u003c/span\u003e\u003c/span\u003e (\u003cspan class=\"hljs-name\"\u003eupper-bound\u003c/span\u003e x) (\u003cspan class=\"hljs-name\"\u003eupper-bound\u003c/span\u003e y))))\n\n(\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-built_in\"\u003edefine\u003c/span\u003e\u003c/span\u003e (\u003cspan class=\"hljs-name\"\u003emul-interval\u003c/span\u003e x y)\n  (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-built_in\"\u003elet\u003c/span\u003e\u003c/span\u003e ((\u003cspan class=\"hljs-name\"\u003ep1\u003c/span\u003e (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-built_in\"\u003e*\u003c/span\u003e\u003c/span\u003e (\u003cspan class=\"hljs-name\"\u003elower-bound\u003c/span\u003e x) (\u003cspan class=\"hljs-name\"\u003elower-bound\u003c/span\u003e y)))\n        (\u003cspan class=\"hljs-name\"\u003ep2\u003c/span\u003e (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-built_in\"\u003e*\u003c/span\u003e\u003c/span\u003e (\u003cspan class=\"hljs-name\"\u003elower-bound\u003c/span\u003e x) (\u003cspan class=\"hljs-name\"\u003eupper-bound\u003c/span\u003e y)))\n        (\u003cspan class=\"hljs-name\"\u003ep3\u003c/span\u003e (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-built_in\"\u003e*\u003c/span\u003e\u003c/span\u003e (\u003cspan class=\"hljs-name\"\u003eupper-bound\u003c/span\u003e x) (\u003cspan class=\"hljs-name\"\u003elower-bound\u003c/span\u003e y)))\n        (\u003cspan class=\"hljs-name\"\u003ep4\u003c/span\u003e (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-built_in\"\u003e*\u003c/span\u003e\u003c/span\u003e (\u003cspan class=\"hljs-name\"\u003eupper-bound\u003c/span\u003e x) (\u003cspan class=\"hljs-name\"\u003eupper-bound\u003c/span\u003e y))))\n    (\u003cspan class=\"hljs-name\"\u003emake-interval\u003c/span\u003e (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-built_in\"\u003emin\u003c/span\u003e\u003c/span\u003e p1 p2 p3 p4)\n                   (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-built_in\"\u003emax\u003c/span\u003e\u003c/span\u003e p1 p2 p3 p4))))\n\n(\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-built_in\"\u003edefine\u003c/span\u003e\u003c/span\u003e (\u003cspan class=\"hljs-name\"\u003ediv-interval\u003c/span\u003e x y)\n  (\u003cspan class=\"hljs-name\"\u003emul-interval\u003c/span\u003e x \n                (\u003cspan class=\"hljs-name\"\u003emake-interval\u003c/span\u003e (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-built_in\"\u003e/\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"hljs-number\"\u003e1.0\u003c/span\u003e (\u003cspan class=\"hljs-name\"\u003eupper-bound\u003c/span\u003e y))\n                               (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-built_in\"\u003e/\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"hljs-number\"\u003e1.0\u003c/span\u003e (\u003cspan class=\"hljs-name\"\u003elower-bound\u003c/span\u003e y)))))\u003c/code\u003e\u003c/pre\u003e\n\u003ch2 id=\"exercise-27\"\u003eExercise 2.7\u003c/h2\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-scheme\"\u003e(\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-built_in\"\u003edefine\u003c/span\u003e\u003c/span\u003e (\u003cspan class=\"hljs-name\"\u003emake-interval\u003c/span\u003e a b) (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-built_in\"\u003econs\u003c/span\u003e\u003c/span\u003e a b))\n\n(\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-built_in\"\u003edefine\u003c/span\u003e\u003c/span\u003e (\u003cspan class=\"hljs-name\"\u003elower-bound\u003c/span\u003e i)\n  (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-built_in\"\u003emin\u003c/span\u003e\u003c/span\u003e (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-built_in\"\u003ecar\u003c/span\u003e\u003c/span\u003e i) (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-built_in\"\u003ecdr\u003c/span\u003e\u003c/span\u003e i)))\n\n(\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-built_in\"\u003edefine\u003c/span\u003e\u003c/span\u003e (\u003cspan class=\"hljs-name\"\u003eupper-bound\u003c/span\u003e i)\n  (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-built_in\"\u003emax\u003c/span\u003e\u003c/span\u003e (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-built_in\"\u003ecar\u003c/span\u003e\u003c/span\u003e i) (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-built_in\"\u003ecdr\u003c/span\u003e\u003c/span\u003e i)))\u003c/code\u003e\u003c/pre\u003e\n\u003ch2 id=\"exercise-28\"\u003eExercise 2.8\u003c/h2\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-scheme\"\u003e(\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-built_in\"\u003edefine\u003c/span\u003e\u003c/span\u003e (\u003cspan class=\"hljs-name\"\u003esub-interval\u003c/span\u003e x y)\n  (\u003cspan class=\"hljs-name\"\u003emake-interval\u003c/span\u003e \n    (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-built_in\"\u003e-\u003c/span\u003e\u003c/span\u003e (\u003cspan class=\"hljs-name\"\u003elower-bound\u003c/span\u003e x) (\u003cspan class=\"hljs-name\"\u003eupper-bound\u003c/span\u003e y))\n    (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-built_in\"\u003e-\u003c/span\u003e\u003c/span\u003e (\u003cspan class=\"hljs-name\"\u003eupper-bound\u003c/span\u003e x) (\u003cspan class=\"hljs-name\"\u003elower-bound\u003c/span\u003e y))))\u003c/code\u003e\u003c/pre\u003e\n\u003ch2 id=\"exercise-29\"\u003eExercise 2.9\u003c/h2\u003e\n\u003cp\u003eLet's have interval (a1,b1) of width w1 = b1 - a1. And similar interval (a2,b2) of width w2 = b2 - a2.\u003c/p\u003e\n\u003cp\u003e(a1,b1) + (a2,b2) = (a1 + a2, b1+b2)\nwidth of this interval is (b1+b2) - (a1+a2) = (b1 - a1) + (b2-a2) = w1+w2\u003c/p\u003e\n\u003cp\u003e(a1,b1) - (a2,b2) = (a1 - b2, b1-a2)\u003c/p\u003e\n\u003cp\u003ewidth of this interval is (b1-a2) - (a1-b2) = b1 - a2 - a1 + b2 = (b1 - a1) + (b2-a2) = w1+w2\u003c/p\u003e\n\u003cp\u003eMultiplication counterexample:\u003c/p\u003e\n\u003cp\u003eLet's multiply two intervals of width 1:\n(1,2) * (1,2) = (1, 3)\nGives interval of width 3.\u003c/p\u003e\n\u003cp\u003eLet's multiply another two intervals of width 1:\n(1,2) * (2,3) = (2, 6)\u003c/p\u003e\n\u003cp\u003eGives interval of width 6. Width of multiplication could not be just function of width of arguments, because it's gives different results for the same inputs. It must be function of something else.\u003c/p\u003e\n\u003ch2 id=\"exercise-210\"\u003eExercise 2.10\u003c/h2\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-scheme\"\u003e(\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-built_in\"\u003edefine\u003c/span\u003e\u003c/span\u003e (\u003cspan class=\"hljs-name\"\u003espans-zero\u003c/span\u003e i)\n  (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-built_in\"\u003eand\u003c/span\u003e\u003c/span\u003e (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-built_in\"\u003e\u0026#x3C;=\u003c/span\u003e\u003c/span\u003e (\u003cspan class=\"hljs-name\"\u003elower-bound\u003c/span\u003e i) \u003cspan class=\"hljs-number\"\u003e0\u003c/span\u003e) (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-built_in\"\u003e\u003e=\u003c/span\u003e\u003c/span\u003e (\u003cspan class=\"hljs-name\"\u003eupper-bound\u003c/span\u003e i) \u003cspan class=\"hljs-number\"\u003e0\u003c/span\u003e))\n)\n\n(\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-built_in\"\u003edefine\u003c/span\u003e\u003c/span\u003e (\u003cspan class=\"hljs-name\"\u003ediv-interval\u003c/span\u003e x y)\n  (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-built_in\"\u003eif\u003c/span\u003e\u003c/span\u003e (\u003cspan class=\"hljs-name\"\u003espans-zero\u003c/span\u003e y)\n    (\u003cspan class=\"hljs-name\"\u003eerror\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e\"Could not divide by interval that spans zero\"\u003c/span\u003e)\n    (\u003cspan class=\"hljs-name\"\u003emul-interval\u003c/span\u003e x \n                (\u003cspan class=\"hljs-name\"\u003emake-interval\u003c/span\u003e (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-built_in\"\u003e/\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"hljs-number\"\u003e1.0\u003c/span\u003e (\u003cspan class=\"hljs-name\"\u003eupper-bound\u003c/span\u003e y))\n                               (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-built_in\"\u003e/\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"hljs-number\"\u003e1.0\u003c/span\u003e (\u003cspan class=\"hljs-name\"\u003elower-bound\u003c/span\u003e y))))\n  )\n)\u003c/code\u003e\u003c/pre\u003e\n\u003ch2 id=\"exercise-211\"\u003eExercise 2.11\u003c/h2\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-scheme\"\u003e(\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-built_in\"\u003edefine\u003c/span\u003e\u003c/span\u003e (\u003cspan class=\"hljs-name\"\u003erandom-interval\u003c/span\u003e) \n  (\u003cspan class=\"hljs-name\"\u003emake-interval\u003c/span\u003e (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-built_in\"\u003e-\u003c/span\u003e\u003c/span\u003e (\u003cspan class=\"hljs-name\"\u003erandom\u003c/span\u003e \u003cspan class=\"hljs-number\"\u003e11\u003c/span\u003e) \u003cspan class=\"hljs-number\"\u003e5\u003c/span\u003e) (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-built_in\"\u003e-\u003c/span\u003e\u003c/span\u003e (\u003cspan class=\"hljs-name\"\u003erandom\u003c/span\u003e \u003cspan class=\"hljs-number\"\u003e11\u003c/span\u003e) \u003cspan class=\"hljs-number\"\u003e5\u003c/span\u003e))\n)\n(\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-built_in\"\u003edefine\u003c/span\u003e\u003c/span\u003e (\u003cspan class=\"hljs-name\"\u003eeq-interval\u003c/span\u003e a b)\n  (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-built_in\"\u003eand\u003c/span\u003e\u003c/span\u003e\n    (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-built_in\"\u003e=\u003c/span\u003e\u003c/span\u003e (\u003cspan class=\"hljs-name\"\u003elower-bound\u003c/span\u003e a) (\u003cspan class=\"hljs-name\"\u003elower-bound\u003c/span\u003e b))\n    (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-built_in\"\u003e=\u003c/span\u003e\u003c/span\u003e (\u003cspan class=\"hljs-name\"\u003eupper-bound\u003c/span\u003e a) (\u003cspan class=\"hljs-name\"\u003eupper-bound\u003c/span\u003e b))\n  )\n)\n\n\n(\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-built_in\"\u003edefine\u003c/span\u003e\u003c/span\u003e (\u003cspan class=\"hljs-name\"\u003etest-mul-interval\u003c/span\u003e) \n  (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-built_in\"\u003edefine\u003c/span\u003e\u003c/span\u003e (\u003cspan class=\"hljs-name\"\u003ebad-pair\u003c/span\u003e i1 i2) \n    (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-built_in\"\u003edisplay\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e\"Mul-iterval result differs for \"\u003c/span\u003e)\n    (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-built_in\"\u003edisplay\u003c/span\u003e\u003c/span\u003e i1)\n    (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-built_in\"\u003edisplay\u003c/span\u003e\u003c/span\u003e i2)\n    \u003cspan class=\"hljs-literal\"\u003e#f\u003c/span\u003e\n  )\n  (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-built_in\"\u003edefine\u003c/span\u003e\u003c/span\u003e (\u003cspan class=\"hljs-name\"\u003etry\u003c/span\u003e n)\n    (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-built_in\"\u003eif\u003c/span\u003e\u003c/span\u003e (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-built_in\"\u003e=\u003c/span\u003e\u003c/span\u003e n \u003cspan class=\"hljs-number\"\u003e0\u003c/span\u003e) \u003cspan class=\"hljs-literal\"\u003e#t\u003c/span\u003e\n      (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-built_in\"\u003elet\u003c/span\u003e\u003c/span\u003e (\n            (\u003cspan class=\"hljs-name\"\u003ei1\u003c/span\u003e (\u003cspan class=\"hljs-name\"\u003erandom-interval\u003c/span\u003e))\n            (\u003cspan class=\"hljs-name\"\u003ei2\u003c/span\u003e (\u003cspan class=\"hljs-name\"\u003erandom-interval\u003c/span\u003e))\n        )\n        (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-built_in\"\u003eif\u003c/span\u003e\u003c/span\u003e (\u003cspan class=\"hljs-name\"\u003eeq-interval\u003c/span\u003e (\u003cspan class=\"hljs-name\"\u003emul-interval2\u003c/span\u003e i1 i2) (\u003cspan class=\"hljs-name\"\u003emul-interval\u003c/span\u003e i1 i2))\n          (\u003cspan class=\"hljs-name\"\u003etry\u003c/span\u003e (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-built_in\"\u003e-\u003c/span\u003e\u003c/span\u003e n \u003cspan class=\"hljs-number\"\u003e1\u003c/span\u003e)) \n          (\u003cspan class=\"hljs-name\"\u003ebad-pair\u003c/span\u003e i1 i2)\n        )\n      )\n    )\n  )\n  (\u003cspan class=\"hljs-name\"\u003etry\u003c/span\u003e \u003cspan class=\"hljs-number\"\u003e100\u003c/span\u003e)\n)\n\n(\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-built_in\"\u003edefine\u003c/span\u003e\u003c/span\u003e (\u003cspan class=\"hljs-name\"\u003emul-interval2\u003c/span\u003e x y)\n  (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-built_in\"\u003elet\u003c/span\u003e\u003c/span\u003e (\n    (\u003cspan class=\"hljs-name\"\u003elx\u003c/span\u003e (\u003cspan class=\"hljs-name\"\u003elower-bound\u003c/span\u003e x))\n    (\u003cspan class=\"hljs-name\"\u003eux\u003c/span\u003e (\u003cspan class=\"hljs-name\"\u003eupper-bound\u003c/span\u003e x))\n    (\u003cspan class=\"hljs-name\"\u003ely\u003c/span\u003e (\u003cspan class=\"hljs-name\"\u003elower-bound\u003c/span\u003e y))\n    (\u003cspan class=\"hljs-name\"\u003euy\u003c/span\u003e (\u003cspan class=\"hljs-name\"\u003eupper-bound\u003c/span\u003e y))\n  )\n\n  (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-built_in\"\u003econd\u003c/span\u003e\u003c/span\u003e \n    ((\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-built_in\"\u003eand\u003c/span\u003e\u003c/span\u003e (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-built_in\"\u003e\u0026#x3C;\u003c/span\u003e\u003c/span\u003e ux \u003cspan class=\"hljs-number\"\u003e0\u003c/span\u003e) (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-built_in\"\u003e\u0026#x3C;\u003c/span\u003e\u003c/span\u003e uy \u003cspan class=\"hljs-number\"\u003e0\u003c/span\u003e))\n     (\u003cspan class=\"hljs-name\"\u003emake-interval\u003c/span\u003e (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-built_in\"\u003e*\u003c/span\u003e\u003c/span\u003e ux uy) (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-built_in\"\u003e*\u003c/span\u003e\u003c/span\u003e lx ly)))\n\n    ((\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-built_in\"\u003eand\u003c/span\u003e\u003c/span\u003e (\u003cspan class=\"hljs-name\"\u003espans-zero\u003c/span\u003e x) (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-built_in\"\u003e\u0026#x3C;\u003c/span\u003e\u003c/span\u003e uy \u003cspan class=\"hljs-number\"\u003e0\u003c/span\u003e))\n     (\u003cspan class=\"hljs-name\"\u003emake-interval\u003c/span\u003e (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-built_in\"\u003e*\u003c/span\u003e\u003c/span\u003e ux ly) (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-built_in\"\u003e*\u003c/span\u003e\u003c/span\u003e lx ly)))\n\n    ((\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-built_in\"\u003eand\u003c/span\u003e\u003c/span\u003e (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-built_in\"\u003e\u003e\u003c/span\u003e\u003c/span\u003e lx \u003cspan class=\"hljs-number\"\u003e0\u003c/span\u003e) (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-built_in\"\u003e\u0026#x3C;\u003c/span\u003e\u003c/span\u003e uy \u003cspan class=\"hljs-number\"\u003e0\u003c/span\u003e))\n     (\u003cspan class=\"hljs-name\"\u003emake-interval\u003c/span\u003e (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-built_in\"\u003e*\u003c/span\u003e\u003c/span\u003e ux ly) (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-built_in\"\u003e*\u003c/span\u003e\u003c/span\u003e lx uy)))\n\n    ((\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-built_in\"\u003eand\u003c/span\u003e\u003c/span\u003e (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-built_in\"\u003e\u0026#x3C;\u003c/span\u003e\u003c/span\u003e ux \u003cspan class=\"hljs-number\"\u003e0\u003c/span\u003e) (\u003cspan class=\"hljs-name\"\u003espans-zero\u003c/span\u003e y))\n     (\u003cspan class=\"hljs-name\"\u003emake-interval\u003c/span\u003e (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-built_in\"\u003e*\u003c/span\u003e\u003c/span\u003e lx uy) (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-built_in\"\u003e*\u003c/span\u003e\u003c/span\u003e lx ly)))\n\n    ((\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-built_in\"\u003eand\u003c/span\u003e\u003c/span\u003e (\u003cspan class=\"hljs-name\"\u003espans-zero\u003c/span\u003e x) (\u003cspan class=\"hljs-name\"\u003espans-zero\u003c/span\u003e y))\n     (\u003cspan class=\"hljs-name\"\u003emake-interval\u003c/span\u003e (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-built_in\"\u003emin\u003c/span\u003e\u003c/span\u003e (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-built_in\"\u003e*\u003c/span\u003e\u003c/span\u003e ux ly) (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-built_in\"\u003e*\u003c/span\u003e\u003c/span\u003e lx uy)) (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-built_in\"\u003emax\u003c/span\u003e\u003c/span\u003e (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-built_in\"\u003e*\u003c/span\u003e\u003c/span\u003e lx ly) (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-built_in\"\u003e*\u003c/span\u003e\u003c/span\u003e ux uy))))\n\n    ((\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-built_in\"\u003eand\u003c/span\u003e\u003c/span\u003e (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-built_in\"\u003e\u003e\u003c/span\u003e\u003c/span\u003e lx \u003cspan class=\"hljs-number\"\u003e0\u003c/span\u003e) (\u003cspan class=\"hljs-name\"\u003espans-zero\u003c/span\u003e y))\n     (\u003cspan class=\"hljs-name\"\u003emake-interval\u003c/span\u003e (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-built_in\"\u003e*\u003c/span\u003e\u003c/span\u003e ux ly) (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-built_in\"\u003e*\u003c/span\u003e\u003c/span\u003e ux uy)))\n\n    ((\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-built_in\"\u003eand\u003c/span\u003e\u003c/span\u003e (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-built_in\"\u003e\u0026#x3C;\u003c/span\u003e\u003c/span\u003e ux \u003cspan class=\"hljs-number\"\u003e0\u003c/span\u003e) (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-built_in\"\u003e\u003e\u003c/span\u003e\u003c/span\u003e ly \u003cspan class=\"hljs-number\"\u003e0\u003c/span\u003e))\n     (\u003cspan class=\"hljs-name\"\u003emake-interval\u003c/span\u003e (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-built_in\"\u003e*\u003c/span\u003e\u003c/span\u003e lx uy) (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-built_in\"\u003e*\u003c/span\u003e\u003c/span\u003e ux ly)))\n\n    ((\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-built_in\"\u003eand\u003c/span\u003e\u003c/span\u003e (\u003cspan class=\"hljs-name\"\u003espans-zero\u003c/span\u003e x) (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-built_in\"\u003e\u003e\u003c/span\u003e\u003c/span\u003e ly \u003cspan class=\"hljs-number\"\u003e0\u003c/span\u003e))\n     (\u003cspan class=\"hljs-name\"\u003emake-interval\u003c/span\u003e (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-built_in\"\u003e*\u003c/span\u003e\u003c/span\u003e lx uy) (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-built_in\"\u003e*\u003c/span\u003e\u003c/span\u003e ux uy)))\n\n    ((\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-built_in\"\u003eand\u003c/span\u003e\u003c/span\u003e (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-built_in\"\u003e\u003e\u003c/span\u003e\u003c/span\u003e lx \u003cspan class=\"hljs-number\"\u003e0\u003c/span\u003e) (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-built_in\"\u003e\u003e\u003c/span\u003e\u003c/span\u003e ly \u003cspan class=\"hljs-number\"\u003e0\u003c/span\u003e))\n     (\u003cspan class=\"hljs-name\"\u003emake-interval\u003c/span\u003e (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-built_in\"\u003e*\u003c/span\u003e\u003c/span\u003e lx ly) (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-built_in\"\u003e*\u003c/span\u003e\u003c/span\u003e ux uy)))\n\n    (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-built_in\"\u003eelse\u003c/span\u003e\u003c/span\u003e (\u003cspan class=\"hljs-name\"\u003eerror\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e\"impossible case\"\u003c/span\u003e))\n  ))\n)\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eWow this took a lot of effort. Good that they teached to use let, without it secod version of mul-interval would be huge.\u003c/p\u003e\n\u003cp\u003eAnd this required lots of attention, but somehow my code passed the test from the first try.\u003c/p\u003e\n\u003ch2 id=\"exercise-212\"\u003eExercise 2.12\u003c/h2\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-scheme\"\u003e(\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-built_in\"\u003edefine\u003c/span\u003e\u003c/span\u003e (\u003cspan class=\"hljs-name\"\u003emake-center-width\u003c/span\u003e c w)\n  (\u003cspan class=\"hljs-name\"\u003emake-interval\u003c/span\u003e (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-built_in\"\u003e-\u003c/span\u003e\u003c/span\u003e c w) (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-built_in\"\u003e+\u003c/span\u003e\u003c/span\u003e c w)))\n(\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-built_in\"\u003edefine\u003c/span\u003e\u003c/span\u003e (\u003cspan class=\"hljs-name\"\u003ecenter\u003c/span\u003e i)\n  (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-built_in\"\u003e/\u003c/span\u003e\u003c/span\u003e (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-built_in\"\u003e+\u003c/span\u003e\u003c/span\u003e (\u003cspan class=\"hljs-name\"\u003elower-bound\u003c/span\u003e i) (\u003cspan class=\"hljs-name\"\u003eupper-bound\u003c/span\u003e i)) \u003cspan class=\"hljs-number\"\u003e2\u003c/span\u003e))\n(\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-built_in\"\u003edefine\u003c/span\u003e\u003c/span\u003e (\u003cspan class=\"hljs-name\"\u003ewidth\u003c/span\u003e i)\n  (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-built_in\"\u003e/\u003c/span\u003e\u003c/span\u003e (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-built_in\"\u003e-\u003c/span\u003e\u003c/span\u003e (\u003cspan class=\"hljs-name\"\u003eupper-bound\u003c/span\u003e i) (\u003cspan class=\"hljs-name\"\u003elower-bound\u003c/span\u003e i)) \u003cspan class=\"hljs-number\"\u003e2\u003c/span\u003e))\n\n(\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-built_in\"\u003edefine\u003c/span\u003e\u003c/span\u003e (\u003cspan class=\"hljs-name\"\u003emake-center-percent\u003c/span\u003e c p)\n  (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-built_in\"\u003elet\u003c/span\u003e\u003c/span\u003e ((\u003cspan class=\"hljs-name\"\u003ew\u003c/span\u003e (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-built_in\"\u003e*\u003c/span\u003e\u003c/span\u003e p \u003cspan class=\"hljs-number\"\u003e0.01\u003c/span\u003e (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-built_in\"\u003eabs\u003c/span\u003e\u003c/span\u003e c))))\n  (\u003cspan class=\"hljs-name\"\u003emake-interval\u003c/span\u003e (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-built_in\"\u003e-\u003c/span\u003e\u003c/span\u003e c w) (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-built_in\"\u003e+\u003c/span\u003e\u003c/span\u003e c w))))\n\n(\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-built_in\"\u003edefine\u003c/span\u003e\u003c/span\u003e (\u003cspan class=\"hljs-name\"\u003epercent\u003c/span\u003e i)\n  (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-built_in\"\u003e*\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"hljs-number\"\u003e100\u003c/span\u003e (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-built_in\"\u003e/\u003c/span\u003e\u003c/span\u003e (\u003cspan class=\"hljs-name\"\u003ewidth\u003c/span\u003e i) (\u003cspan class=\"hljs-name\"\u003ecenter\u003c/span\u003e i)))\n)\u003c/code\u003e\u003c/pre\u003e\n\u003ch2 id=\"exercise-213\"\u003eExercise 2.13\u003c/h2\u003e\n\u003cp\u003eIt's approximately addition.\u003c/p\u003e\n\u003ch2 id=\"exercise-214\"\u003eExercise 2.14\u003c/h2\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-scheme\"\u003e(\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-built_in\"\u003edefine\u003c/span\u003e\u003c/span\u003e (\u003cspan class=\"hljs-name\"\u003epar1\u003c/span\u003e r1 r2)\n  (\u003cspan class=\"hljs-name\"\u003ediv-interval\u003c/span\u003e (\u003cspan class=\"hljs-name\"\u003emul-interval\u003c/span\u003e r1 r2)\n                (\u003cspan class=\"hljs-name\"\u003eadd-interval\u003c/span\u003e r1 r2)))\n(\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-built_in\"\u003edefine\u003c/span\u003e\u003c/span\u003e (\u003cspan class=\"hljs-name\"\u003epar2\u003c/span\u003e r1 r2)\n  (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-built_in\"\u003elet\u003c/span\u003e\u003c/span\u003e ((\u003cspan class=\"hljs-name\"\u003eone\u003c/span\u003e (\u003cspan class=\"hljs-name\"\u003emake-interval\u003c/span\u003e \u003cspan class=\"hljs-number\"\u003e1\u003c/span\u003e \u003cspan class=\"hljs-number\"\u003e1\u003c/span\u003e))) \n    (\u003cspan class=\"hljs-name\"\u003ediv-interval\u003c/span\u003e one\n                  (\u003cspan class=\"hljs-name\"\u003eadd-interval\u003c/span\u003e (\u003cspan class=\"hljs-name\"\u003ediv-interval\u003c/span\u003e one r1)\n                                (\u003cspan class=\"hljs-name\"\u003ediv-interval\u003c/span\u003e one r2)))))\n\n(\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-built_in\"\u003edefine\u003c/span\u003e\u003c/span\u003e a (\u003cspan class=\"hljs-name\"\u003emake-center-percent\u003c/span\u003e \u003cspan class=\"hljs-number\"\u003e100\u003c/span\u003e \u003cspan class=\"hljs-number\"\u003e1\u003c/span\u003e))\n(\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-built_in\"\u003edefine\u003c/span\u003e\u003c/span\u003e b (\u003cspan class=\"hljs-name\"\u003emake-center-percent\u003c/span\u003e \u003cspan class=\"hljs-number\"\u003e200\u003c/span\u003e \u003cspan class=\"hljs-number\"\u003e1\u003c/span\u003e))\n\n\n(\u003cspan class=\"hljs-name\"\u003ecenter\u003c/span\u003e (\u003cspan class=\"hljs-name\"\u003epar1\u003c/span\u003e a b))\n(\u003cspan class=\"hljs-name\"\u003ecenter\u003c/span\u003e (\u003cspan class=\"hljs-name\"\u003epar2\u003c/span\u003e a b))\n\n(\u003cspan class=\"hljs-name\"\u003epercent\u003c/span\u003e (\u003cspan class=\"hljs-name\"\u003epar1\u003c/span\u003e a b))\n(\u003cspan class=\"hljs-name\"\u003epercent\u003c/span\u003e (\u003cspan class=\"hljs-name\"\u003epar2\u003c/span\u003e a b))\u003c/code\u003e\u003c/pre\u003e\n\u003ch2 id=\"exercise-215\"\u003eExercise 2.15\u003c/h2\u003e\n\u003cp\u003eEvery operation on intervals with non zero width increases width of result.\u003c/p\u003e\n\u003cp\u003eIn par1 program does 3 operations in which both intervals have non zero widht, and par2 program does only addition, all the rest are operations with interval of zero widht.\u003c/p\u003e\n\u003ch2 id=\"exercise-216\"\u003eExercise 2.16\u003c/h2\u003e\n\u003cp\u003eNo I can not, because as they said, this problem is very difficult. I imagine it will require simplification of expression to some base form, before computing it.\u003c/p\u003e"},"__N_SSG":true},"page":"/posts/[id]","query":{"id":"sicp2.1.4"},"buildId":"TDDC0DQHizajIn48LSnYs","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>