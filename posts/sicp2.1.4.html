<!DOCTYPE html><html><head><meta name="viewport" content="width=device-width"/><meta charSet="utf-8"/><title>SICP 2.1.4: Interval arithmetic</title><meta name="next-head-count" content="3"/><link rel="preload" href="/_next/static/css/688040b3fc223486cedc.css" as="style"/><link rel="stylesheet" href="/_next/static/css/688040b3fc223486cedc.css" data-n-g=""/><noscript data-n-css=""></noscript><link rel="preload" href="/_next/static/chunks/webpack-ab63730ce14ffb2d4de2.js" as="script"/><link rel="preload" href="/_next/static/chunks/framework-77b689d02b4bf42ce2e0.js" as="script"/><link rel="preload" href="/_next/static/chunks/commons-131aad2d92e69c360009.js" as="script"/><link rel="preload" href="/_next/static/chunks/main-4f9408d32df08544de44.js" as="script"/><link rel="preload" href="/_next/static/chunks/pages/_app-d383b5fdcc7af26c9ab8.js" as="script"/><link rel="preload" href="/_next/static/chunks/762-bec077d9715dbffe23e5.js" as="script"/><link rel="preload" href="/_next/static/chunks/pages/posts/%5Bid%5D-4d391b18df3a2ccf9664.js" as="script"/></head><body><div id="__next"><div class="MuiContainer-root MuiContainer-maxWidthMd"><div class="MuiToolbar-root MuiToolbar-regular jss2 MuiToolbar-gutters"><h1 class="MuiTypography-root jss3 MuiTypography-h5 MuiTypography-noWrap" aligh="center">Taras Bunyk</h1></div><nav class="MuiToolbar-root MuiToolbar-dense jss4 MuiToolbar-gutters"><a href="/">Home</a><a href="/resume">Resume</a><a href="https://bunyk.wordpress.com/">Old blog (in Ukrainian)</a></nav><div class="MuiGrid-root MuiGrid-container MuiGrid-spacing-xs-5"><div class="MuiGrid-root MuiGrid-item MuiGrid-grid-xs-12 MuiGrid-grid-md-9"><div class="MuiPaper-root MuiCard-root MuiPaper-elevation1 MuiPaper-rounded"><div class="MuiCardHeader-root"><div class="MuiCardHeader-content"><span class="MuiTypography-root MuiCardHeader-title MuiTypography-h5 MuiTypography-displayBlock">SICP 2.1.4: Interval arithmetic</span><span class="MuiTypography-root MuiCardHeader-subheader MuiTypography-body1 MuiTypography-colorTextSecondary MuiTypography-displayBlock">Published: 2020-07-15 Tags: SICP</span></div></div><div class="MuiCardContent-root"><p>Less mind-blowing ideas, more practice.</p>
<pre><code class="hljs language-scheme">(<span class="hljs-name"><span class="hljs-builtin-name">define</span></span> (<span class="hljs-name">add-interval</span> x y)
  (<span class="hljs-name">make-interval</span> (<span class="hljs-name"><span class="hljs-builtin-name">+</span></span> (<span class="hljs-name">lower-bound</span> x) (<span class="hljs-name">lower-bound</span> y))
                 (<span class="hljs-name"><span class="hljs-builtin-name">+</span></span> (<span class="hljs-name">upper-bound</span> x) (<span class="hljs-name">upper-bound</span> y))))

(<span class="hljs-name"><span class="hljs-builtin-name">define</span></span> (<span class="hljs-name">mul-interval</span> x y)
  (<span class="hljs-name"><span class="hljs-builtin-name">let</span></span> ((<span class="hljs-name">p1</span> (<span class="hljs-name"><span class="hljs-builtin-name">*</span></span> (<span class="hljs-name">lower-bound</span> x) (<span class="hljs-name">lower-bound</span> y)))
        (<span class="hljs-name">p2</span> (<span class="hljs-name"><span class="hljs-builtin-name">*</span></span> (<span class="hljs-name">lower-bound</span> x) (<span class="hljs-name">upper-bound</span> y)))
        (<span class="hljs-name">p3</span> (<span class="hljs-name"><span class="hljs-builtin-name">*</span></span> (<span class="hljs-name">upper-bound</span> x) (<span class="hljs-name">lower-bound</span> y)))
        (<span class="hljs-name">p4</span> (<span class="hljs-name"><span class="hljs-builtin-name">*</span></span> (<span class="hljs-name">upper-bound</span> x) (<span class="hljs-name">upper-bound</span> y))))
    (<span class="hljs-name">make-interval</span> (<span class="hljs-name"><span class="hljs-builtin-name">min</span></span> p1 p2 p3 p4)
                   (<span class="hljs-name"><span class="hljs-builtin-name">max</span></span> p1 p2 p3 p4))))

(<span class="hljs-name"><span class="hljs-builtin-name">define</span></span> (<span class="hljs-name">div-interval</span> x y)
  (<span class="hljs-name">mul-interval</span> x 
                (<span class="hljs-name">make-interval</span> (<span class="hljs-name"><span class="hljs-builtin-name">/</span></span> <span class="hljs-number">1.0</span> (<span class="hljs-name">upper-bound</span> y))
                               (<span class="hljs-name"><span class="hljs-builtin-name">/</span></span> <span class="hljs-number">1.0</span> (<span class="hljs-name">lower-bound</span> y)))))</code></pre>
<h2>Exercise 2.7</h2>
<pre><code class="hljs language-scheme">(<span class="hljs-name"><span class="hljs-builtin-name">define</span></span> (<span class="hljs-name">make-interval</span> a b) (<span class="hljs-name"><span class="hljs-builtin-name">cons</span></span> a b))

(<span class="hljs-name"><span class="hljs-builtin-name">define</span></span> (<span class="hljs-name">lower-bound</span> i)
  (<span class="hljs-name"><span class="hljs-builtin-name">min</span></span> (<span class="hljs-name"><span class="hljs-builtin-name">car</span></span> i) (<span class="hljs-name"><span class="hljs-builtin-name">cdr</span></span> i)))

(<span class="hljs-name"><span class="hljs-builtin-name">define</span></span> (<span class="hljs-name">upper-bound</span> i)
  (<span class="hljs-name"><span class="hljs-builtin-name">max</span></span> (<span class="hljs-name"><span class="hljs-builtin-name">car</span></span> i) (<span class="hljs-name"><span class="hljs-builtin-name">cdr</span></span> i)))</code></pre>
<h2>Exercise 2.8</h2>
<pre><code class="hljs language-scheme">(<span class="hljs-name"><span class="hljs-builtin-name">define</span></span> (<span class="hljs-name">sub-interval</span> x y)
  (<span class="hljs-name">make-interval</span> 
    (<span class="hljs-name"><span class="hljs-builtin-name">-</span></span> (<span class="hljs-name">lower-bound</span> x) (<span class="hljs-name">upper-bound</span> y))
    (<span class="hljs-name"><span class="hljs-builtin-name">-</span></span> (<span class="hljs-name">upper-bound</span> x) (<span class="hljs-name">lower-bound</span> y))))</code></pre>
<h2>Exercise 2.9</h2>
<p>Let's have interval (a1,b1) of width w1 = b1 - a1. And similar interval (a2,b2) of width w2 = b2 - a2.</p>
<p>(a1,b1) + (a2,b2) = (a1 + a2, b1+b2)
width of this interval is (b1+b2) - (a1+a2) = (b1 - a1) + (b2-a2) = w1+w2</p>
<p>(a1,b1) - (a2,b2) = (a1 - b2, b1-a2)</p>
<p>width of this interval is (b1-a2) - (a1-b2) = b1 - a2 - a1 + b2 = (b1 - a1) + (b2-a2) = w1+w2</p>
<p>Multiplication counterexample:</p>
<p>Let's multiply two intervals of width 1:
(1,2) * (1,2) = (1, 3)
Gives interval of width 3.</p>
<p>Let's multiply another two intervals of width 1:
(1,2) * (2,3) = (2, 6)</p>
<p>Gives interval of width 6. Width of multiplication could not be just function of width of arguments, because it's gives different results for the same inputs. It must be function of something else.</p>
<h2>Exercise 2.10</h2>
<pre><code class="hljs language-scheme">(<span class="hljs-name"><span class="hljs-builtin-name">define</span></span> (<span class="hljs-name">spans-zero</span> i)
  (<span class="hljs-name"><span class="hljs-builtin-name">and</span></span> (<span class="hljs-name"><span class="hljs-builtin-name">&#x3C;=</span></span> (<span class="hljs-name">lower-bound</span> i) <span class="hljs-number">0</span>) (<span class="hljs-name"><span class="hljs-builtin-name">>=</span></span> (<span class="hljs-name">upper-bound</span> i) <span class="hljs-number">0</span>))
)

(<span class="hljs-name"><span class="hljs-builtin-name">define</span></span> (<span class="hljs-name">div-interval</span> x y)
  (<span class="hljs-name"><span class="hljs-builtin-name">if</span></span> (<span class="hljs-name">spans-zero</span> y)
    (<span class="hljs-name">error</span> <span class="hljs-string">"Could not divide by interval that spans zero"</span>)
    (<span class="hljs-name">mul-interval</span> x 
                (<span class="hljs-name">make-interval</span> (<span class="hljs-name"><span class="hljs-builtin-name">/</span></span> <span class="hljs-number">1.0</span> (<span class="hljs-name">upper-bound</span> y))
                               (<span class="hljs-name"><span class="hljs-builtin-name">/</span></span> <span class="hljs-number">1.0</span> (<span class="hljs-name">lower-bound</span> y))))
  )
)</code></pre>
<h2>Exercise 2.11</h2>
<pre><code class="hljs language-scheme">(<span class="hljs-name"><span class="hljs-builtin-name">define</span></span> (<span class="hljs-name">random-interval</span>) 
  (<span class="hljs-name">make-interval</span> (<span class="hljs-name"><span class="hljs-builtin-name">-</span></span> (<span class="hljs-name">random</span> <span class="hljs-number">11</span>) <span class="hljs-number">5</span>) (<span class="hljs-name"><span class="hljs-builtin-name">-</span></span> (<span class="hljs-name">random</span> <span class="hljs-number">11</span>) <span class="hljs-number">5</span>))
)
(<span class="hljs-name"><span class="hljs-builtin-name">define</span></span> (<span class="hljs-name">eq-interval</span> a b)
  (<span class="hljs-name"><span class="hljs-builtin-name">and</span></span>
    (<span class="hljs-name"><span class="hljs-builtin-name">=</span></span> (<span class="hljs-name">lower-bound</span> a) (<span class="hljs-name">lower-bound</span> b))
    (<span class="hljs-name"><span class="hljs-builtin-name">=</span></span> (<span class="hljs-name">upper-bound</span> a) (<span class="hljs-name">upper-bound</span> b))
  )
)


(<span class="hljs-name"><span class="hljs-builtin-name">define</span></span> (<span class="hljs-name">test-mul-interval</span>) 
  (<span class="hljs-name"><span class="hljs-builtin-name">define</span></span> (<span class="hljs-name">bad-pair</span> i1 i2) 
    (<span class="hljs-name"><span class="hljs-builtin-name">display</span></span> <span class="hljs-string">"Mul-iterval result differs for "</span>)
    (<span class="hljs-name"><span class="hljs-builtin-name">display</span></span> i1)
    (<span class="hljs-name"><span class="hljs-builtin-name">display</span></span> i2)
    <span class="hljs-literal">#f</span>
  )
  (<span class="hljs-name"><span class="hljs-builtin-name">define</span></span> (<span class="hljs-name">try</span> n)
    (<span class="hljs-name"><span class="hljs-builtin-name">if</span></span> (<span class="hljs-name"><span class="hljs-builtin-name">=</span></span> n <span class="hljs-number">0</span>) <span class="hljs-literal">#t</span>
      (<span class="hljs-name"><span class="hljs-builtin-name">let</span></span> (
            (<span class="hljs-name">i1</span> (<span class="hljs-name">random-interval</span>))
            (<span class="hljs-name">i2</span> (<span class="hljs-name">random-interval</span>))
        )
        (<span class="hljs-name"><span class="hljs-builtin-name">if</span></span> (<span class="hljs-name">eq-interval</span> (<span class="hljs-name">mul-interval2</span> i1 i2) (<span class="hljs-name">mul-interval</span> i1 i2))
          (<span class="hljs-name">try</span> (<span class="hljs-name"><span class="hljs-builtin-name">-</span></span> n <span class="hljs-number">1</span>)) 
          (<span class="hljs-name">bad-pair</span> i1 i2)
        )
      )
    )
  )
  (<span class="hljs-name">try</span> <span class="hljs-number">100</span>)
)

(<span class="hljs-name"><span class="hljs-builtin-name">define</span></span> (<span class="hljs-name">mul-interval2</span> x y)
  (<span class="hljs-name"><span class="hljs-builtin-name">let</span></span> (
    (<span class="hljs-name">lx</span> (<span class="hljs-name">lower-bound</span> x))
    (<span class="hljs-name">ux</span> (<span class="hljs-name">upper-bound</span> x))
    (<span class="hljs-name">ly</span> (<span class="hljs-name">lower-bound</span> y))
    (<span class="hljs-name">uy</span> (<span class="hljs-name">upper-bound</span> y))
  )

  (<span class="hljs-name"><span class="hljs-builtin-name">cond</span></span> 
    ((<span class="hljs-name"><span class="hljs-builtin-name">and</span></span> (<span class="hljs-name"><span class="hljs-builtin-name">&#x3C;</span></span> ux <span class="hljs-number">0</span>) (<span class="hljs-name"><span class="hljs-builtin-name">&#x3C;</span></span> uy <span class="hljs-number">0</span>))
     (<span class="hljs-name">make-interval</span> (<span class="hljs-name"><span class="hljs-builtin-name">*</span></span> ux uy) (<span class="hljs-name"><span class="hljs-builtin-name">*</span></span> lx ly)))

    ((<span class="hljs-name"><span class="hljs-builtin-name">and</span></span> (<span class="hljs-name">spans-zero</span> x) (<span class="hljs-name"><span class="hljs-builtin-name">&#x3C;</span></span> uy <span class="hljs-number">0</span>))
     (<span class="hljs-name">make-interval</span> (<span class="hljs-name"><span class="hljs-builtin-name">*</span></span> ux ly) (<span class="hljs-name"><span class="hljs-builtin-name">*</span></span> lx ly)))

    ((<span class="hljs-name"><span class="hljs-builtin-name">and</span></span> (<span class="hljs-name"><span class="hljs-builtin-name">></span></span> lx <span class="hljs-number">0</span>) (<span class="hljs-name"><span class="hljs-builtin-name">&#x3C;</span></span> uy <span class="hljs-number">0</span>))
     (<span class="hljs-name">make-interval</span> (<span class="hljs-name"><span class="hljs-builtin-name">*</span></span> ux ly) (<span class="hljs-name"><span class="hljs-builtin-name">*</span></span> lx uy)))

    ((<span class="hljs-name"><span class="hljs-builtin-name">and</span></span> (<span class="hljs-name"><span class="hljs-builtin-name">&#x3C;</span></span> ux <span class="hljs-number">0</span>) (<span class="hljs-name">spans-zero</span> y))
     (<span class="hljs-name">make-interval</span> (<span class="hljs-name"><span class="hljs-builtin-name">*</span></span> lx uy) (<span class="hljs-name"><span class="hljs-builtin-name">*</span></span> lx ly)))

    ((<span class="hljs-name"><span class="hljs-builtin-name">and</span></span> (<span class="hljs-name">spans-zero</span> x) (<span class="hljs-name">spans-zero</span> y))
     (<span class="hljs-name">make-interval</span> (<span class="hljs-name"><span class="hljs-builtin-name">min</span></span> (<span class="hljs-name"><span class="hljs-builtin-name">*</span></span> ux ly) (<span class="hljs-name"><span class="hljs-builtin-name">*</span></span> lx uy)) (<span class="hljs-name"><span class="hljs-builtin-name">max</span></span> (<span class="hljs-name"><span class="hljs-builtin-name">*</span></span> lx ly) (<span class="hljs-name"><span class="hljs-builtin-name">*</span></span> ux uy))))

    ((<span class="hljs-name"><span class="hljs-builtin-name">and</span></span> (<span class="hljs-name"><span class="hljs-builtin-name">></span></span> lx <span class="hljs-number">0</span>) (<span class="hljs-name">spans-zero</span> y))
     (<span class="hljs-name">make-interval</span> (<span class="hljs-name"><span class="hljs-builtin-name">*</span></span> ux ly) (<span class="hljs-name"><span class="hljs-builtin-name">*</span></span> ux uy)))

    ((<span class="hljs-name"><span class="hljs-builtin-name">and</span></span> (<span class="hljs-name"><span class="hljs-builtin-name">&#x3C;</span></span> ux <span class="hljs-number">0</span>) (<span class="hljs-name"><span class="hljs-builtin-name">></span></span> ly <span class="hljs-number">0</span>))
     (<span class="hljs-name">make-interval</span> (<span class="hljs-name"><span class="hljs-builtin-name">*</span></span> lx uy) (<span class="hljs-name"><span class="hljs-builtin-name">*</span></span> ux ly)))

    ((<span class="hljs-name"><span class="hljs-builtin-name">and</span></span> (<span class="hljs-name">spans-zero</span> x) (<span class="hljs-name"><span class="hljs-builtin-name">></span></span> ly <span class="hljs-number">0</span>))
     (<span class="hljs-name">make-interval</span> (<span class="hljs-name"><span class="hljs-builtin-name">*</span></span> lx uy) (<span class="hljs-name"><span class="hljs-builtin-name">*</span></span> ux uy)))

    ((<span class="hljs-name"><span class="hljs-builtin-name">and</span></span> (<span class="hljs-name"><span class="hljs-builtin-name">></span></span> lx <span class="hljs-number">0</span>) (<span class="hljs-name"><span class="hljs-builtin-name">></span></span> ly <span class="hljs-number">0</span>))
     (<span class="hljs-name">make-interval</span> (<span class="hljs-name"><span class="hljs-builtin-name">*</span></span> lx ly) (<span class="hljs-name"><span class="hljs-builtin-name">*</span></span> ux uy)))

    (<span class="hljs-name"><span class="hljs-builtin-name">else</span></span> (<span class="hljs-name">error</span> <span class="hljs-string">"impossible case"</span>))
  ))
)</code></pre>
<p>Wow this took a lot of effort. Good that they teached to use let, without it secod version of mul-interval would be huge.</p>
<p>And this required lots of attention, but somehow my code passed the test from the first try.</p>
<h2>Exercise 2.12</h2>
<pre><code class="hljs language-scheme">(<span class="hljs-name"><span class="hljs-builtin-name">define</span></span> (<span class="hljs-name">make-center-width</span> c w)
  (<span class="hljs-name">make-interval</span> (<span class="hljs-name"><span class="hljs-builtin-name">-</span></span> c w) (<span class="hljs-name"><span class="hljs-builtin-name">+</span></span> c w)))
(<span class="hljs-name"><span class="hljs-builtin-name">define</span></span> (<span class="hljs-name">center</span> i)
  (<span class="hljs-name"><span class="hljs-builtin-name">/</span></span> (<span class="hljs-name"><span class="hljs-builtin-name">+</span></span> (<span class="hljs-name">lower-bound</span> i) (<span class="hljs-name">upper-bound</span> i)) <span class="hljs-number">2</span>))
(<span class="hljs-name"><span class="hljs-builtin-name">define</span></span> (<span class="hljs-name">width</span> i)
  (<span class="hljs-name"><span class="hljs-builtin-name">/</span></span> (<span class="hljs-name"><span class="hljs-builtin-name">-</span></span> (<span class="hljs-name">upper-bound</span> i) (<span class="hljs-name">lower-bound</span> i)) <span class="hljs-number">2</span>))

(<span class="hljs-name"><span class="hljs-builtin-name">define</span></span> (<span class="hljs-name">make-center-percent</span> c p)
  (<span class="hljs-name"><span class="hljs-builtin-name">let</span></span> ((<span class="hljs-name">w</span> (<span class="hljs-name"><span class="hljs-builtin-name">*</span></span> p <span class="hljs-number">0.01</span> (<span class="hljs-name"><span class="hljs-builtin-name">abs</span></span> c))))
  (<span class="hljs-name">make-interval</span> (<span class="hljs-name"><span class="hljs-builtin-name">-</span></span> c w) (<span class="hljs-name"><span class="hljs-builtin-name">+</span></span> c w))))

(<span class="hljs-name"><span class="hljs-builtin-name">define</span></span> (<span class="hljs-name">percent</span> i)
  (<span class="hljs-name"><span class="hljs-builtin-name">*</span></span> <span class="hljs-number">100</span> (<span class="hljs-name"><span class="hljs-builtin-name">/</span></span> (<span class="hljs-name">width</span> i) (<span class="hljs-name">center</span> i)))
)</code></pre>
<h2>Exercise 2.13</h2>
<p>It's approximately addition.</p>
<h2>Exercise 2.14</h2>
<pre><code class="hljs language-scheme">(<span class="hljs-name"><span class="hljs-builtin-name">define</span></span> (<span class="hljs-name">par1</span> r1 r2)
  (<span class="hljs-name">div-interval</span> (<span class="hljs-name">mul-interval</span> r1 r2)
                (<span class="hljs-name">add-interval</span> r1 r2)))
(<span class="hljs-name"><span class="hljs-builtin-name">define</span></span> (<span class="hljs-name">par2</span> r1 r2)
  (<span class="hljs-name"><span class="hljs-builtin-name">let</span></span> ((<span class="hljs-name">one</span> (<span class="hljs-name">make-interval</span> <span class="hljs-number">1</span> <span class="hljs-number">1</span>))) 
    (<span class="hljs-name">div-interval</span> one
                  (<span class="hljs-name">add-interval</span> (<span class="hljs-name">div-interval</span> one r1)
                                (<span class="hljs-name">div-interval</span> one r2)))))

(<span class="hljs-name"><span class="hljs-builtin-name">define</span></span> a (<span class="hljs-name">make-center-percent</span> <span class="hljs-number">100</span> <span class="hljs-number">1</span>))
(<span class="hljs-name"><span class="hljs-builtin-name">define</span></span> b (<span class="hljs-name">make-center-percent</span> <span class="hljs-number">200</span> <span class="hljs-number">1</span>))


(<span class="hljs-name">center</span> (<span class="hljs-name">par1</span> a b))
(<span class="hljs-name">center</span> (<span class="hljs-name">par2</span> a b))

(<span class="hljs-name">percent</span> (<span class="hljs-name">par1</span> a b))
(<span class="hljs-name">percent</span> (<span class="hljs-name">par2</span> a b))</code></pre>
<h2>Exercise 2.15</h2>
<p>Every operation on intervals with non zero width increases width of result.</p>
<p>In par1 program does 3 operations in which both intervals have non zero widht, and par2 program does only addition, all the rest are operations with interval of zero widht.</p>
<h2>Exercise 2.16</h2>
<p>No I can not, because as they said, this problem is very difficult. I imagine it will require simplification of expression to some base form, before computing it.</p></div></div></div><div class="MuiGrid-root MuiGrid-item MuiGrid-grid-xs-12 MuiGrid-grid-md-3"><h6 class="MuiTypography-root jss6 MuiTypography-h6 MuiTypography-gutterBottom">Archives</h6><ul><li><a href="/month/2018-08/page/1">2018-08</a> <span title="posts count">(<!-- -->1<!-- -->)</span></li><li><a href="/month/2020-06/page/1">2020-06</a> <span title="posts count">(<!-- -->7<!-- -->)</span></li><li><a href="/month/2020-07/page/1">2020-07</a> <span title="posts count">(<!-- -->10<!-- -->)</span></li><li><a href="/month/2020-08/page/1">2020-08</a> <span title="posts count">(<!-- -->2<!-- -->)</span></li><li><a href="/month/2020-09/page/1">2020-09</a> <span title="posts count">(<!-- -->2<!-- -->)</span></li><li><a href="/month/2020-12/page/1">2020-12</a> <span title="posts count">(<!-- -->1<!-- -->)</span></li><li><a href="/month/2021-01/page/1">2021-01</a> <span title="posts count">(<!-- -->4<!-- -->)</span></li></ul><h6 class="MuiTypography-root jss6 MuiTypography-h6 MuiTypography-gutterBottom">Topics</h6><ul><li><a href="/tag/MOOC/page/1">MOOC</a> <span title="posts count">(<!-- -->2<!-- -->)</span></li><li><a href="/tag/SICP/page/1">SICP</a> <span title="posts count">(<!-- -->20<!-- -->)</span></li><li><a href="/tag/ideas/page/1">ideas</a> <span title="posts count">(<!-- -->1<!-- -->)</span></li><li><a href="/tag/notes/page/1">notes</a> <span title="posts count">(<!-- -->5<!-- -->)</span></li><li><a href="/tag/on%20writing/page/1">on writing</a> <span title="posts count">(<!-- -->3<!-- -->)</span></li></ul></div><p class="MuiTypography-root MuiTypography-body2 MuiTypography-colorTextSecondary MuiTypography-alignCenter">© <!-- -->2021<!-- --> Bunyk Taras. Built with Material UI &amp; Next.js</p></div></div></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"post":{"id":"sicp2.1.4","title":"SICP 2.1.4: Interval arithmetic","date":"2020-07-15","tags":["SICP"],"excerpt":"\u003cp\u003eLess mind-blowing ideas, more practice.\u003c/p\u003e","content":"\u003cp\u003eLess mind-blowing ideas, more practice.\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-scheme\"\u003e(\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003edefine\u003c/span\u003e\u003c/span\u003e (\u003cspan class=\"hljs-name\"\u003eadd-interval\u003c/span\u003e x y)\n  (\u003cspan class=\"hljs-name\"\u003emake-interval\u003c/span\u003e (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003e+\u003c/span\u003e\u003c/span\u003e (\u003cspan class=\"hljs-name\"\u003elower-bound\u003c/span\u003e x) (\u003cspan class=\"hljs-name\"\u003elower-bound\u003c/span\u003e y))\n                 (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003e+\u003c/span\u003e\u003c/span\u003e (\u003cspan class=\"hljs-name\"\u003eupper-bound\u003c/span\u003e x) (\u003cspan class=\"hljs-name\"\u003eupper-bound\u003c/span\u003e y))))\n\n(\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003edefine\u003c/span\u003e\u003c/span\u003e (\u003cspan class=\"hljs-name\"\u003emul-interval\u003c/span\u003e x y)\n  (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003elet\u003c/span\u003e\u003c/span\u003e ((\u003cspan class=\"hljs-name\"\u003ep1\u003c/span\u003e (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003e*\u003c/span\u003e\u003c/span\u003e (\u003cspan class=\"hljs-name\"\u003elower-bound\u003c/span\u003e x) (\u003cspan class=\"hljs-name\"\u003elower-bound\u003c/span\u003e y)))\n        (\u003cspan class=\"hljs-name\"\u003ep2\u003c/span\u003e (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003e*\u003c/span\u003e\u003c/span\u003e (\u003cspan class=\"hljs-name\"\u003elower-bound\u003c/span\u003e x) (\u003cspan class=\"hljs-name\"\u003eupper-bound\u003c/span\u003e y)))\n        (\u003cspan class=\"hljs-name\"\u003ep3\u003c/span\u003e (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003e*\u003c/span\u003e\u003c/span\u003e (\u003cspan class=\"hljs-name\"\u003eupper-bound\u003c/span\u003e x) (\u003cspan class=\"hljs-name\"\u003elower-bound\u003c/span\u003e y)))\n        (\u003cspan class=\"hljs-name\"\u003ep4\u003c/span\u003e (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003e*\u003c/span\u003e\u003c/span\u003e (\u003cspan class=\"hljs-name\"\u003eupper-bound\u003c/span\u003e x) (\u003cspan class=\"hljs-name\"\u003eupper-bound\u003c/span\u003e y))))\n    (\u003cspan class=\"hljs-name\"\u003emake-interval\u003c/span\u003e (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003emin\u003c/span\u003e\u003c/span\u003e p1 p2 p3 p4)\n                   (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003emax\u003c/span\u003e\u003c/span\u003e p1 p2 p3 p4))))\n\n(\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003edefine\u003c/span\u003e\u003c/span\u003e (\u003cspan class=\"hljs-name\"\u003ediv-interval\u003c/span\u003e x y)\n  (\u003cspan class=\"hljs-name\"\u003emul-interval\u003c/span\u003e x \n                (\u003cspan class=\"hljs-name\"\u003emake-interval\u003c/span\u003e (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003e/\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"hljs-number\"\u003e1.0\u003c/span\u003e (\u003cspan class=\"hljs-name\"\u003eupper-bound\u003c/span\u003e y))\n                               (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003e/\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"hljs-number\"\u003e1.0\u003c/span\u003e (\u003cspan class=\"hljs-name\"\u003elower-bound\u003c/span\u003e y)))))\u003c/code\u003e\u003c/pre\u003e\n\u003ch2\u003eExercise 2.7\u003c/h2\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-scheme\"\u003e(\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003edefine\u003c/span\u003e\u003c/span\u003e (\u003cspan class=\"hljs-name\"\u003emake-interval\u003c/span\u003e a b) (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003econs\u003c/span\u003e\u003c/span\u003e a b))\n\n(\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003edefine\u003c/span\u003e\u003c/span\u003e (\u003cspan class=\"hljs-name\"\u003elower-bound\u003c/span\u003e i)\n  (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003emin\u003c/span\u003e\u003c/span\u003e (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003ecar\u003c/span\u003e\u003c/span\u003e i) (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003ecdr\u003c/span\u003e\u003c/span\u003e i)))\n\n(\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003edefine\u003c/span\u003e\u003c/span\u003e (\u003cspan class=\"hljs-name\"\u003eupper-bound\u003c/span\u003e i)\n  (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003emax\u003c/span\u003e\u003c/span\u003e (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003ecar\u003c/span\u003e\u003c/span\u003e i) (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003ecdr\u003c/span\u003e\u003c/span\u003e i)))\u003c/code\u003e\u003c/pre\u003e\n\u003ch2\u003eExercise 2.8\u003c/h2\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-scheme\"\u003e(\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003edefine\u003c/span\u003e\u003c/span\u003e (\u003cspan class=\"hljs-name\"\u003esub-interval\u003c/span\u003e x y)\n  (\u003cspan class=\"hljs-name\"\u003emake-interval\u003c/span\u003e \n    (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003e-\u003c/span\u003e\u003c/span\u003e (\u003cspan class=\"hljs-name\"\u003elower-bound\u003c/span\u003e x) (\u003cspan class=\"hljs-name\"\u003eupper-bound\u003c/span\u003e y))\n    (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003e-\u003c/span\u003e\u003c/span\u003e (\u003cspan class=\"hljs-name\"\u003eupper-bound\u003c/span\u003e x) (\u003cspan class=\"hljs-name\"\u003elower-bound\u003c/span\u003e y))))\u003c/code\u003e\u003c/pre\u003e\n\u003ch2\u003eExercise 2.9\u003c/h2\u003e\n\u003cp\u003eLet's have interval (a1,b1) of width w1 = b1 - a1. And similar interval (a2,b2) of width w2 = b2 - a2.\u003c/p\u003e\n\u003cp\u003e(a1,b1) + (a2,b2) = (a1 + a2, b1+b2)\nwidth of this interval is (b1+b2) - (a1+a2) = (b1 - a1) + (b2-a2) = w1+w2\u003c/p\u003e\n\u003cp\u003e(a1,b1) - (a2,b2) = (a1 - b2, b1-a2)\u003c/p\u003e\n\u003cp\u003ewidth of this interval is (b1-a2) - (a1-b2) = b1 - a2 - a1 + b2 = (b1 - a1) + (b2-a2) = w1+w2\u003c/p\u003e\n\u003cp\u003eMultiplication counterexample:\u003c/p\u003e\n\u003cp\u003eLet's multiply two intervals of width 1:\n(1,2) * (1,2) = (1, 3)\nGives interval of width 3.\u003c/p\u003e\n\u003cp\u003eLet's multiply another two intervals of width 1:\n(1,2) * (2,3) = (2, 6)\u003c/p\u003e\n\u003cp\u003eGives interval of width 6. Width of multiplication could not be just function of width of arguments, because it's gives different results for the same inputs. It must be function of something else.\u003c/p\u003e\n\u003ch2\u003eExercise 2.10\u003c/h2\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-scheme\"\u003e(\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003edefine\u003c/span\u003e\u003c/span\u003e (\u003cspan class=\"hljs-name\"\u003espans-zero\u003c/span\u003e i)\n  (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003eand\u003c/span\u003e\u003c/span\u003e (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003e\u0026#x3C;=\u003c/span\u003e\u003c/span\u003e (\u003cspan class=\"hljs-name\"\u003elower-bound\u003c/span\u003e i) \u003cspan class=\"hljs-number\"\u003e0\u003c/span\u003e) (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003e\u003e=\u003c/span\u003e\u003c/span\u003e (\u003cspan class=\"hljs-name\"\u003eupper-bound\u003c/span\u003e i) \u003cspan class=\"hljs-number\"\u003e0\u003c/span\u003e))\n)\n\n(\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003edefine\u003c/span\u003e\u003c/span\u003e (\u003cspan class=\"hljs-name\"\u003ediv-interval\u003c/span\u003e x y)\n  (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003eif\u003c/span\u003e\u003c/span\u003e (\u003cspan class=\"hljs-name\"\u003espans-zero\u003c/span\u003e y)\n    (\u003cspan class=\"hljs-name\"\u003eerror\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e\"Could not divide by interval that spans zero\"\u003c/span\u003e)\n    (\u003cspan class=\"hljs-name\"\u003emul-interval\u003c/span\u003e x \n                (\u003cspan class=\"hljs-name\"\u003emake-interval\u003c/span\u003e (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003e/\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"hljs-number\"\u003e1.0\u003c/span\u003e (\u003cspan class=\"hljs-name\"\u003eupper-bound\u003c/span\u003e y))\n                               (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003e/\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"hljs-number\"\u003e1.0\u003c/span\u003e (\u003cspan class=\"hljs-name\"\u003elower-bound\u003c/span\u003e y))))\n  )\n)\u003c/code\u003e\u003c/pre\u003e\n\u003ch2\u003eExercise 2.11\u003c/h2\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-scheme\"\u003e(\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003edefine\u003c/span\u003e\u003c/span\u003e (\u003cspan class=\"hljs-name\"\u003erandom-interval\u003c/span\u003e) \n  (\u003cspan class=\"hljs-name\"\u003emake-interval\u003c/span\u003e (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003e-\u003c/span\u003e\u003c/span\u003e (\u003cspan class=\"hljs-name\"\u003erandom\u003c/span\u003e \u003cspan class=\"hljs-number\"\u003e11\u003c/span\u003e) \u003cspan class=\"hljs-number\"\u003e5\u003c/span\u003e) (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003e-\u003c/span\u003e\u003c/span\u003e (\u003cspan class=\"hljs-name\"\u003erandom\u003c/span\u003e \u003cspan class=\"hljs-number\"\u003e11\u003c/span\u003e) \u003cspan class=\"hljs-number\"\u003e5\u003c/span\u003e))\n)\n(\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003edefine\u003c/span\u003e\u003c/span\u003e (\u003cspan class=\"hljs-name\"\u003eeq-interval\u003c/span\u003e a b)\n  (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003eand\u003c/span\u003e\u003c/span\u003e\n    (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003e=\u003c/span\u003e\u003c/span\u003e (\u003cspan class=\"hljs-name\"\u003elower-bound\u003c/span\u003e a) (\u003cspan class=\"hljs-name\"\u003elower-bound\u003c/span\u003e b))\n    (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003e=\u003c/span\u003e\u003c/span\u003e (\u003cspan class=\"hljs-name\"\u003eupper-bound\u003c/span\u003e a) (\u003cspan class=\"hljs-name\"\u003eupper-bound\u003c/span\u003e b))\n  )\n)\n\n\n(\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003edefine\u003c/span\u003e\u003c/span\u003e (\u003cspan class=\"hljs-name\"\u003etest-mul-interval\u003c/span\u003e) \n  (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003edefine\u003c/span\u003e\u003c/span\u003e (\u003cspan class=\"hljs-name\"\u003ebad-pair\u003c/span\u003e i1 i2) \n    (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003edisplay\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e\"Mul-iterval result differs for \"\u003c/span\u003e)\n    (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003edisplay\u003c/span\u003e\u003c/span\u003e i1)\n    (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003edisplay\u003c/span\u003e\u003c/span\u003e i2)\n    \u003cspan class=\"hljs-literal\"\u003e#f\u003c/span\u003e\n  )\n  (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003edefine\u003c/span\u003e\u003c/span\u003e (\u003cspan class=\"hljs-name\"\u003etry\u003c/span\u003e n)\n    (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003eif\u003c/span\u003e\u003c/span\u003e (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003e=\u003c/span\u003e\u003c/span\u003e n \u003cspan class=\"hljs-number\"\u003e0\u003c/span\u003e) \u003cspan class=\"hljs-literal\"\u003e#t\u003c/span\u003e\n      (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003elet\u003c/span\u003e\u003c/span\u003e (\n            (\u003cspan class=\"hljs-name\"\u003ei1\u003c/span\u003e (\u003cspan class=\"hljs-name\"\u003erandom-interval\u003c/span\u003e))\n            (\u003cspan class=\"hljs-name\"\u003ei2\u003c/span\u003e (\u003cspan class=\"hljs-name\"\u003erandom-interval\u003c/span\u003e))\n        )\n        (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003eif\u003c/span\u003e\u003c/span\u003e (\u003cspan class=\"hljs-name\"\u003eeq-interval\u003c/span\u003e (\u003cspan class=\"hljs-name\"\u003emul-interval2\u003c/span\u003e i1 i2) (\u003cspan class=\"hljs-name\"\u003emul-interval\u003c/span\u003e i1 i2))\n          (\u003cspan class=\"hljs-name\"\u003etry\u003c/span\u003e (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003e-\u003c/span\u003e\u003c/span\u003e n \u003cspan class=\"hljs-number\"\u003e1\u003c/span\u003e)) \n          (\u003cspan class=\"hljs-name\"\u003ebad-pair\u003c/span\u003e i1 i2)\n        )\n      )\n    )\n  )\n  (\u003cspan class=\"hljs-name\"\u003etry\u003c/span\u003e \u003cspan class=\"hljs-number\"\u003e100\u003c/span\u003e)\n)\n\n(\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003edefine\u003c/span\u003e\u003c/span\u003e (\u003cspan class=\"hljs-name\"\u003emul-interval2\u003c/span\u003e x y)\n  (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003elet\u003c/span\u003e\u003c/span\u003e (\n    (\u003cspan class=\"hljs-name\"\u003elx\u003c/span\u003e (\u003cspan class=\"hljs-name\"\u003elower-bound\u003c/span\u003e x))\n    (\u003cspan class=\"hljs-name\"\u003eux\u003c/span\u003e (\u003cspan class=\"hljs-name\"\u003eupper-bound\u003c/span\u003e x))\n    (\u003cspan class=\"hljs-name\"\u003ely\u003c/span\u003e (\u003cspan class=\"hljs-name\"\u003elower-bound\u003c/span\u003e y))\n    (\u003cspan class=\"hljs-name\"\u003euy\u003c/span\u003e (\u003cspan class=\"hljs-name\"\u003eupper-bound\u003c/span\u003e y))\n  )\n\n  (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003econd\u003c/span\u003e\u003c/span\u003e \n    ((\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003eand\u003c/span\u003e\u003c/span\u003e (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003e\u0026#x3C;\u003c/span\u003e\u003c/span\u003e ux \u003cspan class=\"hljs-number\"\u003e0\u003c/span\u003e) (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003e\u0026#x3C;\u003c/span\u003e\u003c/span\u003e uy \u003cspan class=\"hljs-number\"\u003e0\u003c/span\u003e))\n     (\u003cspan class=\"hljs-name\"\u003emake-interval\u003c/span\u003e (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003e*\u003c/span\u003e\u003c/span\u003e ux uy) (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003e*\u003c/span\u003e\u003c/span\u003e lx ly)))\n\n    ((\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003eand\u003c/span\u003e\u003c/span\u003e (\u003cspan class=\"hljs-name\"\u003espans-zero\u003c/span\u003e x) (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003e\u0026#x3C;\u003c/span\u003e\u003c/span\u003e uy \u003cspan class=\"hljs-number\"\u003e0\u003c/span\u003e))\n     (\u003cspan class=\"hljs-name\"\u003emake-interval\u003c/span\u003e (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003e*\u003c/span\u003e\u003c/span\u003e ux ly) (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003e*\u003c/span\u003e\u003c/span\u003e lx ly)))\n\n    ((\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003eand\u003c/span\u003e\u003c/span\u003e (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003e\u003e\u003c/span\u003e\u003c/span\u003e lx \u003cspan class=\"hljs-number\"\u003e0\u003c/span\u003e) (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003e\u0026#x3C;\u003c/span\u003e\u003c/span\u003e uy \u003cspan class=\"hljs-number\"\u003e0\u003c/span\u003e))\n     (\u003cspan class=\"hljs-name\"\u003emake-interval\u003c/span\u003e (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003e*\u003c/span\u003e\u003c/span\u003e ux ly) (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003e*\u003c/span\u003e\u003c/span\u003e lx uy)))\n\n    ((\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003eand\u003c/span\u003e\u003c/span\u003e (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003e\u0026#x3C;\u003c/span\u003e\u003c/span\u003e ux \u003cspan class=\"hljs-number\"\u003e0\u003c/span\u003e) (\u003cspan class=\"hljs-name\"\u003espans-zero\u003c/span\u003e y))\n     (\u003cspan class=\"hljs-name\"\u003emake-interval\u003c/span\u003e (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003e*\u003c/span\u003e\u003c/span\u003e lx uy) (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003e*\u003c/span\u003e\u003c/span\u003e lx ly)))\n\n    ((\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003eand\u003c/span\u003e\u003c/span\u003e (\u003cspan class=\"hljs-name\"\u003espans-zero\u003c/span\u003e x) (\u003cspan class=\"hljs-name\"\u003espans-zero\u003c/span\u003e y))\n     (\u003cspan class=\"hljs-name\"\u003emake-interval\u003c/span\u003e (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003emin\u003c/span\u003e\u003c/span\u003e (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003e*\u003c/span\u003e\u003c/span\u003e ux ly) (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003e*\u003c/span\u003e\u003c/span\u003e lx uy)) (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003emax\u003c/span\u003e\u003c/span\u003e (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003e*\u003c/span\u003e\u003c/span\u003e lx ly) (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003e*\u003c/span\u003e\u003c/span\u003e ux uy))))\n\n    ((\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003eand\u003c/span\u003e\u003c/span\u003e (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003e\u003e\u003c/span\u003e\u003c/span\u003e lx \u003cspan class=\"hljs-number\"\u003e0\u003c/span\u003e) (\u003cspan class=\"hljs-name\"\u003espans-zero\u003c/span\u003e y))\n     (\u003cspan class=\"hljs-name\"\u003emake-interval\u003c/span\u003e (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003e*\u003c/span\u003e\u003c/span\u003e ux ly) (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003e*\u003c/span\u003e\u003c/span\u003e ux uy)))\n\n    ((\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003eand\u003c/span\u003e\u003c/span\u003e (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003e\u0026#x3C;\u003c/span\u003e\u003c/span\u003e ux \u003cspan class=\"hljs-number\"\u003e0\u003c/span\u003e) (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003e\u003e\u003c/span\u003e\u003c/span\u003e ly \u003cspan class=\"hljs-number\"\u003e0\u003c/span\u003e))\n     (\u003cspan class=\"hljs-name\"\u003emake-interval\u003c/span\u003e (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003e*\u003c/span\u003e\u003c/span\u003e lx uy) (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003e*\u003c/span\u003e\u003c/span\u003e ux ly)))\n\n    ((\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003eand\u003c/span\u003e\u003c/span\u003e (\u003cspan class=\"hljs-name\"\u003espans-zero\u003c/span\u003e x) (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003e\u003e\u003c/span\u003e\u003c/span\u003e ly \u003cspan class=\"hljs-number\"\u003e0\u003c/span\u003e))\n     (\u003cspan class=\"hljs-name\"\u003emake-interval\u003c/span\u003e (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003e*\u003c/span\u003e\u003c/span\u003e lx uy) (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003e*\u003c/span\u003e\u003c/span\u003e ux uy)))\n\n    ((\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003eand\u003c/span\u003e\u003c/span\u003e (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003e\u003e\u003c/span\u003e\u003c/span\u003e lx \u003cspan class=\"hljs-number\"\u003e0\u003c/span\u003e) (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003e\u003e\u003c/span\u003e\u003c/span\u003e ly \u003cspan class=\"hljs-number\"\u003e0\u003c/span\u003e))\n     (\u003cspan class=\"hljs-name\"\u003emake-interval\u003c/span\u003e (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003e*\u003c/span\u003e\u003c/span\u003e lx ly) (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003e*\u003c/span\u003e\u003c/span\u003e ux uy)))\n\n    (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003eelse\u003c/span\u003e\u003c/span\u003e (\u003cspan class=\"hljs-name\"\u003eerror\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e\"impossible case\"\u003c/span\u003e))\n  ))\n)\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eWow this took a lot of effort. Good that they teached to use let, without it secod version of mul-interval would be huge.\u003c/p\u003e\n\u003cp\u003eAnd this required lots of attention, but somehow my code passed the test from the first try.\u003c/p\u003e\n\u003ch2\u003eExercise 2.12\u003c/h2\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-scheme\"\u003e(\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003edefine\u003c/span\u003e\u003c/span\u003e (\u003cspan class=\"hljs-name\"\u003emake-center-width\u003c/span\u003e c w)\n  (\u003cspan class=\"hljs-name\"\u003emake-interval\u003c/span\u003e (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003e-\u003c/span\u003e\u003c/span\u003e c w) (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003e+\u003c/span\u003e\u003c/span\u003e c w)))\n(\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003edefine\u003c/span\u003e\u003c/span\u003e (\u003cspan class=\"hljs-name\"\u003ecenter\u003c/span\u003e i)\n  (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003e/\u003c/span\u003e\u003c/span\u003e (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003e+\u003c/span\u003e\u003c/span\u003e (\u003cspan class=\"hljs-name\"\u003elower-bound\u003c/span\u003e i) (\u003cspan class=\"hljs-name\"\u003eupper-bound\u003c/span\u003e i)) \u003cspan class=\"hljs-number\"\u003e2\u003c/span\u003e))\n(\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003edefine\u003c/span\u003e\u003c/span\u003e (\u003cspan class=\"hljs-name\"\u003ewidth\u003c/span\u003e i)\n  (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003e/\u003c/span\u003e\u003c/span\u003e (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003e-\u003c/span\u003e\u003c/span\u003e (\u003cspan class=\"hljs-name\"\u003eupper-bound\u003c/span\u003e i) (\u003cspan class=\"hljs-name\"\u003elower-bound\u003c/span\u003e i)) \u003cspan class=\"hljs-number\"\u003e2\u003c/span\u003e))\n\n(\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003edefine\u003c/span\u003e\u003c/span\u003e (\u003cspan class=\"hljs-name\"\u003emake-center-percent\u003c/span\u003e c p)\n  (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003elet\u003c/span\u003e\u003c/span\u003e ((\u003cspan class=\"hljs-name\"\u003ew\u003c/span\u003e (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003e*\u003c/span\u003e\u003c/span\u003e p \u003cspan class=\"hljs-number\"\u003e0.01\u003c/span\u003e (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003eabs\u003c/span\u003e\u003c/span\u003e c))))\n  (\u003cspan class=\"hljs-name\"\u003emake-interval\u003c/span\u003e (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003e-\u003c/span\u003e\u003c/span\u003e c w) (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003e+\u003c/span\u003e\u003c/span\u003e c w))))\n\n(\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003edefine\u003c/span\u003e\u003c/span\u003e (\u003cspan class=\"hljs-name\"\u003epercent\u003c/span\u003e i)\n  (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003e*\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"hljs-number\"\u003e100\u003c/span\u003e (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003e/\u003c/span\u003e\u003c/span\u003e (\u003cspan class=\"hljs-name\"\u003ewidth\u003c/span\u003e i) (\u003cspan class=\"hljs-name\"\u003ecenter\u003c/span\u003e i)))\n)\u003c/code\u003e\u003c/pre\u003e\n\u003ch2\u003eExercise 2.13\u003c/h2\u003e\n\u003cp\u003eIt's approximately addition.\u003c/p\u003e\n\u003ch2\u003eExercise 2.14\u003c/h2\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-scheme\"\u003e(\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003edefine\u003c/span\u003e\u003c/span\u003e (\u003cspan class=\"hljs-name\"\u003epar1\u003c/span\u003e r1 r2)\n  (\u003cspan class=\"hljs-name\"\u003ediv-interval\u003c/span\u003e (\u003cspan class=\"hljs-name\"\u003emul-interval\u003c/span\u003e r1 r2)\n                (\u003cspan class=\"hljs-name\"\u003eadd-interval\u003c/span\u003e r1 r2)))\n(\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003edefine\u003c/span\u003e\u003c/span\u003e (\u003cspan class=\"hljs-name\"\u003epar2\u003c/span\u003e r1 r2)\n  (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003elet\u003c/span\u003e\u003c/span\u003e ((\u003cspan class=\"hljs-name\"\u003eone\u003c/span\u003e (\u003cspan class=\"hljs-name\"\u003emake-interval\u003c/span\u003e \u003cspan class=\"hljs-number\"\u003e1\u003c/span\u003e \u003cspan class=\"hljs-number\"\u003e1\u003c/span\u003e))) \n    (\u003cspan class=\"hljs-name\"\u003ediv-interval\u003c/span\u003e one\n                  (\u003cspan class=\"hljs-name\"\u003eadd-interval\u003c/span\u003e (\u003cspan class=\"hljs-name\"\u003ediv-interval\u003c/span\u003e one r1)\n                                (\u003cspan class=\"hljs-name\"\u003ediv-interval\u003c/span\u003e one r2)))))\n\n(\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003edefine\u003c/span\u003e\u003c/span\u003e a (\u003cspan class=\"hljs-name\"\u003emake-center-percent\u003c/span\u003e \u003cspan class=\"hljs-number\"\u003e100\u003c/span\u003e \u003cspan class=\"hljs-number\"\u003e1\u003c/span\u003e))\n(\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003edefine\u003c/span\u003e\u003c/span\u003e b (\u003cspan class=\"hljs-name\"\u003emake-center-percent\u003c/span\u003e \u003cspan class=\"hljs-number\"\u003e200\u003c/span\u003e \u003cspan class=\"hljs-number\"\u003e1\u003c/span\u003e))\n\n\n(\u003cspan class=\"hljs-name\"\u003ecenter\u003c/span\u003e (\u003cspan class=\"hljs-name\"\u003epar1\u003c/span\u003e a b))\n(\u003cspan class=\"hljs-name\"\u003ecenter\u003c/span\u003e (\u003cspan class=\"hljs-name\"\u003epar2\u003c/span\u003e a b))\n\n(\u003cspan class=\"hljs-name\"\u003epercent\u003c/span\u003e (\u003cspan class=\"hljs-name\"\u003epar1\u003c/span\u003e a b))\n(\u003cspan class=\"hljs-name\"\u003epercent\u003c/span\u003e (\u003cspan class=\"hljs-name\"\u003epar2\u003c/span\u003e a b))\u003c/code\u003e\u003c/pre\u003e\n\u003ch2\u003eExercise 2.15\u003c/h2\u003e\n\u003cp\u003eEvery operation on intervals with non zero width increases width of result.\u003c/p\u003e\n\u003cp\u003eIn par1 program does 3 operations in which both intervals have non zero widht, and par2 program does only addition, all the rest are operations with interval of zero widht.\u003c/p\u003e\n\u003ch2\u003eExercise 2.16\u003c/h2\u003e\n\u003cp\u003eNo I can not, because as they said, this problem is very difficult. I imagine it will require simplification of expression to some base form, before computing it.\u003c/p\u003e"},"archives":[{"url":"/month/2018-08/page/1","id":"2018-08","count":1,"title":"2018-08"},{"url":"/month/2020-06/page/1","id":"2020-06","count":7,"title":"2020-06"},{"url":"/month/2020-07/page/1","id":"2020-07","count":10,"title":"2020-07"},{"url":"/month/2020-08/page/1","id":"2020-08","count":2,"title":"2020-08"},{"url":"/month/2020-09/page/1","id":"2020-09","count":2,"title":"2020-09"},{"url":"/month/2020-12/page/1","id":"2020-12","count":1,"title":"2020-12"},{"url":"/month/2021-01/page/1","id":"2021-01","count":4,"title":"2021-01"}],"topics":[{"url":"/tag/MOOC/page/1","id":"MOOC","title":"MOOC","count":2},{"url":"/tag/SICP/page/1","id":"SICP","title":"SICP","count":20},{"url":"/tag/ideas/page/1","id":"ideas","title":"ideas","count":1},{"url":"/tag/notes/page/1","id":"notes","title":"notes","count":5},{"url":"/tag/on writing/page/1","id":"on writing","title":"on writing","count":3}]},"__N_SSG":true},"page":"/posts/[id]","query":{"id":"sicp2.1.4"},"buildId":"IsN7pljsfetcaUEwJFAI1","isFallback":false,"gsp":true}</script><script nomodule="" src="/_next/static/chunks/polyfills-8683bd742a84c1edd48c.js"></script><script src="/_next/static/chunks/webpack-ab63730ce14ffb2d4de2.js" async=""></script><script src="/_next/static/chunks/framework-77b689d02b4bf42ce2e0.js" async=""></script><script src="/_next/static/chunks/commons-131aad2d92e69c360009.js" async=""></script><script src="/_next/static/chunks/main-4f9408d32df08544de44.js" async=""></script><script src="/_next/static/chunks/pages/_app-d383b5fdcc7af26c9ab8.js" async=""></script><script src="/_next/static/chunks/762-bec077d9715dbffe23e5.js" async=""></script><script src="/_next/static/chunks/pages/posts/%5Bid%5D-4d391b18df3a2ccf9664.js" async=""></script><script src="/_next/static/IsN7pljsfetcaUEwJFAI1/_buildManifest.js" async=""></script><script src="/_next/static/IsN7pljsfetcaUEwJFAI1/_ssgManifest.js" async=""></script></body></html>