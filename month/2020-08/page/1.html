<!DOCTYPE html><html><head><meta name="viewport" content="width=device-width"/><meta charSet="utf-8"/><title>Taras Bunyk</title><meta name="next-head-count" content="3"/><link rel="preload" href="/_next/static/css/f969c0c492dd18a0081f.css" as="style"/><link rel="stylesheet" href="/_next/static/css/f969c0c492dd18a0081f.css" data-n-g=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/_next/static/chunks/polyfills-a40ef1678bae11e696dba45124eadd70.js"></script><script src="/_next/static/chunks/webpack-fb76148cfcfb42ca18eb.js" defer=""></script><script src="/_next/static/chunks/framework-2191d16384373197bc0a.js" defer=""></script><script src="/_next/static/chunks/main-89e612c37cd79392e22d.js" defer=""></script><script src="/_next/static/chunks/pages/_app-459ac92bde4bcd5c6050.js" defer=""></script><script src="/_next/static/chunks/762-0f685813c4b6ace6d024.js" defer=""></script><script src="/_next/static/chunks/493-1b1d0a0a11d8c4d6a4cd.js" defer=""></script><script src="/_next/static/chunks/pages/month/%5Bmonth%5D/page/%5Bpage%5D-f09d0f017cc83cc87abc.js" defer=""></script><script src="/_next/static/sMnLAto4YhgRliyLu0bmY/_buildManifest.js" defer=""></script><script src="/_next/static/sMnLAto4YhgRliyLu0bmY/_ssgManifest.js" defer=""></script></head><body><div id="__next"><div class="MuiContainer-root MuiContainer-maxWidthMd"><div class="MuiToolbar-root MuiToolbar-regular jss2 MuiToolbar-gutters"><h1 class="MuiTypography-root jss3 MuiTypography-h5 MuiTypography-noWrap" aligh="center">Taras Bunyk</h1></div><nav class="MuiToolbar-root MuiToolbar-dense jss4 MuiToolbar-gutters"><a href="/">Home</a><a href="http://bunyk.github.io/mandala/">Snowflake drawing</a><a href="/resume">Resume</a><a href="https://bunyk.wordpress.com/">Old blog (in Ukrainian)</a></nav><div class="MuiGrid-root MuiGrid-container MuiGrid-spacing-xs-5"><div class="MuiGrid-root MuiGrid-item MuiGrid-grid-xs-12 MuiGrid-grid-md-9"><div class="MuiPaper-root MuiCard-root jss1 MuiPaper-elevation1 MuiPaper-rounded"><div class="MuiCardHeader-root"><div class="MuiCardHeader-content"><span class="MuiTypography-root MuiCardHeader-title MuiTypography-h5 MuiTypography-displayBlock">SICP 2.4 Multiple representations for abstract data</span><span class="MuiTypography-root MuiCardHeader-subheader MuiTypography-body1 MuiTypography-colorTextSecondary MuiTypography-displayBlock">Published: 2020-08-26 Tags: SICP</span></div></div><div class="MuiCardContent-root"><p>I went on vacation and lost cadence on this project. Need to get back on track, remember how to lauch interpreter, etc. :)</p>
<p><a href="https://mitpress.mit.edu/sites/default/files/sicp/full-text/book/book-Z-H-17.html">Link to the chapter</a></p>
<p>In this chapter we will need <code>get</code> and <code>put</code> functions which could be implemented by similar system functions.</p>
<p>Found this on <a href="https://stackoverflow.com/a/29465496/816449">StackOverflow</a>, of course.</p>
<pre><code class="hljs language-scheme">(<span class="hljs-name"><span class="hljs-builtin-name">define</span></span> put <span class="hljs-number">2</span>d-put!)
(<span class="hljs-name"><span class="hljs-builtin-name">define</span></span> (<span class="hljs-name">get</span> a b)
    <span class="hljs-comment">;(display "get ") (display a) (display b) (newline)</span>
    (<span class="hljs-name">2d-get</span> a b)
)</code></pre></div><div class="MuiCardActions-root MuiCardActions-spacing"><a class="MuiButtonBase-root MuiButton-root MuiButton-text" tabindex="0" aria-disabled="false" href="/posts/sicp2.4"><span class="MuiButton-label">More</span></a></div></div><div class="MuiPaper-root MuiCard-root jss1 MuiPaper-elevation1 MuiPaper-rounded"><div class="MuiCardHeader-root"><div class="MuiCardHeader-content"><span class="MuiTypography-root MuiCardHeader-title MuiTypography-h5 MuiTypography-displayBlock">SICP 2.3.4 Huffman encoding</span><span class="MuiTypography-root MuiCardHeader-subheader MuiTypography-body1 MuiTypography-colorTextSecondary MuiTypography-displayBlock">Published: 2020-08-02 Tags: SICP</span></div></div><div class="MuiCardContent-root"><p>Exercises to use sets and trees in practice. This topic reminds me of project in Scala course by Martin Odersky.</p></div><div class="MuiCardActions-root MuiCardActions-spacing"><a class="MuiButtonBase-root MuiButton-root MuiButton-text" tabindex="0" aria-disabled="false" href="/posts/sicp2.3.4"><span class="MuiButton-label">More</span></a></div></div><button class="MuiButtonBase-root MuiButton-root MuiButton-text Mui-disabled Mui-disabled" tabindex="-1" type="button" disabled=""><span class="MuiButton-label">1</span></button></div><div class="MuiGrid-root MuiGrid-item MuiGrid-grid-xs-12 MuiGrid-grid-md-3"><h6 class="MuiTypography-root jss6 MuiTypography-h6 MuiTypography-gutterBottom">Archives</h6><ul><li><a href="/month/2021-01/page/1">2021-01</a> <span title="posts count">(<!-- -->4<!-- -->)</span></li><li><a href="/month/2020-12/page/1">2020-12</a> <span title="posts count">(<!-- -->1<!-- -->)</span></li><li><a href="/month/2020-09/page/1">2020-09</a> <span title="posts count">(<!-- -->2<!-- -->)</span></li><li><a href="/month/2020-08/page/1">2020-08</a> <span title="posts count">(<!-- -->2<!-- -->)</span></li><li><a href="/month/2020-07/page/1">2020-07</a> <span title="posts count">(<!-- -->10<!-- -->)</span></li><li><a href="/month/2020-06/page/1">2020-06</a> <span title="posts count">(<!-- -->7<!-- -->)</span></li><li><a href="/month/2018-12/page/1">2018-12</a> <span title="posts count">(<!-- -->1<!-- -->)</span></li></ul><h6 class="MuiTypography-root jss6 MuiTypography-h6 MuiTypography-gutterBottom">Topics</h6><ul><li><a href="/tag/MOOC/page/1">MOOC</a> <span title="posts count">(<!-- -->2<!-- -->)</span></li><li><a href="/tag/SICP/page/1">SICP</a> <span title="posts count">(<!-- -->20<!-- -->)</span></li><li><a href="/tag/ideas/page/1">ideas</a> <span title="posts count">(<!-- -->1<!-- -->)</span></li><li><a href="/tag/notes/page/1">notes</a> <span title="posts count">(<!-- -->5<!-- -->)</span></li><li><a href="/tag/on%20writing/page/1">on writing</a> <span title="posts count">(<!-- -->3<!-- -->)</span></li></ul></div><p class="MuiTypography-root MuiTypography-body2 MuiTypography-colorTextSecondary MuiTypography-alignCenter">© <!-- -->2021<!-- --> Bunyk Taras. Built with Material UI &amp; Next.js</p></div></div></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"pageNumber":"1","posts":[{"id":"sicp2.4","title":"SICP 2.4 Multiple representations for abstract data","date":"2020-08-26","tags":["SICP"],"excerpt":"\u003cp\u003eI went on vacation and lost cadence on this project. Need to get back on track, remember how to lauch interpreter, etc. :)\u003c/p\u003e\n\u003cp\u003e\u003ca href=\"https://mitpress.mit.edu/sites/default/files/sicp/full-text/book/book-Z-H-17.html\"\u003eLink to the chapter\u003c/a\u003e\u003c/p\u003e\n\u003cp\u003eIn this chapter we will need \u003ccode\u003eget\u003c/code\u003e and \u003ccode\u003eput\u003c/code\u003e functions which could be implemented by similar system functions.\u003c/p\u003e\n\u003cp\u003eFound this on \u003ca href=\"https://stackoverflow.com/a/29465496/816449\"\u003eStackOverflow\u003c/a\u003e, of course.\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-scheme\"\u003e(\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003edefine\u003c/span\u003e\u003c/span\u003e put \u003cspan class=\"hljs-number\"\u003e2\u003c/span\u003ed-put!)\n(\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003edefine\u003c/span\u003e\u003c/span\u003e (\u003cspan class=\"hljs-name\"\u003eget\u003c/span\u003e a b)\n    \u003cspan class=\"hljs-comment\"\u003e;(display \"get \") (display a) (display b) (newline)\u003c/span\u003e\n    (\u003cspan class=\"hljs-name\"\u003e2d-get\u003c/span\u003e a b)\n)\u003c/code\u003e\u003c/pre\u003e","content":"\u003cp\u003eI went on vacation and lost cadence on this project. Need to get back on track, remember how to lauch interpreter, etc. :)\u003c/p\u003e\n\u003cp\u003e\u003ca href=\"https://mitpress.mit.edu/sites/default/files/sicp/full-text/book/book-Z-H-17.html\"\u003eLink to the chapter\u003c/a\u003e\u003c/p\u003e\n\u003cp\u003eIn this chapter we will need \u003ccode\u003eget\u003c/code\u003e and \u003ccode\u003eput\u003c/code\u003e functions which could be implemented by similar system functions.\u003c/p\u003e\n\u003cp\u003eFound this on \u003ca href=\"https://stackoverflow.com/a/29465496/816449\"\u003eStackOverflow\u003c/a\u003e, of course.\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-scheme\"\u003e(\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003edefine\u003c/span\u003e\u003c/span\u003e put \u003cspan class=\"hljs-number\"\u003e2\u003c/span\u003ed-put!)\n(\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003edefine\u003c/span\u003e\u003c/span\u003e (\u003cspan class=\"hljs-name\"\u003eget\u003c/span\u003e a b)\n    \u003cspan class=\"hljs-comment\"\u003e;(display \"get \") (display a) (display b) (newline)\u003c/span\u003e\n    (\u003cspan class=\"hljs-name\"\u003e2d-get\u003c/span\u003e a b)\n)\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eAnd some setup from \u003ca href=\"/posts/sicp2.3.2/\"\u003eprevious section\u003c/a\u003e:\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-scheme\"\u003e(\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003edefine\u003c/span\u003e\u003c/span\u003e variable? symbol?)\n(\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003edefine\u003c/span\u003e\u003c/span\u003e (\u003cspan class=\"hljs-name\"\u003esame-variable?\u003c/span\u003e v1 v2)\n  (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003eand\u003c/span\u003e\u003c/span\u003e (\u003cspan class=\"hljs-name\"\u003evariable?\u003c/span\u003e v1) (\u003cspan class=\"hljs-name\"\u003evariable?\u003c/span\u003e v2) (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003eeq?\u003c/span\u003e\u003c/span\u003e v1 v2)))\n(\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003edefine\u003c/span\u003e\u003c/span\u003e (\u003cspan class=\"hljs-name\"\u003e=number?\u003c/span\u003e exp num)\n  (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003eand\u003c/span\u003e\u003c/span\u003e (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003enumber?\u003c/span\u003e\u003c/span\u003e exp) (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003e=\u003c/span\u003e\u003c/span\u003e exp num)))\u003c/code\u003e\u003c/pre\u003e\n\u003ch2\u003eExercise 2.73\u003c/h2\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-scheme\"\u003e(\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003edefine\u003c/span\u003e\u003c/span\u003e (\u003cspan class=\"hljs-name\"\u003ederiv\u003c/span\u003e exp var)\n   (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003econd\u003c/span\u003e\u003c/span\u003e ((\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003enumber?\u003c/span\u003e\u003c/span\u003e exp) \u003cspan class=\"hljs-number\"\u003e0\u003c/span\u003e)\n         ((\u003cspan class=\"hljs-name\"\u003evariable?\u003c/span\u003e exp) (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003eif\u003c/span\u003e\u003c/span\u003e (\u003cspan class=\"hljs-name\"\u003esame-variable?\u003c/span\u003e exp var) \u003cspan class=\"hljs-number\"\u003e1\u003c/span\u003e \u003cspan class=\"hljs-number\"\u003e0\u003c/span\u003e))\n         (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003eelse\u003c/span\u003e\u003c/span\u003e ((\u003cspan class=\"hljs-name\"\u003eget\u003c/span\u003e \u003cspan class=\"hljs-symbol\"\u003e'deriv\u003c/span\u003e (\u003cspan class=\"hljs-name\"\u003eoperator\u003c/span\u003e exp)) (\u003cspan class=\"hljs-name\"\u003eoperands\u003c/span\u003e exp)\n                                            var))))\n(\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003edefine\u003c/span\u003e\u003c/span\u003e (\u003cspan class=\"hljs-name\"\u003eoperator\u003c/span\u003e exp) (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003ecar\u003c/span\u003e\u003c/span\u003e exp))\n(\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003edefine\u003c/span\u003e\u003c/span\u003e (\u003cspan class=\"hljs-name\"\u003eoperands\u003c/span\u003e exp) (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003ecdr\u003c/span\u003e\u003c/span\u003e exp))\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003ea) So, in our new derive we do lookup in table instead of \u003ccode\u003econd\u003c/code\u003e expression. We are not able to move \u003ccode\u003enumber?\u003c/code\u003e into lookup, because \u003ccode\u003enumber?\u003c/code\u003e is condition for a set of values, not just one value, and table works only with one value.\u003c/p\u003e\n\u003cp\u003eb)\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-scheme\"\u003e(\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003edefine\u003c/span\u003e\u003c/span\u003e (\u003cspan class=\"hljs-name\"\u003emake-sum\u003c/span\u003e args) \n    (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003edefine\u003c/span\u003e\u003c/span\u003e (\u003cspan class=\"hljs-name\"\u003esum\u003c/span\u003e items total nonnum)\n        (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003econd\u003c/span\u003e\u003c/span\u003e\n            ((\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003enull?\u003c/span\u003e\u003c/span\u003e items)\n                (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003eif\u003c/span\u003e\u003c/span\u003e (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003enull?\u003c/span\u003e\u003c/span\u003e nonnum)\n                    total\n                    (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003econs\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"hljs-symbol\"\u003e'+\u003c/span\u003e (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003eif\u003c/span\u003e\u003c/span\u003e (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003e=\u003c/span\u003e\u003c/span\u003e total \u003cspan class=\"hljs-number\"\u003e0\u003c/span\u003e)\n                                nonnum\n                                (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003econs\u003c/span\u003e\u003c/span\u003e total nonnum)\n                    ))\n                )\n            )\n            ((\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003enumber?\u003c/span\u003e\u003c/span\u003e (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003ecar\u003c/span\u003e\u003c/span\u003e items))\n                (\u003cspan class=\"hljs-name\"\u003esum\u003c/span\u003e (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003ecdr\u003c/span\u003e\u003c/span\u003e items) (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003e+\u003c/span\u003e\u003c/span\u003e (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003ecar\u003c/span\u003e\u003c/span\u003e items) total) nonnum))\n            (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003eelse\u003c/span\u003e\u003c/span\u003e\n                (\u003cspan class=\"hljs-name\"\u003esum\u003c/span\u003e (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003ecdr\u003c/span\u003e\u003c/span\u003e items) total (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003econs\u003c/span\u003e\u003c/span\u003e (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003ecar\u003c/span\u003e\u003c/span\u003e items) nonnum)))\n        )\n    )\n    (\u003cspan class=\"hljs-name\"\u003esum\u003c/span\u003e args \u003cspan class=\"hljs-number\"\u003e0\u003c/span\u003e '())\n)\n\n(\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003edefine\u003c/span\u003e\u003c/span\u003e (\u003cspan class=\"hljs-name\"\u003emake-prod\u003c/span\u003e m1 m2)\n  (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003econd\u003c/span\u003e\u003c/span\u003e ((\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003eor\u003c/span\u003e\u003c/span\u003e (\u003cspan class=\"hljs-name\"\u003e=number?\u003c/span\u003e m1 \u003cspan class=\"hljs-number\"\u003e0\u003c/span\u003e) (\u003cspan class=\"hljs-name\"\u003e=number?\u003c/span\u003e m2 \u003cspan class=\"hljs-number\"\u003e0\u003c/span\u003e)) \u003cspan class=\"hljs-number\"\u003e0\u003c/span\u003e)\n        ((\u003cspan class=\"hljs-name\"\u003e=number?\u003c/span\u003e m1 \u003cspan class=\"hljs-number\"\u003e1\u003c/span\u003e) m2)\n        ((\u003cspan class=\"hljs-name\"\u003e=number?\u003c/span\u003e m2 \u003cspan class=\"hljs-number\"\u003e1\u003c/span\u003e) m1)\n        ((\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003eand\u003c/span\u003e\u003c/span\u003e (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003enumber?\u003c/span\u003e\u003c/span\u003e m1) (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003enumber?\u003c/span\u003e\u003c/span\u003e m2)) (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003e*\u003c/span\u003e\u003c/span\u003e m1 m2))\n        (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003eelse\u003c/span\u003e\u003c/span\u003e (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003elist\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"hljs-symbol\"\u003e'*\u003c/span\u003e m1 m2))))\n\n(\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003edefine\u003c/span\u003e\u003c/span\u003e (\u003cspan class=\"hljs-name\"\u003einstall-derivatives-package\u003c/span\u003e) \n  (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003edefine\u003c/span\u003e\u003c/span\u003e (\u003cspan class=\"hljs-name\"\u003ederiv-sum\u003c/span\u003e items var)\n    (\u003cspan class=\"hljs-name\"\u003emake-sum\u003c/span\u003e (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003emap\u003c/span\u003e\u003c/span\u003e (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003elambda\u003c/span\u003e\u003c/span\u003e (e) (\u003cspan class=\"hljs-name\"\u003ederiv\u003c/span\u003e e var)) items))\n  )\n  (\u003cspan class=\"hljs-name\"\u003eput\u003c/span\u003e \u003cspan class=\"hljs-symbol\"\u003e'deriv\u003c/span\u003e \u003cspan class=\"hljs-symbol\"\u003e'+\u003c/span\u003e deriv-sum)\n\n  (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003edefine\u003c/span\u003e\u003c/span\u003e (\u003cspan class=\"hljs-name\"\u003ederiv-prod\u003c/span\u003e items var)\n    (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003elet\u003c/span\u003e\u003c/span\u003e ((\u003cspan class=\"hljs-name\"\u003etail\u003c/span\u003e\n        (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003eif\u003c/span\u003e\u003c/span\u003e (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003enull?\u003c/span\u003e\u003c/span\u003e (\u003cspan class=\"hljs-name\"\u003ecddr\u003c/span\u003e items))\n            (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003ecadr\u003c/span\u003e\u003c/span\u003e items)\n            (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003econs\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"hljs-symbol\"\u003e'*\u003c/span\u003e (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003ecdr\u003c/span\u003e\u003c/span\u003e items))\n        )\n    ))\n        (\u003cspan class=\"hljs-name\"\u003emake-sum\u003c/span\u003e (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003elist\u003c/span\u003e\u003c/span\u003e \n           (\u003cspan class=\"hljs-name\"\u003emake-prod\u003c/span\u003e (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003ecar\u003c/span\u003e\u003c/span\u003e items)\n                      (\u003cspan class=\"hljs-name\"\u003ederiv\u003c/span\u003e tail var))\n           (\u003cspan class=\"hljs-name\"\u003emake-prod\u003c/span\u003e (\u003cspan class=\"hljs-name\"\u003ederiv\u003c/span\u003e (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003ecar\u003c/span\u003e\u003c/span\u003e items) var)\n                      tail)\n        ))\n    )\n  )\n  (\u003cspan class=\"hljs-name\"\u003eput\u003c/span\u003e \u003cspan class=\"hljs-symbol\"\u003e'deriv\u003c/span\u003e \u003cspan class=\"hljs-symbol\"\u003e'+\u003c/span\u003e deriv-sum)\n  (\u003cspan class=\"hljs-name\"\u003eput\u003c/span\u003e \u003cspan class=\"hljs-symbol\"\u003e'deriv\u003c/span\u003e \u003cspan class=\"hljs-symbol\"\u003e'*\u003c/span\u003e deriv-prod)\n)\n(\u003cspan class=\"hljs-name\"\u003einstall-derivatives-package\u003c/span\u003e) \u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eI think I wrote too much code here because I wanted to support sums and products of multiple arguments.\u003c/p\u003e\n\u003cp\u003ec) Exponentation\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-scheme\"\u003e(\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003edefine\u003c/span\u003e\u003c/span\u003e (\u003cspan class=\"hljs-name\"\u003emake-exp\u003c/span\u003e base e)\n  (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003econd\u003c/span\u003e\u003c/span\u003e ((\u003cspan class=\"hljs-name\"\u003e=number?\u003c/span\u003e e \u003cspan class=\"hljs-number\"\u003e0\u003c/span\u003e) \u003cspan class=\"hljs-number\"\u003e1\u003c/span\u003e)\n        ((\u003cspan class=\"hljs-name\"\u003e=number?\u003c/span\u003e e \u003cspan class=\"hljs-number\"\u003e1\u003c/span\u003e) base)\n        (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003eelse\u003c/span\u003e\u003c/span\u003e (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003elist\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"hljs-symbol\"\u003e'**\u003c/span\u003e base e))))\n\n  (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003edefine\u003c/span\u003e\u003c/span\u003e (\u003cspan class=\"hljs-name\"\u003ederiv-exp\u003c/span\u003e items var)\n    (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003elet\u003c/span\u003e\u003c/span\u003e (\n        (\u003cspan class=\"hljs-name\"\u003ebase\u003c/span\u003e (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003ecar\u003c/span\u003e\u003c/span\u003e items))\n        (\u003cspan class=\"hljs-name\"\u003ee\u003c/span\u003e (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003ecadr\u003c/span\u003e\u003c/span\u003e items))\n    )\n        (\u003cspan class=\"hljs-name\"\u003emake-prod\u003c/span\u003e\n            e\n            (\u003cspan class=\"hljs-name\"\u003emake-exp\u003c/span\u003e base (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003e-\u003c/span\u003e\u003c/span\u003e e \u003cspan class=\"hljs-number\"\u003e1\u003c/span\u003e))\n        )\n    )\n  )\n  (\u003cspan class=\"hljs-name\"\u003eput\u003c/span\u003e \u003cspan class=\"hljs-symbol\"\u003e'deriv\u003c/span\u003e \u003cspan class=\"hljs-symbol\"\u003e'**\u003c/span\u003e deriv-exp)\n\n(\u003cspan class=\"hljs-name\"\u003ederiv\u003c/span\u003e '(+ (** x \u003cspan class=\"hljs-number\"\u003e3\u003c/span\u003e) (** x \u003cspan class=\"hljs-number\"\u003e2\u003c/span\u003e)) \u003cspan class=\"hljs-symbol\"\u003e'x\u003c/span\u003e)\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003ed) We could switch arguments inside \u003ccode\u003eget\u003c/code\u003e, or inside \u003ccode\u003eput\u003c/code\u003e, or switch arguments when we call put. That's all what will be needed.\u003c/p\u003e\n\u003ch2\u003eExercise 2.74\u003c/h2\u003e\n\u003cp\u003eI skipped it because it is too abstract.\u003c/p\u003e\n\u003ch2\u003eExercise 2.75\u003c/h2\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-scheme\"\u003e(\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003edefine\u003c/span\u003e\u003c/span\u003e (\u003cspan class=\"hljs-name\"\u003emake-from-mag-ang\u003c/span\u003e r a) \n  (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003edefine\u003c/span\u003e\u003c/span\u003e (\u003cspan class=\"hljs-name\"\u003edispatch\u003c/span\u003e op)\n    (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003econd\u003c/span\u003e\u003c/span\u003e ((\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003eeq?\u003c/span\u003e\u003c/span\u003e op \u003cspan class=\"hljs-symbol\"\u003e'real-part\u003c/span\u003e) (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003e*\u003c/span\u003e\u003c/span\u003e r (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003ecos\u003c/span\u003e\u003c/span\u003e a)))\n          ((\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003eeq?\u003c/span\u003e\u003c/span\u003e op \u003cspan class=\"hljs-symbol\"\u003e'imag-part\u003c/span\u003e) (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003e*\u003c/span\u003e\u003c/span\u003e r (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003esin\u003c/span\u003e\u003c/span\u003e a)))\n          ((\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003eeq?\u003c/span\u003e\u003c/span\u003e op \u003cspan class=\"hljs-symbol\"\u003e'magnitude\u003c/span\u003e) r)\n          ((\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003eeq?\u003c/span\u003e\u003c/span\u003e op \u003cspan class=\"hljs-symbol\"\u003e'angle\u003c/span\u003e) a)\n          (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003eelse\u003c/span\u003e\u003c/span\u003e\n           (\u003cspan class=\"hljs-name\"\u003eerror\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e\"Unknown op -- MAKE-FROM-REAL-IMAG\"\u003c/span\u003e op))))\n  dispatch)\u003c/code\u003e\u003c/pre\u003e\n\u003ch2\u003eExercise 2.76\u003c/h2\u003e\n\u003cp\u003eSkip this too. Because I see no way to verify that I did it correctly. Learning needs feedback.\u003c/p\u003e"},{"id":"sicp2.3.4","title":"SICP 2.3.4 Huffman encoding","date":"2020-08-02","tags":["SICP"],"excerpt":"\u003cp\u003eExercises to use sets and trees in practice. This topic reminds me of project in Scala course by Martin Odersky.\u003c/p\u003e","content":"\u003cp\u003eExercises to use sets and trees in practice. This topic reminds me of project in Scala course by Martin Odersky.\u003c/p\u003e\n\u003ch2\u003eExercise 2.67\u003c/h2\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-scheme\"\u003e(\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003edefine\u003c/span\u003e\u003c/span\u003e (\u003cspan class=\"hljs-name\"\u003emake-leaf\u003c/span\u003e symbol weight)\n  (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003elist\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"hljs-symbol\"\u003e'leaf\u003c/span\u003e symbol weight))\n(\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003edefine\u003c/span\u003e\u003c/span\u003e (\u003cspan class=\"hljs-name\"\u003eleaf?\u003c/span\u003e object)\n  (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003eeq?\u003c/span\u003e\u003c/span\u003e (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003ecar\u003c/span\u003e\u003c/span\u003e object) \u003cspan class=\"hljs-symbol\"\u003e'leaf\u003c/span\u003e))\n(\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003edefine\u003c/span\u003e\u003c/span\u003e (\u003cspan class=\"hljs-name\"\u003esymbol-leaf\u003c/span\u003e x) (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003ecadr\u003c/span\u003e\u003c/span\u003e x))\n(\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003edefine\u003c/span\u003e\u003c/span\u003e (\u003cspan class=\"hljs-name\"\u003eweight-leaf\u003c/span\u003e x) (\u003cspan class=\"hljs-name\"\u003ecaddr\u003c/span\u003e x))\n\n(\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003edefine\u003c/span\u003e\u003c/span\u003e (\u003cspan class=\"hljs-name\"\u003emake-code-tree\u003c/span\u003e left right)\n  (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003elist\u003c/span\u003e\u003c/span\u003e left\n        right\n        (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003eappend\u003c/span\u003e\u003c/span\u003e (\u003cspan class=\"hljs-name\"\u003esymbols\u003c/span\u003e left) (\u003cspan class=\"hljs-name\"\u003esymbols\u003c/span\u003e right))\n        (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003e+\u003c/span\u003e\u003c/span\u003e (\u003cspan class=\"hljs-name\"\u003eweight\u003c/span\u003e left) (\u003cspan class=\"hljs-name\"\u003eweight\u003c/span\u003e right))))\n(\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003edefine\u003c/span\u003e\u003c/span\u003e (\u003cspan class=\"hljs-name\"\u003eleft-branch\u003c/span\u003e tree) (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003ecar\u003c/span\u003e\u003c/span\u003e tree))\n\n(\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003edefine\u003c/span\u003e\u003c/span\u003e (\u003cspan class=\"hljs-name\"\u003eright-branch\u003c/span\u003e tree) (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003ecadr\u003c/span\u003e\u003c/span\u003e tree))\n(\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003edefine\u003c/span\u003e\u003c/span\u003e (\u003cspan class=\"hljs-name\"\u003esymbols\u003c/span\u003e tree)\n  (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003eif\u003c/span\u003e\u003c/span\u003e (\u003cspan class=\"hljs-name\"\u003eleaf?\u003c/span\u003e tree)\n      (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003elist\u003c/span\u003e\u003c/span\u003e (\u003cspan class=\"hljs-name\"\u003esymbol-leaf\u003c/span\u003e tree))\n      (\u003cspan class=\"hljs-name\"\u003ecaddr\u003c/span\u003e tree)))\n(\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003edefine\u003c/span\u003e\u003c/span\u003e (\u003cspan class=\"hljs-name\"\u003eweight\u003c/span\u003e tree)\n  (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003eif\u003c/span\u003e\u003c/span\u003e (\u003cspan class=\"hljs-name\"\u003eleaf?\u003c/span\u003e tree)\n      (\u003cspan class=\"hljs-name\"\u003eweight-leaf\u003c/span\u003e tree)\n      (\u003cspan class=\"hljs-name\"\u003ecadddr\u003c/span\u003e tree)))\n\n(\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003edefine\u003c/span\u003e\u003c/span\u003e (\u003cspan class=\"hljs-name\"\u003edecode\u003c/span\u003e bits tree)\n  (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003edefine\u003c/span\u003e\u003c/span\u003e (\u003cspan class=\"hljs-name\"\u003edecode-1\u003c/span\u003e bits current-branch)\n    (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003eif\u003c/span\u003e\u003c/span\u003e (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003enull?\u003c/span\u003e\u003c/span\u003e bits)\n        '()\n        (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003elet\u003c/span\u003e\u003c/span\u003e ((\u003cspan class=\"hljs-name\"\u003enext-branch\u003c/span\u003e\n               (\u003cspan class=\"hljs-name\"\u003echoose-branch\u003c/span\u003e (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003ecar\u003c/span\u003e\u003c/span\u003e bits) current-branch)))\n          (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003eif\u003c/span\u003e\u003c/span\u003e (\u003cspan class=\"hljs-name\"\u003eleaf?\u003c/span\u003e next-branch)\n              (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003econs\u003c/span\u003e\u003c/span\u003e (\u003cspan class=\"hljs-name\"\u003esymbol-leaf\u003c/span\u003e next-branch)\n                    (\u003cspan class=\"hljs-name\"\u003edecode-1\u003c/span\u003e (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003ecdr\u003c/span\u003e\u003c/span\u003e bits) tree))\n              (\u003cspan class=\"hljs-name\"\u003edecode-1\u003c/span\u003e (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003ecdr\u003c/span\u003e\u003c/span\u003e bits) next-branch)))))\n  (\u003cspan class=\"hljs-name\"\u003edecode-1\u003c/span\u003e bits tree))\n\n(\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003edefine\u003c/span\u003e\u003c/span\u003e (\u003cspan class=\"hljs-name\"\u003echoose-branch\u003c/span\u003e bit branch)\n  (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003econd\u003c/span\u003e\u003c/span\u003e ((\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003e=\u003c/span\u003e\u003c/span\u003e bit \u003cspan class=\"hljs-number\"\u003e0\u003c/span\u003e) (\u003cspan class=\"hljs-name\"\u003eleft-branch\u003c/span\u003e branch))\n        ((\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003e=\u003c/span\u003e\u003c/span\u003e bit \u003cspan class=\"hljs-number\"\u003e1\u003c/span\u003e) (\u003cspan class=\"hljs-name\"\u003eright-branch\u003c/span\u003e branch))\n        (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003eelse\u003c/span\u003e\u003c/span\u003e (\u003cspan class=\"hljs-name\"\u003eerror\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e\"bad bit -- CHOOSE-BRANCH\"\u003c/span\u003e bit))))\n\n(\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003edefine\u003c/span\u003e\u003c/span\u003e (\u003cspan class=\"hljs-name\"\u003eadjoin-set\u003c/span\u003e x set)\n  (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003econd\u003c/span\u003e\u003c/span\u003e ((\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003enull?\u003c/span\u003e\u003c/span\u003e set) (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003elist\u003c/span\u003e\u003c/span\u003e x))\n        ((\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003e\u0026#x3C;\u003c/span\u003e\u003c/span\u003e (\u003cspan class=\"hljs-name\"\u003eweight\u003c/span\u003e x) (\u003cspan class=\"hljs-name\"\u003eweight\u003c/span\u003e (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003ecar\u003c/span\u003e\u003c/span\u003e set))) (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003econs\u003c/span\u003e\u003c/span\u003e x set))\n        (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003eelse\u003c/span\u003e\u003c/span\u003e (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003econs\u003c/span\u003e\u003c/span\u003e (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003ecar\u003c/span\u003e\u003c/span\u003e set)\n                    (\u003cspan class=\"hljs-name\"\u003eadjoin-set\u003c/span\u003e x (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003ecdr\u003c/span\u003e\u003c/span\u003e set))))))\n\n(\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003edefine\u003c/span\u003e\u003c/span\u003e sample-tree\n  (\u003cspan class=\"hljs-name\"\u003emake-code-tree\u003c/span\u003e (\u003cspan class=\"hljs-name\"\u003emake-leaf\u003c/span\u003e \u003cspan class=\"hljs-symbol\"\u003e'A\u003c/span\u003e \u003cspan class=\"hljs-number\"\u003e4\u003c/span\u003e)\n                  (\u003cspan class=\"hljs-name\"\u003emake-code-tree\u003c/span\u003e\n                   (\u003cspan class=\"hljs-name\"\u003emake-leaf\u003c/span\u003e \u003cspan class=\"hljs-symbol\"\u003e'B\u003c/span\u003e \u003cspan class=\"hljs-number\"\u003e2\u003c/span\u003e)\n                   (\u003cspan class=\"hljs-name\"\u003emake-code-tree\u003c/span\u003e (\u003cspan class=\"hljs-name\"\u003emake-leaf\u003c/span\u003e \u003cspan class=\"hljs-symbol\"\u003e'D\u003c/span\u003e \u003cspan class=\"hljs-number\"\u003e1\u003c/span\u003e)\n                                   (\u003cspan class=\"hljs-name\"\u003emake-leaf\u003c/span\u003e \u003cspan class=\"hljs-symbol\"\u003e'C\u003c/span\u003e \u003cspan class=\"hljs-number\"\u003e1\u003c/span\u003e)))))\n\n(\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003edefine\u003c/span\u003e\u003c/span\u003e sample-message '(\u003cspan class=\"hljs-number\"\u003e0\u003c/span\u003e \u003cspan class=\"hljs-number\"\u003e1\u003c/span\u003e \u003cspan class=\"hljs-number\"\u003e1\u003c/span\u003e \u003cspan class=\"hljs-number\"\u003e0\u003c/span\u003e \u003cspan class=\"hljs-number\"\u003e0\u003c/span\u003e \u003cspan class=\"hljs-number\"\u003e1\u003c/span\u003e \u003cspan class=\"hljs-number\"\u003e0\u003c/span\u003e \u003cspan class=\"hljs-number\"\u003e1\u003c/span\u003e \u003cspan class=\"hljs-number\"\u003e0\u003c/span\u003e \u003cspan class=\"hljs-number\"\u003e1\u003c/span\u003e \u003cspan class=\"hljs-number\"\u003e1\u003c/span\u003e \u003cspan class=\"hljs-number\"\u003e1\u003c/span\u003e \u003cspan class=\"hljs-number\"\u003e0\u003c/span\u003e))\n\n(\u003cspan class=\"hljs-name\"\u003edecode\u003c/span\u003e sample-message sample-tree)\n\u003cspan class=\"hljs-comment\"\u003e;Value 14: (a d a b b c a)\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\n\u003ch2\u003eExercise 2.68\u003c/h2\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-scheme\"\u003e(\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003edefine\u003c/span\u003e\u003c/span\u003e (\u003cspan class=\"hljs-name\"\u003eencode\u003c/span\u003e message tree)\n  (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003eif\u003c/span\u003e\u003c/span\u003e (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003enull?\u003c/span\u003e\u003c/span\u003e message)\n      '()\n      (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003eappend\u003c/span\u003e\u003c/span\u003e (\u003cspan class=\"hljs-name\"\u003eencode-symbol\u003c/span\u003e (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003ecar\u003c/span\u003e\u003c/span\u003e message) tree)\n              (\u003cspan class=\"hljs-name\"\u003eencode\u003c/span\u003e (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003ecdr\u003c/span\u003e\u003c/span\u003e message) tree))))\n\n(\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003edefine\u003c/span\u003e\u003c/span\u003e (\u003cspan class=\"hljs-name\"\u003eencode-symbol\u003c/span\u003e sym tree)\n    (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003econd\u003c/span\u003e\u003c/span\u003e \n        ((\u003cspan class=\"hljs-name\"\u003eleaf?\u003c/span\u003e tree) '())\n        ((\u003cspan class=\"hljs-name\"\u003eelement-of-set?\u003c/span\u003e sym (\u003cspan class=\"hljs-name\"\u003esymbols\u003c/span\u003e (\u003cspan class=\"hljs-name\"\u003eleft-branch\u003c/span\u003e tree)))\n         (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003econs\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"hljs-number\"\u003e0\u003c/span\u003e (\u003cspan class=\"hljs-name\"\u003eencode-symbol\u003c/span\u003e sym (\u003cspan class=\"hljs-name\"\u003eleft-branch\u003c/span\u003e tree))))\n        ((\u003cspan class=\"hljs-name\"\u003eelement-of-set?\u003c/span\u003e sym (\u003cspan class=\"hljs-name\"\u003esymbols\u003c/span\u003e (\u003cspan class=\"hljs-name\"\u003eright-branch\u003c/span\u003e tree)))\n         (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003econs\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"hljs-number\"\u003e1\u003c/span\u003e (\u003cspan class=\"hljs-name\"\u003eencode-symbol\u003c/span\u003e sym (\u003cspan class=\"hljs-name\"\u003eright-branch\u003c/span\u003e tree))))\n        (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003eelse\u003c/span\u003e\u003c/span\u003e (\u003cspan class=\"hljs-name\"\u003eerror\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e\"encode-symbol fails for symbol\"\u003c/span\u003e sym \u003cspan class=\"hljs-string\"\u003e\" with tree \"\u003c/span\u003e tree))\n    )\n)\n\n(\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003edefine\u003c/span\u003e\u003c/span\u003e (\u003cspan class=\"hljs-name\"\u003eelement-of-set?\u003c/span\u003e x set)\n    (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003econd\u003c/span\u003e\u003c/span\u003e\n        ((\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003enull?\u003c/span\u003e\u003c/span\u003e set) \u003cspan class=\"hljs-literal\"\u003e#f\u003c/span\u003e)\n        ((\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003eequal?\u003c/span\u003e\u003c/span\u003e x (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003ecar\u003c/span\u003e\u003c/span\u003e set)) \u003cspan class=\"hljs-literal\"\u003e#t\u003c/span\u003e)\n        (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003eelse\u003c/span\u003e\u003c/span\u003e (\u003cspan class=\"hljs-name\"\u003eelement-of-set?\u003c/span\u003e x (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003ecdr\u003c/span\u003e\u003c/span\u003e set)))\n    )\n)\n\n\n(\u003cspan class=\"hljs-name\"\u003eencode\u003c/span\u003e '(a d a b b c a) sample-tree)\u003c/code\u003e\u003c/pre\u003e\n\u003ch2\u003eExercise 2.69\u003c/h2\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-scheme\"\u003e(\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003edefine\u003c/span\u003e\u003c/span\u003e (\u003cspan class=\"hljs-name\"\u003emake-leaf-set\u003c/span\u003e pairs)\n  (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003eif\u003c/span\u003e\u003c/span\u003e (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003enull?\u003c/span\u003e\u003c/span\u003e pairs)\n      '()\n      (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003elet\u003c/span\u003e\u003c/span\u003e ((\u003cspan class=\"hljs-name\"\u003epair\u003c/span\u003e (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003ecar\u003c/span\u003e\u003c/span\u003e pairs)))\n        (\u003cspan class=\"hljs-name\"\u003eadjoin-set\u003c/span\u003e (\u003cspan class=\"hljs-name\"\u003emake-leaf\u003c/span\u003e (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003ecar\u003c/span\u003e\u003c/span\u003e pair)    \u003cspan class=\"hljs-comment\"\u003e; symbol\u003c/span\u003e\n                               (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003ecadr\u003c/span\u003e\u003c/span\u003e pair))  \u003cspan class=\"hljs-comment\"\u003e; frequency\u003c/span\u003e\n                    (\u003cspan class=\"hljs-name\"\u003emake-leaf-set\u003c/span\u003e (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003ecdr\u003c/span\u003e\u003c/span\u003e pairs))))))\n\n(\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003edefine\u003c/span\u003e\u003c/span\u003e (\u003cspan class=\"hljs-name\"\u003eadjoin-set\u003c/span\u003e x set)\n  (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003econd\u003c/span\u003e\u003c/span\u003e ((\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003enull?\u003c/span\u003e\u003c/span\u003e set) (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003elist\u003c/span\u003e\u003c/span\u003e x))\n        ((\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003e\u0026#x3C;\u003c/span\u003e\u003c/span\u003e (\u003cspan class=\"hljs-name\"\u003eweight\u003c/span\u003e x) (\u003cspan class=\"hljs-name\"\u003eweight\u003c/span\u003e (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003ecar\u003c/span\u003e\u003c/span\u003e set))) (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003econs\u003c/span\u003e\u003c/span\u003e x set))\n        (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003eelse\u003c/span\u003e\u003c/span\u003e (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003econs\u003c/span\u003e\u003c/span\u003e (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003ecar\u003c/span\u003e\u003c/span\u003e set)\n                    (\u003cspan class=\"hljs-name\"\u003eadjoin-set\u003c/span\u003e x (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003ecdr\u003c/span\u003e\u003c/span\u003e set))))))\n\n(\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003edefine\u003c/span\u003e\u003c/span\u003e (\u003cspan class=\"hljs-name\"\u003egenerate-huffman-tree\u003c/span\u003e pairs)\n  (\u003cspan class=\"hljs-name\"\u003esuccessive-merge\u003c/span\u003e (\u003cspan class=\"hljs-name\"\u003emake-leaf-set\u003c/span\u003e pairs)))\n\n(\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003edefine\u003c/span\u003e\u003c/span\u003e (\u003cspan class=\"hljs-name\"\u003esuccessive-merge\u003c/span\u003e forest)\n    (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003eif\u003c/span\u003e\u003c/span\u003e (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003enull?\u003c/span\u003e\u003c/span\u003e (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003ecdr\u003c/span\u003e\u003c/span\u003e forest)) \u003cspan class=\"hljs-comment\"\u003e; single element\u003c/span\u003e\n        (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003ecar\u003c/span\u003e\u003c/span\u003e forest) \u003cspan class=\"hljs-comment\"\u003e; means we merged all trees and could return the only element\u003c/span\u003e\n        (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003elet\u003c/span\u003e\u003c/span\u003e ( \u003cspan class=\"hljs-comment\"\u003e; othwerise let's take two smallest\u003c/span\u003e\n            (\u003cspan class=\"hljs-name\"\u003esmallest1\u003c/span\u003e (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003ecar\u003c/span\u003e\u003c/span\u003e forest))\n            (\u003cspan class=\"hljs-name\"\u003esmallest2\u003c/span\u003e (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003ecadr\u003c/span\u003e\u003c/span\u003e forest))\n            (\u003cspan class=\"hljs-name\"\u003etail\u003c/span\u003e (\u003cspan class=\"hljs-name\"\u003ecddr\u003c/span\u003e forest))\n        )\n            (\u003cspan class=\"hljs-name\"\u003esuccessive-merge\u003c/span\u003e (\u003cspan class=\"hljs-name\"\u003eadjoin-set\u003c/span\u003e\n                (\u003cspan class=\"hljs-name\"\u003emake-code-tree\u003c/span\u003e smallest1 smallest2) \u003cspan class=\"hljs-comment\"\u003e; merge them\u003c/span\u003e\n                tail \u003cspan class=\"hljs-comment\"\u003e; and add to the remaining set of trees\u003c/span\u003e\n            ))\n        )\n    )\n)\n\n(\u003cspan class=\"hljs-name\"\u003egenerate-huffman-tree\u003c/span\u003e '((a \u003cspan class=\"hljs-number\"\u003e1\u003c/span\u003e) (b \u003cspan class=\"hljs-number\"\u003e1\u003c/span\u003e) (c \u003cspan class=\"hljs-number\"\u003e5\u003c/span\u003e)))\u003c/code\u003e\u003c/pre\u003e\n\u003ch2\u003eExercise 2.70\u003c/h2\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-scheme\"\u003e(\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003edefine\u003c/span\u003e\u003c/span\u003e rock-code (\u003cspan class=\"hljs-name\"\u003egenerate-huffman-tree\u003c/span\u003e '(\n    (A \t    \u003cspan class=\"hljs-number\"\u003e2\u003c/span\u003e)\n    (BOOM \t\u003cspan class=\"hljs-number\"\u003e1\u003c/span\u003e)\n    (GET \t\u003cspan class=\"hljs-number\"\u003e2\u003c/span\u003e)\n    (JOB \t\u003cspan class=\"hljs-number\"\u003e2\u003c/span\u003e)\n    (NA \t\u003cspan class=\"hljs-number\"\u003e16\u003c/span\u003e)\n    (SHA \t\u003cspan class=\"hljs-number\"\u003e4\u003c/span\u003e)\n    (YIP \t\u003cspan class=\"hljs-number\"\u003e9\u003c/span\u003e)\n    (WAH \t\u003cspan class=\"hljs-number\"\u003e1\u003c/span\u003e) \n)))\n\n(\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003edefine\u003c/span\u003e\u003c/span\u003e rock-song '(Get a job\n\nSha na na na na na na na na\n\nGet a job\n\nSha na na na na na na na na\n\nWah yip yip yip yip yip yip yip yip yip\n\nSha boom\n))\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eHow many bits are required for encoding?\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-scheme\"\u003e(\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003elength\u003c/span\u003e\u003c/span\u003e (\u003cspan class=\"hljs-name\"\u003eencode\u003c/span\u003e rock-song rock-code))\n\u003cspan class=\"hljs-comment\"\u003e;Value: 84\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eWhat is the smallest number of bits that would be needed to encode this song if we used a fixed-length code for the eight-symbol alphabet?\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-scheme\"\u003e(\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003e*\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"hljs-number\"\u003e3\u003c/span\u003e (\u003cspan class=\"hljs-name\"\u003e\u003cspan class=\"hljs-builtin-name\"\u003elength\u003c/span\u003e\u003c/span\u003e rock-song))\n\u003cspan class=\"hljs-comment\"\u003e;Value: 108\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\n\u003ch2\u003eExercise 2.71\u003c/h2\u003e\n\u003cp\u003eMost frequent symbol is encoded in one bit, least frequent - in n bits.\u003c/p\u003e\n\u003ch2\u003eExercise 2.72\u003c/h2\u003e\n\u003cp\u003eIf search in set is linear, then for the most frequent symbol endoing is done in O(n), for the least frequent - in O(n2). If search is done in log(n) - then encoding could be done from log(n) to n*log(n)\u003c/p\u003e"}],"pages":1,"archives":[{"url":"/month/2021-01/page/1","id":"2021-01","count":4,"title":"2021-01"},{"url":"/month/2020-12/page/1","id":"2020-12","count":1,"title":"2020-12"},{"url":"/month/2020-09/page/1","id":"2020-09","count":2,"title":"2020-09"},{"url":"/month/2020-08/page/1","id":"2020-08","count":2,"title":"2020-08"},{"url":"/month/2020-07/page/1","id":"2020-07","count":10,"title":"2020-07"},{"url":"/month/2020-06/page/1","id":"2020-06","count":7,"title":"2020-06"},{"url":"/month/2018-12/page/1","id":"2018-12","count":1,"title":"2018-12"}],"topics":[{"url":"/tag/MOOC/page/1","id":"MOOC","title":"MOOC","count":2},{"url":"/tag/SICP/page/1","id":"SICP","title":"SICP","count":20},{"url":"/tag/ideas/page/1","id":"ideas","title":"ideas","count":1},{"url":"/tag/notes/page/1","id":"notes","title":"notes","count":5},{"url":"/tag/on writing/page/1","id":"on writing","title":"on writing","count":3}],"month":"2020-08"},"__N_SSG":true},"page":"/month/[month]/page/[page]","query":{"month":"2020-08","page":"1"},"buildId":"sMnLAto4YhgRliyLu0bmY","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>