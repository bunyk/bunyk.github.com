{"pageProps":{"post":{"id":"sicp2.1.2","title":"SICP 2.1.2 Abstraction barriers","date":"2020-07-08","tags":["SICP"],"excerpt":"<p>In this section I'm starting to have strong need for types.</p>\n<p>Code in exercises becomes more verbose.</p>","content":"<p>In this section I'm starting to have strong need for types.</p>\n<p>Code in exercises becomes more verbose.</p>\n<h2>Exercise 2.2</h2>\n<pre><code class=\"hljs language-scheme\">(<span class=\"hljs-name\"><span class=\"hljs-builtin-name\">define</span></span> make-segment cons)\n(<span class=\"hljs-name\"><span class=\"hljs-builtin-name\">define</span></span> start-segment car)\n(<span class=\"hljs-name\"><span class=\"hljs-builtin-name\">define</span></span> end-segment cdr)\n\n(<span class=\"hljs-name\"><span class=\"hljs-builtin-name\">define</span></span> make-point cons)\n(<span class=\"hljs-name\"><span class=\"hljs-builtin-name\">define</span></span> x-point car)\n(<span class=\"hljs-name\"><span class=\"hljs-builtin-name\">define</span></span> y-point cdr)\n\n(<span class=\"hljs-name\"><span class=\"hljs-builtin-name\">define</span></span> (<span class=\"hljs-name\">mid-segment</span> segment)\n  (<span class=\"hljs-name\"><span class=\"hljs-builtin-name\">let</span></span> (\n    (<span class=\"hljs-name\">s</span> (<span class=\"hljs-name\">start-segment</span> segment))\n    (<span class=\"hljs-name\">e</span> (<span class=\"hljs-name\">end-segment</span> segment))\n  )\n\n  (<span class=\"hljs-name\">make-point</span>\n    (<span class=\"hljs-name\"><span class=\"hljs-builtin-name\">/</span></span> (<span class=\"hljs-name\"><span class=\"hljs-builtin-name\">+</span></span> (<span class=\"hljs-name\">x-point</span> s) (<span class=\"hljs-name\">x-point</span> e)) <span class=\"hljs-number\">2</span>)\n    (<span class=\"hljs-name\"><span class=\"hljs-builtin-name\">/</span></span> (<span class=\"hljs-name\"><span class=\"hljs-builtin-name\">+</span></span> (<span class=\"hljs-name\">y-point</span> s) (<span class=\"hljs-name\">y-point</span> e)) <span class=\"hljs-number\">2</span>)\n  ))\n)\n\n(<span class=\"hljs-name\"><span class=\"hljs-builtin-name\">define</span></span> (<span class=\"hljs-name\">print-point</span> p)\n  (<span class=\"hljs-name\"><span class=\"hljs-builtin-name\">newline</span></span>)\n  (<span class=\"hljs-name\"><span class=\"hljs-builtin-name\">display</span></span> <span class=\"hljs-string\">\"(\"</span>)\n  (<span class=\"hljs-name\"><span class=\"hljs-builtin-name\">display</span></span> (<span class=\"hljs-name\">x-point</span> p))\n  (<span class=\"hljs-name\"><span class=\"hljs-builtin-name\">display</span></span> <span class=\"hljs-string\">\",\"</span>)\n  (<span class=\"hljs-name\"><span class=\"hljs-builtin-name\">display</span></span> (<span class=\"hljs-name\">y-point</span> p))\n  (<span class=\"hljs-name\"><span class=\"hljs-builtin-name\">display</span></span> <span class=\"hljs-string\">\")\"</span>))\n\n(<span class=\"hljs-name\"><span class=\"hljs-builtin-name\">define</span></span> a (<span class=\"hljs-name\">make-point</span> <span class=\"hljs-number\">1.0</span> <span class=\"hljs-number\">2.0</span>))\n(<span class=\"hljs-name\"><span class=\"hljs-builtin-name\">define</span></span> b (<span class=\"hljs-name\">make-point</span> <span class=\"hljs-number\">3.0</span> <span class=\"hljs-number\">4.0</span>))\n(<span class=\"hljs-name\"><span class=\"hljs-builtin-name\">define</span></span> ab (<span class=\"hljs-name\">make-segment</span> a b))\n\n(<span class=\"hljs-name\">print-point</span> (<span class=\"hljs-name\">mid-segment</span> ab))</code></pre>\n<h2>Exercise 2.3</h2>\n<pre><code class=\"hljs language-scheme\">(<span class=\"hljs-name\"><span class=\"hljs-builtin-name\">define</span></span> make-rect cons)\n\n(<span class=\"hljs-name\"><span class=\"hljs-builtin-name\">define</span></span> (<span class=\"hljs-name\">area</span> rect) \n  (<span class=\"hljs-name\"><span class=\"hljs-builtin-name\">*</span></span> (<span class=\"hljs-name\">width-rect</span> rect) (<span class=\"hljs-name\">height-rect</span> rect))\n)\n\n(<span class=\"hljs-name\"><span class=\"hljs-builtin-name\">define</span></span> (<span class=\"hljs-name\">perimeter</span> rect) \n  (<span class=\"hljs-name\"><span class=\"hljs-builtin-name\">*</span></span> <span class=\"hljs-number\">2</span> (<span class=\"hljs-name\"><span class=\"hljs-builtin-name\">+</span></span> (<span class=\"hljs-name\">width-rect</span> rect) (<span class=\"hljs-name\">height-rect</span> rect)))\n)\n\n(<span class=\"hljs-name\"><span class=\"hljs-builtin-name\">define</span></span> (<span class=\"hljs-name\">sqr</span> x) (<span class=\"hljs-name\"><span class=\"hljs-builtin-name\">*</span></span> x x))\n<span class=\"hljs-comment\">;; Some useful stuff for testing</span>\n\n<span class=\"hljs-comment\">;  d  c</span>\n<span class=\"hljs-comment\">;</span>\n<span class=\"hljs-comment\">;  a  b</span>\n(<span class=\"hljs-name\"><span class=\"hljs-builtin-name\">define</span></span> a (<span class=\"hljs-name\">make-point</span> <span class=\"hljs-number\">0.0</span> <span class=\"hljs-number\">0.0</span>))\n(<span class=\"hljs-name\"><span class=\"hljs-builtin-name\">define</span></span> b (<span class=\"hljs-name\">make-point</span> <span class=\"hljs-number\">1.0</span> <span class=\"hljs-number\">0.0</span>))\n(<span class=\"hljs-name\"><span class=\"hljs-builtin-name\">define</span></span> c (<span class=\"hljs-name\">make-point</span> <span class=\"hljs-number\">1.0</span> <span class=\"hljs-number\">1.0</span>))\n(<span class=\"hljs-name\"><span class=\"hljs-builtin-name\">define</span></span> d (<span class=\"hljs-name\">make-point</span> <span class=\"hljs-number\">0.0</span> <span class=\"hljs-number\">1.0</span>))\n\n(<span class=\"hljs-name\"><span class=\"hljs-builtin-name\">define</span></span> ab (<span class=\"hljs-name\">make-segment</span> a b))\n(<span class=\"hljs-name\"><span class=\"hljs-builtin-name\">define</span></span> ad (<span class=\"hljs-name\">make-segment</span> a d))\n\n<span class=\"hljs-comment\">;;; representation 1 - adjacent sides</span>\n(<span class=\"hljs-name\"><span class=\"hljs-builtin-name\">define</span></span> rect (<span class=\"hljs-name\">make-rect</span> ab ad))\n\n(<span class=\"hljs-name\"><span class=\"hljs-builtin-name\">define</span></span> (<span class=\"hljs-name\">distance</span> point-a point-b)\n  (<span class=\"hljs-name\"><span class=\"hljs-builtin-name\">sqrt</span></span> (<span class=\"hljs-name\"><span class=\"hljs-builtin-name\">+</span></span>\n      (<span class=\"hljs-name\">sqr</span> (<span class=\"hljs-name\"><span class=\"hljs-builtin-name\">-</span></span> (<span class=\"hljs-name\">x-point</span> point-a) (<span class=\"hljs-name\">x-point</span> point-b)))\n      (<span class=\"hljs-name\">sqr</span> (<span class=\"hljs-name\"><span class=\"hljs-builtin-name\">-</span></span> (<span class=\"hljs-name\">y-point</span> point-a) (<span class=\"hljs-name\">y-point</span> point-b)))\n  ))\n)\n(<span class=\"hljs-name\"><span class=\"hljs-builtin-name\">define</span></span> (<span class=\"hljs-name\"><span class=\"hljs-builtin-name\">length</span></span> segment)\n  (<span class=\"hljs-name\">distance</span> (<span class=\"hljs-name\">start-segment</span> segment) (<span class=\"hljs-name\">end-segment</span> segment))\n)\n(<span class=\"hljs-name\"><span class=\"hljs-builtin-name\">define</span></span> (<span class=\"hljs-name\">width-rect</span> rect)\n  (<span class=\"hljs-name\"><span class=\"hljs-builtin-name\">length</span></span> (<span class=\"hljs-name\"><span class=\"hljs-builtin-name\">car</span></span> rect))\n)\n(<span class=\"hljs-name\"><span class=\"hljs-builtin-name\">define</span></span> (<span class=\"hljs-name\">height-rect</span> rect)\n  (<span class=\"hljs-name\"><span class=\"hljs-builtin-name\">length</span></span> (<span class=\"hljs-name\"><span class=\"hljs-builtin-name\">cdr</span></span> rect))\n)\n\n<span class=\"hljs-comment\">;;; representation 2 - opposite points </span>\n\n(<span class=\"hljs-name\"><span class=\"hljs-builtin-name\">define</span></span> rect (<span class=\"hljs-name\">make-rect</span> a c))\n\n(<span class=\"hljs-name\"><span class=\"hljs-builtin-name\">define</span></span> (<span class=\"hljs-name\">width-rect</span> rect)\n  (<span class=\"hljs-name\"><span class=\"hljs-builtin-name\">abs</span></span> (<span class=\"hljs-name\"><span class=\"hljs-builtin-name\">-</span></span>\n    (<span class=\"hljs-name\">x-point</span> (<span class=\"hljs-name\"><span class=\"hljs-builtin-name\">car</span></span> rect))\n    (<span class=\"hljs-name\">x-point</span> (<span class=\"hljs-name\"><span class=\"hljs-builtin-name\">cdr</span></span> rect))\n  ))\n)\n(<span class=\"hljs-name\"><span class=\"hljs-builtin-name\">define</span></span> (<span class=\"hljs-name\">height-rect</span> rect)\n  (<span class=\"hljs-name\"><span class=\"hljs-builtin-name\">abs</span></span> (<span class=\"hljs-name\"><span class=\"hljs-builtin-name\">-</span></span>\n    (<span class=\"hljs-name\">y-point</span> (<span class=\"hljs-name\"><span class=\"hljs-builtin-name\">car</span></span> rect))\n    (<span class=\"hljs-name\">y-point</span> (<span class=\"hljs-name\"><span class=\"hljs-builtin-name\">cdr</span></span> rect))\n  ))\n)</code></pre>"},"archives":[{"url":"/month/2018-12/page/1","id":"2018-12","count":1,"title":"2018-12"},{"url":"/month/2020-06/page/1","id":"2020-06","count":7,"title":"2020-06"},{"url":"/month/2020-07/page/1","id":"2020-07","count":10,"title":"2020-07"},{"url":"/month/2020-08/page/1","id":"2020-08","count":2,"title":"2020-08"},{"url":"/month/2020-09/page/1","id":"2020-09","count":2,"title":"2020-09"},{"url":"/month/2020-12/page/1","id":"2020-12","count":1,"title":"2020-12"},{"url":"/month/2021-01/page/1","id":"2021-01","count":4,"title":"2021-01"}],"topics":[{"url":"/tag/MOOC/page/1","id":"MOOC","title":"MOOC","count":2},{"url":"/tag/SICP/page/1","id":"SICP","title":"SICP","count":20},{"url":"/tag/ideas/page/1","id":"ideas","title":"ideas","count":1},{"url":"/tag/notes/page/1","id":"notes","title":"notes","count":5},{"url":"/tag/on writing/page/1","id":"on writing","title":"on writing","count":3}]},"__N_SSG":true}