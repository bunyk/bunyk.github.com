{"pageProps":{"id":"sicp2.1.2","title":"SICP 2.1.2 Abstraction barriers","date":"2020-07-08T21:44:14.000Z","tags":["SICP"],"updated_at":"2021-04-20T00:38:16+02:00","content":"<p>In this section I'm starting to have strong need for types.</p>\n<p>Code in exercises becomes more verbose.</p>\n<h2 id=\"exercise-22\">Exercise 2.2</h2>\n<pre><code class=\"hljs language-scheme\">(<span class=\"hljs-name\"><span class=\"hljs-built_in\">define</span></span> make-segment cons)\n(<span class=\"hljs-name\"><span class=\"hljs-built_in\">define</span></span> start-segment car)\n(<span class=\"hljs-name\"><span class=\"hljs-built_in\">define</span></span> end-segment cdr)\n\n(<span class=\"hljs-name\"><span class=\"hljs-built_in\">define</span></span> make-point cons)\n(<span class=\"hljs-name\"><span class=\"hljs-built_in\">define</span></span> x-point car)\n(<span class=\"hljs-name\"><span class=\"hljs-built_in\">define</span></span> y-point cdr)\n\n(<span class=\"hljs-name\"><span class=\"hljs-built_in\">define</span></span> (<span class=\"hljs-name\">mid-segment</span> segment)\n  (<span class=\"hljs-name\"><span class=\"hljs-built_in\">let</span></span> (\n    (<span class=\"hljs-name\">s</span> (<span class=\"hljs-name\">start-segment</span> segment))\n    (<span class=\"hljs-name\">e</span> (<span class=\"hljs-name\">end-segment</span> segment))\n  )\n\n  (<span class=\"hljs-name\">make-point</span>\n    (<span class=\"hljs-name\"><span class=\"hljs-built_in\">/</span></span> (<span class=\"hljs-name\"><span class=\"hljs-built_in\">+</span></span> (<span class=\"hljs-name\">x-point</span> s) (<span class=\"hljs-name\">x-point</span> e)) <span class=\"hljs-number\">2</span>)\n    (<span class=\"hljs-name\"><span class=\"hljs-built_in\">/</span></span> (<span class=\"hljs-name\"><span class=\"hljs-built_in\">+</span></span> (<span class=\"hljs-name\">y-point</span> s) (<span class=\"hljs-name\">y-point</span> e)) <span class=\"hljs-number\">2</span>)\n  ))\n)\n\n(<span class=\"hljs-name\"><span class=\"hljs-built_in\">define</span></span> (<span class=\"hljs-name\">print-point</span> p)\n  (<span class=\"hljs-name\"><span class=\"hljs-built_in\">newline</span></span>)\n  (<span class=\"hljs-name\"><span class=\"hljs-built_in\">display</span></span> <span class=\"hljs-string\">\"(\"</span>)\n  (<span class=\"hljs-name\"><span class=\"hljs-built_in\">display</span></span> (<span class=\"hljs-name\">x-point</span> p))\n  (<span class=\"hljs-name\"><span class=\"hljs-built_in\">display</span></span> <span class=\"hljs-string\">\",\"</span>)\n  (<span class=\"hljs-name\"><span class=\"hljs-built_in\">display</span></span> (<span class=\"hljs-name\">y-point</span> p))\n  (<span class=\"hljs-name\"><span class=\"hljs-built_in\">display</span></span> <span class=\"hljs-string\">\")\"</span>))\n\n(<span class=\"hljs-name\"><span class=\"hljs-built_in\">define</span></span> a (<span class=\"hljs-name\">make-point</span> <span class=\"hljs-number\">1.0</span> <span class=\"hljs-number\">2.0</span>))\n(<span class=\"hljs-name\"><span class=\"hljs-built_in\">define</span></span> b (<span class=\"hljs-name\">make-point</span> <span class=\"hljs-number\">3.0</span> <span class=\"hljs-number\">4.0</span>))\n(<span class=\"hljs-name\"><span class=\"hljs-built_in\">define</span></span> ab (<span class=\"hljs-name\">make-segment</span> a b))\n\n(<span class=\"hljs-name\">print-point</span> (<span class=\"hljs-name\">mid-segment</span> ab))</code></pre>\n<h2 id=\"exercise-23\">Exercise 2.3</h2>\n<pre><code class=\"hljs language-scheme\">(<span class=\"hljs-name\"><span class=\"hljs-built_in\">define</span></span> make-rect cons)\n\n(<span class=\"hljs-name\"><span class=\"hljs-built_in\">define</span></span> (<span class=\"hljs-name\">area</span> rect) \n  (<span class=\"hljs-name\"><span class=\"hljs-built_in\">*</span></span> (<span class=\"hljs-name\">width-rect</span> rect) (<span class=\"hljs-name\">height-rect</span> rect))\n)\n\n(<span class=\"hljs-name\"><span class=\"hljs-built_in\">define</span></span> (<span class=\"hljs-name\">perimeter</span> rect) \n  (<span class=\"hljs-name\"><span class=\"hljs-built_in\">*</span></span> <span class=\"hljs-number\">2</span> (<span class=\"hljs-name\"><span class=\"hljs-built_in\">+</span></span> (<span class=\"hljs-name\">width-rect</span> rect) (<span class=\"hljs-name\">height-rect</span> rect)))\n)\n\n(<span class=\"hljs-name\"><span class=\"hljs-built_in\">define</span></span> (<span class=\"hljs-name\">sqr</span> x) (<span class=\"hljs-name\"><span class=\"hljs-built_in\">*</span></span> x x))\n<span class=\"hljs-comment\">;; Some useful stuff for testing</span>\n\n<span class=\"hljs-comment\">;  d  c</span>\n<span class=\"hljs-comment\">;</span>\n<span class=\"hljs-comment\">;  a  b</span>\n(<span class=\"hljs-name\"><span class=\"hljs-built_in\">define</span></span> a (<span class=\"hljs-name\">make-point</span> <span class=\"hljs-number\">0.0</span> <span class=\"hljs-number\">0.0</span>))\n(<span class=\"hljs-name\"><span class=\"hljs-built_in\">define</span></span> b (<span class=\"hljs-name\">make-point</span> <span class=\"hljs-number\">1.0</span> <span class=\"hljs-number\">0.0</span>))\n(<span class=\"hljs-name\"><span class=\"hljs-built_in\">define</span></span> c (<span class=\"hljs-name\">make-point</span> <span class=\"hljs-number\">1.0</span> <span class=\"hljs-number\">1.0</span>))\n(<span class=\"hljs-name\"><span class=\"hljs-built_in\">define</span></span> d (<span class=\"hljs-name\">make-point</span> <span class=\"hljs-number\">0.0</span> <span class=\"hljs-number\">1.0</span>))\n\n(<span class=\"hljs-name\"><span class=\"hljs-built_in\">define</span></span> ab (<span class=\"hljs-name\">make-segment</span> a b))\n(<span class=\"hljs-name\"><span class=\"hljs-built_in\">define</span></span> ad (<span class=\"hljs-name\">make-segment</span> a d))\n\n<span class=\"hljs-comment\">;;; representation 1 - adjacent sides</span>\n(<span class=\"hljs-name\"><span class=\"hljs-built_in\">define</span></span> rect (<span class=\"hljs-name\">make-rect</span> ab ad))\n\n(<span class=\"hljs-name\"><span class=\"hljs-built_in\">define</span></span> (<span class=\"hljs-name\">distance</span> point-a point-b)\n  (<span class=\"hljs-name\"><span class=\"hljs-built_in\">sqrt</span></span> (<span class=\"hljs-name\"><span class=\"hljs-built_in\">+</span></span>\n      (<span class=\"hljs-name\">sqr</span> (<span class=\"hljs-name\"><span class=\"hljs-built_in\">-</span></span> (<span class=\"hljs-name\">x-point</span> point-a) (<span class=\"hljs-name\">x-point</span> point-b)))\n      (<span class=\"hljs-name\">sqr</span> (<span class=\"hljs-name\"><span class=\"hljs-built_in\">-</span></span> (<span class=\"hljs-name\">y-point</span> point-a) (<span class=\"hljs-name\">y-point</span> point-b)))\n  ))\n)\n(<span class=\"hljs-name\"><span class=\"hljs-built_in\">define</span></span> (<span class=\"hljs-name\"><span class=\"hljs-built_in\">length</span></span> segment)\n  (<span class=\"hljs-name\">distance</span> (<span class=\"hljs-name\">start-segment</span> segment) (<span class=\"hljs-name\">end-segment</span> segment))\n)\n(<span class=\"hljs-name\"><span class=\"hljs-built_in\">define</span></span> (<span class=\"hljs-name\">width-rect</span> rect)\n  (<span class=\"hljs-name\"><span class=\"hljs-built_in\">length</span></span> (<span class=\"hljs-name\"><span class=\"hljs-built_in\">car</span></span> rect))\n)\n(<span class=\"hljs-name\"><span class=\"hljs-built_in\">define</span></span> (<span class=\"hljs-name\">height-rect</span> rect)\n  (<span class=\"hljs-name\"><span class=\"hljs-built_in\">length</span></span> (<span class=\"hljs-name\"><span class=\"hljs-built_in\">cdr</span></span> rect))\n)\n\n<span class=\"hljs-comment\">;;; representation 2 - opposite points </span>\n\n(<span class=\"hljs-name\"><span class=\"hljs-built_in\">define</span></span> rect (<span class=\"hljs-name\">make-rect</span> a c))\n\n(<span class=\"hljs-name\"><span class=\"hljs-built_in\">define</span></span> (<span class=\"hljs-name\">width-rect</span> rect)\n  (<span class=\"hljs-name\"><span class=\"hljs-built_in\">abs</span></span> (<span class=\"hljs-name\"><span class=\"hljs-built_in\">-</span></span>\n    (<span class=\"hljs-name\">x-point</span> (<span class=\"hljs-name\"><span class=\"hljs-built_in\">car</span></span> rect))\n    (<span class=\"hljs-name\">x-point</span> (<span class=\"hljs-name\"><span class=\"hljs-built_in\">cdr</span></span> rect))\n  ))\n)\n(<span class=\"hljs-name\"><span class=\"hljs-built_in\">define</span></span> (<span class=\"hljs-name\">height-rect</span> rect)\n  (<span class=\"hljs-name\"><span class=\"hljs-built_in\">abs</span></span> (<span class=\"hljs-name\"><span class=\"hljs-built_in\">-</span></span>\n    (<span class=\"hljs-name\">y-point</span> (<span class=\"hljs-name\"><span class=\"hljs-built_in\">car</span></span> rect))\n    (<span class=\"hljs-name\">y-point</span> (<span class=\"hljs-name\"><span class=\"hljs-built_in\">cdr</span></span> rect))\n  ))\n)</code></pre>"},"__N_SSG":true}